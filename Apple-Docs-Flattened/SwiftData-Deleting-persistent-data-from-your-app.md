Source: https://developer.apple.com/documentation/SwiftData/Deleting-persistent-data-from-your-app

[ Skip Navigation ](https://developer.apple.com/documentation/SwiftData/Deleting-persistent-data-from-your-app#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/SwiftData/Deleting-persistent-data-from-your-app#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/SwiftData/Deleting-persistent-data-from-your-app)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/SwiftData/Deleting-persistent-data-from-your-app)
  * SwiftLanguage: Swift


[](https://developer.apple.com/documentation/SwiftData/Deleting-persistent-data-from-your-app)
## [ SwiftData  ](https://developer.apple.com/documentation/swiftdata)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
32 of 56 symbols inside <root> [Maintaining a local copy of server data](https://developer.apple.com/documentation/swiftdata/maintaining-a-local-copy-of-server-data)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
#
14 of 56 symbols inside <root> [macro Relationship(Schema.Relationship.Option..., deleteRule: Schema.Relationship.DeleteRule, minimumModelCount: Int?, maximumModelCount: Int?, originalName: String?, inverse: AnyKeyPath?, hashModifier: String?)](https://developer.apple.com/documentation/swiftdata/relationship\(_:deleterule:minimummodelcount:maximummodelcount:originalname:inverse:hashmodifier:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
#
15 of 56 symbols inside <root> [macro Transient()](https://developer.apple.com/documentation/swiftdata/transient\(\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
16 of 56 symbols inside <root>
Model life cycle
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
17 of 56 symbols inside <root> containing 21 symbols[ModelContainer](https://developer.apple.com/documentation/swiftdata/modelcontainer)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
18 of 56 symbols inside <root> containing 47 symbols[ModelContext](https://developer.apple.com/documentation/swiftdata/modelcontext)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
19 of 56 symbols inside <root> [Fetching and filtering time-based model changes](https://developer.apple.com/documentation/swiftdata/fetching-and-filtering-time-based-model-changes)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
20 of 56 symbols inside <root> containing 7 symbols[HistoryDescriptor](https://developer.apple.com/documentation/swiftdata/historydescriptor)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
21 of 56 symbols inside <root> [Deleting persistent data from your app](https://developer.apple.com/documentation/swiftdata/deleting-persistent-data-from-your-app)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
22 of 56 symbols inside <root> [Reverting data changes using the undo manager](https://developer.apple.com/documentation/swiftdata/reverting-data-changes-using-the-undo-manager)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
23 of 56 symbols inside <root> [Syncing model data across a person’s devices](https://developer.apple.com/documentation/swiftdata/syncing-model-data-across-a-persons-devices)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
24 of 56 symbols inside <root> containing 7 symbols[Concurrency support](https://developer.apple.com/documentation/swiftdata/concurrencysupport)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
25 of 56 symbols inside <root>
Model fetch
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
26 of 56 symbols inside <root> [Filtering and sorting persistent data](https://developer.apple.com/documentation/swiftdata/filtering-and-sorting-persistent-data)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
#
27 of 56 symbols inside <root> [macro Query()](https://developer.apple.com/documentation/swiftdata/query\(\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
28 of 56 symbols inside <root> containing 13 symbols[Additional query macros](https://developer.apple.com/documentation/swiftdata/additionalquerymacros)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
29 of 56 symbols inside <root> containing 14 symbols[Query](https://developer.apple.com/documentation/swiftdata/query)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
30 of 56 symbols inside <root> containing 13 symbols[FetchDescriptor](https://developer.apple.com/documentation/swiftdata/fetchdescriptor)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
31 of 56 symbols inside <root>
Model storage
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
32 of 56 symbols inside <root> [Maintaining a local copy of server data](https://developer.apple.com/documentation/swiftdata/maintaining-a-local-copy-of-server-data)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
33 of 56 symbols inside <root> containing 6 symbols[DefaultStore](https://developer.apple.com/documentation/swiftdata/defaultstore)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
34 of 56 symbols inside <root> containing 28 symbols[DataStore](https://developer.apple.com/documentation/swiftdata/datastore)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
35 of 56 symbols inside <root> containing 3 symbols[DataStoreBatching](https://developer.apple.com/documentation/swiftdata/datastorebatching)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
36 of 56 symbols inside <root> containing 8 symbols[HistoryProviding](https://developer.apple.com/documentation/swiftdata/historyproviding)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
37 of 56 symbols inside <root> [Building a document-based app using SwiftData](https://developer.apple.com/documentation/swiftui/building-a-document-based-app-using-swiftdata)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
38 of 56 symbols inside <root> [ModelDocument](https://developer.apple.com/documentation/swiftdata/modeldocument)
56 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ SwiftData ](https://developer.apple.com/documentation/swiftdata)
  * [ Deleting persistent data from your app ](https://developer.apple.com/documentation/SwiftData/Deleting-persistent-data-from-your-app)
  *     * Deleting persistent data from your app 


Sample Code
# Deleting persistent data from your app
Explore different ways to use SwiftData to delete persistent data.
[ Download ](https://docs-assets.developer.apple.com/published/f84bac78ac34/SwiftDataAnimals.zip)
iOS 17.0+iPadOS 17.0+macOS 14.0+tvOS 17.0+Xcode 15.0+
## [Overview](https://developer.apple.com/documentation/SwiftData/Deleting-persistent-data-from-your-app#Overview)
Data-driven apps typically provide a way for a person to delete data, and this sample is no exception. It shows three ways to remove data stored in a SwiftData model container:
  * Swiping to delete
  * Deleting with confirmation
  * Deleting all


Note
If you want to learn how to add and edit data using SwiftData, see [Adding and editing persistent data in your app](https://developer.apple.com/documentation/swiftdata/adding-and-editing-persistent-data-in-your-app).
## [Swipe to delete](https://developer.apple.com/documentation/SwiftData/Deleting-persistent-data-from-your-app#Swipe-to-delete)
The sample app shows a list of animals. A person using the app can delete an animal using a swipe gesture. For example, the following code adds the swipe-to-delete option to the `AnimalList` view by applying the [`onDelete(perform:)`](https://developer.apple.com/documentation/SwiftUI/DynamicViewContent/onDelete\(perform:\)) modifier to [`ForEach`](https://developer.apple.com/documentation/SwiftUI/ForEach):
```
private struct AnimalList: View {
    @Environment(NavigationContext.self) private var navigationContext
    @Environment(\.modelContext) private var modelContext
    @Query(sort: \Animal.name) private var animals: [Animal]


    var body: some View {
        @Bindable var navigationContext = navigationContext
        List(selection: $navigationContext.selectedAnimal) {
            ForEach(animals) { animal in
                NavigationLink(animal.name, value: animal)
            }
            .onDelete(perform: removeAnimals)
        }
    }
}

```

The [`onDelete(perform:)`](https://developer.apple.com/documentation/SwiftUI/DynamicViewContent/onDelete\(perform:\)) modifier in the previous code calls the custom method `removeAnimals` to remove one or more animals from the list. This method receives an [`IndexSet`](https://developer.apple.com/documentation/Foundation/IndexSet) which identifies the animals to delete. The method then iterates through the index set, deleting each animal using the [`ModelContext`](https://developer.apple.com/documentation/swiftdata/modelcontext) method [`delete(_:)`](https://developer.apple.com/documentation/swiftdata/modelcontext/delete\(_:\)).
```
private func removeAnimals(at indexSet: IndexSet) {
    for index in indexSet {
        modelContext.delete(animals[index])
    }
}

```

However, it’s possible for a person using this sample to delete the selected animal, so the `removeAnimals` method needs to unselect the animal before deleting it. The updated version of `removeAnimals` uses the [`persistentModelID`](https://developer.apple.com/documentation/swiftdata/persistentmodel/persistentmodelid) to determine whether the animal to delete is also the selected animal. If it is, the method sets the selected animal to `nil`.
```
private func removeAnimals(at indexSet: IndexSet) {
    for index in indexSet {
        let animalToDelete = animals[index]
        if navigationContext.selectedAnimal?.persistentModelID == animalToDelete.persistentModelID {
            navigationContext.selectedAnimal = nil
        }
        modelContext.delete(animalToDelete)
    }
}

```

The sample uses the SwiftData autosave feature, which is enabled by default when creating a [`ModelContainer`](https://developer.apple.com/documentation/swiftdata/modelcontainer) using the [`modelContainer(for:inMemory:isAutosaveEnabled:isUndoEnabled:onSetup:)`](https://developer.apple.com/documentation/SwiftUI/View/modelContainer\(for:inMemory:isAutosaveEnabled:isUndoEnabled:onSetup:\)-18hhy) modifier. If this feature is disabled, the `removeAnimals` method needs to explicitly save the change by calling the [`ModelContext`](https://developer.apple.com/documentation/swiftdata/modelcontext) method [`save()`](https://developer.apple.com/documentation/swiftdata/modelcontext/save\(\)); for example:
```
private func removeAnimals(at indexSet: IndexSet) {
    do {
	    for index in indexSet {
	        let animalToDelete = animals[index]
	        if navigationContext.selectedAnimal?.persistentModelID == animalToDelete.persistentModelID {
	            navigationContext.selectedAnimal = nil
	        }
	        modelContext.delete(animalToDelete)
	    }
        try modelContext.save()
    } catch {
        // Handle error.
    }
}

```

Note
To disable the autosave feature, set the `isAutoSaveEnabled` parameter to `false` when creating the model container using the [`modelContainer(for:inMemory:isAutosaveEnabled:isUndoEnabled:onSetup:)`](https://developer.apple.com/documentation/SwiftUI/View/modelContainer\(for:inMemory:isAutosaveEnabled:isUndoEnabled:onSetup:\)-18hhy) modifier. You can also disable autosave by setting set the model context property [`autosaveEnabled`](https://developer.apple.com/documentation/swiftdata/modelcontext/autosaveenabled) to `false`.
## [Delete with confirmation](https://developer.apple.com/documentation/SwiftData/Deleting-persistent-data-from-your-app#Delete-with-confirmation)
The sample app also lets a person delete the selected animal by clicking the Trash button that `AnimalDetailView` displays in its toolbar.
```
struct AnimalDetailView: View {
    var animal: Animal?
    @State private var isDeleting = false
    @Environment(\.modelContext) private var modelContext
    @Environment(NavigationContext.self) private var navigationContext


    var body: some View {
        if let animal {
            AnimalDetailContentView(animal: animal)
                .navigationTitle("\(animal.name)")
                .toolbar {
                    Button { isDeleting = true } label: {
                        Label("Delete \(animal.name)", systemImage: "trash")
                            .help("Delete the animal")
                    }
                }
        } else {
            ContentUnavailableView("Select an animal", systemImage: "pawprint")
        }
    }
}

```

The action for the button set the state variable `isDeleting` to `true`, which displays the delete confirmation alert described in the following code:
```
.alert("Delete \(animal.name)?", isPresented: $isDeleting) {
    Button("Yes, delete \(animal.name)", role: .destructive) {
        delete(animal)
    }
}

```

After confirming the delete request, the action for the confirmation button calls the custom `delete` method. This method sets the selected animal to `nil`, then deletes the animal from the model context by calling the [`delete(_:)`](https://developer.apple.com/documentation/swiftdata/modelcontext/delete\(_:\)) method.
```
private func delete(_ animal: Animal) {
    navigationContext.selectedAnimal = nil
    modelContext.delete(animal)
}

```

If the SwiftData autosave feature was disabled, the `delete` method would need to explicitly save the change by calling the `ModelContext` method [`save()`](https://developer.apple.com/documentation/swiftdata/modelcontext/save\(\)); for example:
```
private func delete(_ animal: Animal) {
    do {
        navigationContext.selectedAnimal = nil
        modelContext.delete(animal)
        try modelContext.save()
    } catch {
        // Handle error.
    }
}

```

## [Delete all](https://developer.apple.com/documentation/SwiftData/Deleting-persistent-data-from-your-app#Delete-all)
Deleting all items of a particular model type is less common in data driven apps, but there may be times when having this option is helpful. For example, the sample apps lets a person reload sample data that comes with the app. Reloading the sample data deletes all animal categories and animals from persistent storage.
To delete all items of a particular model type, use the [`ModelContext`](https://developer.apple.com/documentation/swiftdata/modelcontext) method [`delete(model:where:includeSubclasses:)`](https://developer.apple.com/documentation/swiftdata/modelcontext/delete\(model:where:includesubclasses:\)). For example, the following code deletes all animal categories before reloading the sample data:
```
static func reloadSampleData(modelContext: ModelContext) {
    do {
        try modelContext.delete(model: AnimalCategory.self)
        insertSampleData(modelContext: modelContext)
    } catch {
        fatalError(error.localizedDescription)
    }
}

```

When deleting all animal categories, SwiftData also deletes all animals within those categories. SwiftData knows to perform this cascading delete because the relationship between `AnimalCategory` and `Animal` uses the [`Schema.Relationship.DeleteRule.cascade`](https://developer.apple.com/documentation/swiftdata/schema/relationship/deleterule-swift.enum/cascade) delete rule. (For a complete list of delete rules, see [`Schema.Relationship.DeleteRule`](https://developer.apple.com/documentation/swiftdata/schema/relationship/deleterule-swift.enum).)
```
import SwiftData


@Model
final class AnimalCategory {
    @Attribute(.unique) var name: String
    // `.cascade` tells SwiftData to delete all animals contained in the 
    // category when deleting it.
    @Relationship(deleteRule: .cascade, inverse: \Animal.category)
    var animals = [Animal]()
    
    init(name: String) {
        self.name = name
    }
}

```

To delete all persistent data from your app and not just data of a certain model type, use the [`ModelContainer`](https://developer.apple.com/documentation/swiftdata/modelcontainer) method [`deleteAllData()`](https://developer.apple.com/documentation/swiftdata/modelcontainer/deletealldata\(\)).
## [See Also](https://developer.apple.com/documentation/SwiftData/Deleting-persistent-data-from-your-app#see-also)
### [Model life cycle](https://developer.apple.com/documentation/SwiftData/Deleting-persistent-data-from-your-app#Model-life-cycle)
[`class ModelContainer`](https://developer.apple.com/documentation/swiftdata/modelcontainer)
An object that manages an app’s schema and model storage configuration.
[`class ModelContext`](https://developer.apple.com/documentation/swiftdata/modelcontext)
An object that enables you to fetch, insert, and delete models, and save any changes to disk.
[Fetching and filtering time-based model changes](https://developer.apple.com/documentation/swiftdata/fetching-and-filtering-time-based-model-changes)
Track all inserts, updates, and deletes that occur in a data store and process them as a series of chronological transactions.
[`struct HistoryDescriptor`](https://developer.apple.com/documentation/swiftdata/historydescriptor)
A type that describes the criteria, and, optionally, sort order, to use when fetching history data
[Reverting data changes using the undo manager](https://developer.apple.com/documentation/swiftdata/reverting-data-changes-using-the-undo-manager)
Automatically record data change operations that people perform in your SwiftUI app, and let them undo and redo those changes.
[Syncing model data across a person’s devices](https://developer.apple.com/documentation/swiftdata/syncing-model-data-across-a-persons-devices)
Add the required capabilities and define a compatible schema to enable SwiftData to automatically sync your app’s model data using iCloud.
[API Reference Concurrency support](https://developer.apple.com/documentation/swiftdata/concurrencysupport)
Types you use to access model attributes and perform storage-related tasks in a safe and isolated way.
Current page is Deleting persistent data from your app 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2FSwiftData%2FDeleting-persistent-data-from-your-app).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
