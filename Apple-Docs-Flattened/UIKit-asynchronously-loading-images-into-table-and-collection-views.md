Source: https://developer.apple.com/documentation/UIKit/asynchronously-loading-images-into-table-and-collection-views

[ Skip Navigation ](https://developer.apple.com/documentation/UIKit/asynchronously-loading-images-into-table-and-collection-views#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/UIKit/asynchronously-loading-images-into-table-and-collection-views#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/UIKit/asynchronously-loading-images-into-table-and-collection-views)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/UIKit/asynchronously-loading-images-into-table-and-collection-views)
  * SwiftLanguage: Swift


[](https://developer.apple.com/documentation/UIKit/asynchronously-loading-images-into-table-and-collection-views)
## [ UIKit  ](https://developer.apple.com/documentation/uikit)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
15 of 42 symbols inside 2110409461 containing 10 symbols[UITableViewController](https://developer.apple.com/documentation/uikit/uitableviewcontroller)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
4 of 70 symbols inside -393359169 
Container views
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
5 of 70 symbols inside -393359169 [Autosizing views for localization in iOS](https://developer.apple.com/documentation/xcode/autosizing-views-for-localization-in-ios)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
6 of 70 symbols inside -393359169 containing 34 symbols[Collection views](https://developer.apple.com/documentation/uikit/collection-views)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
7 of 70 symbols inside -393359169 containing 42 symbols[Table views](https://developer.apple.com/documentation/uikit/table-views)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 42 symbols inside 2110409461 
Essentials
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
2 of 42 symbols inside 2110409461 containing 131 symbols[UITableView](https://developer.apple.com/documentation/uikit/uitableview)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
3 of 42 symbols inside 2110409461 
Data
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
4 of 42 symbols inside 2110409461 [Filling a table with data](https://developer.apple.com/documentation/uikit/filling-a-table-with-data)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
5 of 42 symbols inside 2110409461 [Asynchronously loading images into table and collection views](https://developer.apple.com/documentation/uikit/asynchronously-loading-images-into-table-and-collection-views)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
6 of 42 symbols inside 2110409461 containing 16 symbols[UITableViewDataSource](https://developer.apple.com/documentation/uikit/uitableviewdatasource)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
7 of 42 symbols inside 2110409461 containing 3 symbols[UITableViewDataSourcePrefetching](https://developer.apple.com/documentation/uikit/uitableviewdatasourceprefetching)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
8 of 42 symbols inside 2110409461 containing 20 symbols[UITableViewDiffableDataSource](https://developer.apple.com/documentation/uikit/uitableviewdiffabledatasource-2euir)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
9 of 42 symbols inside 2110409461 containing 38 symbols[NSDiffableDataSourceSnapshot](https://developer.apple.com/documentation/uikit/nsdiffabledatasourcesnapshot-swift.struct)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
10 of 42 symbols inside 2110409461 containing 9 symbols[UILocalizedIndexedCollation](https://developer.apple.com/documentation/uikit/uilocalizedindexedcollation)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
11 of 42 symbols inside 2110409461 containing 8 symbols[UIDataSourceTranslating](https://developer.apple.com/documentation/uikit/uidatasourcetranslating)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
12 of 42 symbols inside 2110409461 containing 9 symbols[UIRefreshControl](https://developer.apple.com/documentation/uikit/uirefreshcontrol)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
13 of 42 symbols inside 2110409461 
Table management
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
14 of 42 symbols inside 2110409461 [Estimating the height of a table’s scrolling area](https://developer.apple.com/documentation/uikit/estimating-the-height-of-a-table-s-scrolling-area)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
15 of 42 symbols inside 2110409461 containing 10 symbols[UITableViewController](https://developer.apple.com/documentation/uikit/uitableviewcontroller)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
16 of 42 symbols inside 2110409461 containing 70 symbols[UITableViewDelegate](https://developer.apple.com/documentation/uikit/uitableviewdelegate)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
17 of 42 symbols inside 2110409461 containing 3 symbols[UITableViewFocusUpdateContext](https://developer.apple.com/documentation/uikit/uitableviewfocusupdatecontext)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
18 of 42 symbols inside 2110409461 
Cells, headers, and footers
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
19 of 42 symbols inside 2110409461 [Configuring the cells for your table](https://developer.apple.com/documentation/uikit/configuring-the-cells-for-your-table)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
20 of 42 symbols inside 2110409461 [Creating self-sizing table view cells](https://developer.apple.com/documentation/uikit/creating-self-sizing-table-view-cells)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
21 of 42 symbols inside 2110409461 [Adding headers and footers to table sections](https://developer.apple.com/documentation/uikit/adding-headers-and-footers-to-table-sections)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
22 of 42 symbols inside 2110409461 containing 66 symbols[UITableViewCell](https://developer.apple.com/documentation/uikit/uitableviewcell)
158 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ UIKit ](https://developer.apple.com/documentation/uikit)
  * [ Views and controls ](https://developer.apple.com/documentation/uikit/views-and-controls)
  * [ Table views ](https://developer.apple.com/documentation/uikit/table-views)
  * [ Asynchronously loading images into table and collection views ](https://developer.apple.com/documentation/UIKit/asynchronously-loading-images-into-table-and-collection-views)
  *     * [ Views and controls ](https://developer.apple.com/documentation/uikit/views-and-controls)
    * [ Table views ](https://developer.apple.com/documentation/uikit/table-views)
    * Asynchronously loading images into table and collection views 


Sample Code
# Asynchronously loading images into table and collection views
Store and fetch images asynchronously to make your app more responsive.
[ Download ](https://docs-assets.developer.apple.com/published/ddaa59c48206/AsynchronouslyLoadingImagesIntoTableAndCollectionViews.zip)
iOS 17.0+iPadOS 17.0+Mac Catalyst 17.0+Xcode 15.0+
## [Overview](https://developer.apple.com/documentation/UIKit/asynchronously-loading-images-into-table-and-collection-views#Overview)
Caching images can help you make the table and collection views in your app instantiate fast and respond quickly to scrolling. The app in the sample project demonstrates fetching images with URLs. The images are not part of the assets catalog and instead are a part of the app bundle to simulate loading each asynchronously by URL. This ensures the user interface remains responsive. This project also supports Mac Catalyst.
### [Handle image loading and caching](https://developer.apple.com/documentation/UIKit/asynchronously-loading-images-into-table-and-collection-views#Handle-image-loading-and-caching)
In the sample, the class `ImageCache.swift` demonstrates a basic mechanism for image loading from a URL with [`NSURLSession`](https://developer.apple.com/documentation/Foundation/URLSession) and caching the downloaded images using [`NSCache`](https://developer.apple.com/documentation/Foundation/NSCache). Views such as `UITableView` and `UICollectionView` are subclasses of `UIScrollView`.
As the user scrolls in a view, the app requests the same image repeatedly. This sample holds onto the relevant completion blocks until the image loads, then passes the image to all of the requesting blocks so the API only has to make one call to fetch an image for a given URL. The following code shows how the sample project constructs a basic caching and loading method:
```
// Returns the cached image if available, otherwise asynchronously loads and caches it.
final func load(url: NSURL, item: Item, completion: @escaping (Item, UIImage?) -> Swift.Void) {
    // Check for a cached image.
    if let cachedImage = image(url: url) {
        DispatchQueue.main.async {
            completion(item, cachedImage)
        }
        return
    }
    // In case there are more than one requestor for the image, we append their completion block.
    if loadingResponses[url] != nil {
        loadingResponses[url]?.append(completion)
        return
    } else {
        loadingResponses[url] = [completion]
    }
    // Go fetch the image.
    ImageURLProtocol.urlSession().dataTask(with: url as URL) { (data, response, error) in
        // Check for the error, then data and try to create the image.
        guard let responseData = data, let image = UIImage(data: responseData),
            let blocks = self.loadingResponses[url], error == nil else {
            DispatchQueue.main.async {
                completion(item, nil)
            }
            return
        }
        // Cache the image.
        self.cachedImages.setObject(image, forKey: url, cost: responseData.count)
        // Iterate over each requestor for the image and pass it back.
        for block in blocks {
            DispatchQueue.main.async {
                block(item, image)
            }
            return
        }
    }.resume()
}

```

### [Update your datasource responsibly](https://developer.apple.com/documentation/UIKit/asynchronously-loading-images-into-table-and-collection-views#Update-your-datasource-responsibly)
An app that loads all of its data on launch risks running out of memory or terminating for taking too long to complete. Unless the app requires all data to be loaded before operation, load your images as the UI requests them.
Note
To ensure items load before becoming visible on screen, make use of prefetching APIs when applicable. See [Prefetching collection view data](https://developer.apple.com/documentation/uikit/prefetching-collection-view-data) for best practices of prefetching data.
Generally the app should wait until the data source requests a cell to fetch and set an image. The sample project demonstrates one approach to fetching and displaying an image on a reusable view:
```
var content = cell.defaultContentConfiguration()
content.image = item.image
ImageCache.publicCache.load(url: item.url as NSURL, item: item) { (fetchedItem, image) in
    if let img = image, img != fetchedItem.image {
        var updatedSnapshot = self.dataSource.snapshot()
        if let datasourceIndex = updatedSnapshot.indexOfItem(fetchedItem) {
            let item = self.imageObjects[datasourceIndex]
            item.image = img
            updatedSnapshot.reloadItems([item])
            self.dataSource.apply(updatedSnapshot, animatingDifferences: true)
        }
    }
}
cell.contentConfiguration = content

```

## [See Also](https://developer.apple.com/documentation/UIKit/asynchronously-loading-images-into-table-and-collection-views#see-also)
### [Data](https://developer.apple.com/documentation/UIKit/asynchronously-loading-images-into-table-and-collection-views#Data)
[Filling a table with data](https://developer.apple.com/documentation/uikit/filling-a-table-with-data)
Create and configure cells for your table dynamically using a data source object, or provide them statically from your storyboard.
[`protocol UITableViewDataSource`](https://developer.apple.com/documentation/uikit/uitableviewdatasource)
The methods that an object adopts to manage data and provide cells for a table view.
[`protocol UITableViewDataSourcePrefetching`](https://developer.apple.com/documentation/uikit/uitableviewdatasourceprefetching)
A protocol that provides advance warning of the data requirements for a table view, allowing you to start potentially long-running data operations early.
[`class UITableViewDiffableDataSource`](https://developer.apple.com/documentation/uikit/uitableviewdiffabledatasource-2euir)
The object you use to manage data and provide cells for a table view.
[`struct NSDiffableDataSourceSnapshot`](https://developer.apple.com/documentation/uikit/nsdiffabledatasourcesnapshot-swift.struct)
A representation of the state of the data in a view at a specific point in time.
[`class UILocalizedIndexedCollation`](https://developer.apple.com/documentation/uikit/uilocalizedindexedcollation)
An object that organizes, sorts, and localizes the data for a table view that has a section index.
[`protocol UIDataSourceTranslating`](https://developer.apple.com/documentation/uikit/uidatasourcetranslating)
An advanced interface for managing a data source object.
[`class UIRefreshControl`](https://developer.apple.com/documentation/uikit/uirefreshcontrol)
A standard control that can initiate the refreshing of a scroll view’s contents.
Current page is Asynchronously loading images into table and collection views 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2FUIKit%2Fasynchronously-loading-images-into-table-and-collection-views).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
