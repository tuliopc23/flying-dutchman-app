Source: https://developer.apple.com/documentation/avfoundation/avassetwriter

[ Skip Navigation ](https://developer.apple.com/documentation/avfoundation/avassetwriter#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/avfoundation/avassetwriter#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/avfoundation/avassetwriter)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/avfoundation/avassetwriter)
  * SwiftLanguage:  Swift  Objective-C 
Language: 
    * Swift 
    * [ Objective-C ](https://developer.apple.com/documentation/avfoundation/avassetwriter)


[](https://developer.apple.com/documentation/avfoundation/avassetwriter)
## [ AVFoundation  ](https://developer.apple.com/documentation/avfoundation)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 31 symbols inside <root>
Essentials
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
2 of 31 symbols inside <root> [AVFoundation updates](https://developer.apple.com/documentation/updates/avfoundation)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
3 of 31 symbols inside <root>
Common
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
4 of 31 symbols inside <root> containing 28 symbols[Media assets](https://developer.apple.com/documentation/avfoundation/media-assets)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
5 of 31 symbols inside <root> containing 31 symbols[Media reading and writing](https://developer.apple.com/documentation/avfoundation/media-reading-and-writing)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 31 symbols inside 480790132 
Media export
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
2 of 31 symbols inside 480790132 [Exporting video to alternative formats](https://developer.apple.com/documentation/avfoundation/exporting-video-to-alternative-formats)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
3 of 31 symbols inside 480790132 containing 50 symbols[AVAssetExportSession](https://developer.apple.com/documentation/avfoundation/avassetexportsession)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
4 of 31 symbols inside 480790132 
Image generation
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
5 of 31 symbols inside 480790132 [Creating images from a video asset](https://developer.apple.com/documentation/avfoundation/creating-images-from-a-video-asset)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
6 of 31 symbols inside 480790132 containing 25 symbols[AVAssetImageGenerator](https://developer.apple.com/documentation/avfoundation/avassetimagegenerator)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
7 of 31 symbols inside 480790132 
Media reading
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
8 of 31 symbols inside 480790132 [Reading multiview 3D video files](https://developer.apple.com/documentation/avfoundation/reading-multiview-3d-video-files)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
9 of 31 symbols inside 480790132 containing 24 symbols[AVAssetReader](https://developer.apple.com/documentation/avfoundation/avassetreader)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
10 of 31 symbols inside 480790132 containing 12 symbols[AVAssetReaderOutput](https://developer.apple.com/documentation/avfoundation/avassetreaderoutput)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
11 of 31 symbols inside 480790132 containing 8 symbols[AVAssetReaderTrackOutput](https://developer.apple.com/documentation/avfoundation/avassetreadertrackoutput)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
12 of 31 symbols inside 480790132 containing 8 symbols[AVAssetReaderAudioMixOutput](https://developer.apple.com/documentation/avfoundation/avassetreaderaudiomixoutput)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
13 of 31 symbols inside 480790132 containing 8 symbols[AVAssetReaderVideoCompositionOutput](https://developer.apple.com/documentation/avfoundation/avassetreadervideocompositionoutput)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
16 of 31 symbols inside 480790132 
Media writing
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
17 of 31 symbols inside 480790132 [Converting projected video to Apple Projected Media Profile](https://developer.apple.com/documentation/avfoundation/converting-projected-video-to-apple-projected-media-profile)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
17 of 31 symbols inside 480790132 [Converting projected video to Apple Projected Media Profile](https://developer.apple.com/documentation/avfoundation/converting-projected-video-to-apple-projected-media-profile)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
18 of 31 symbols inside 480790132 [Converting side-by-side 3D video to multiview HEVC and spatial video](https://developer.apple.com/documentation/avfoundation/converting-side-by-side-3d-video-to-multiview-hevc-and-spatial-video)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
19 of 31 symbols inside 480790132 [Writing fragmented MPEG-4 files for HTTP Live Streaming](https://developer.apple.com/documentation/avfoundation/writing-fragmented-mpeg-4-files-for-http-live-streaming)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
20 of 31 symbols inside 480790132 [Creating spatial photos and videos with spatial metadata](https://developer.apple.com/documentation/imageio/creating-spatial-photos-and-videos-with-spatial-metadata)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
21 of 31 symbols inside 480790132 [Tagging media with video color information](https://developer.apple.com/documentation/avfoundation/tagging-media-with-video-color-information)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
22 of 31 symbols inside 480790132 containing 4 symbols[Evaluating an app’s video color](https://developer.apple.com/documentation/avfoundation/evaluating-an-app-s-video-color)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
23 of 31 symbols inside 480790132 containing 12 symbols[AVOutputSettingsAssistant](https://developer.apple.com/documentation/avfoundation/avoutputsettingsassistant)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
24 of 31 symbols inside 480790132 containing 58 symbols[AVAssetWriter](https://developer.apple.com/documentation/avfoundation/avassetwriter)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 58 symbols inside 139644480 
Creating an asset writer
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
2 of 58 symbols inside 139644480 [convenience init(url: URL, fileType: AVFileType) throws](https://developer.apple.com/documentation/avfoundation/avassetwriter/init\(url:filetype:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
3 of 58 symbols inside 139644480 [init(outputURL: URL, fileType: AVFileType) throws](https://developer.apple.com/documentation/avfoundation/avassetwriter/init\(outputurl:filetype:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
4 of 58 symbols inside 139644480 [init(contentType: UTType)](https://developer.apple.com/documentation/avfoundation/avassetwriter/init\(contenttype:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
5 of 58 symbols inside 139644480 
Configuring inputs
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
6 of 58 symbols inside 139644480 [var inputs: [AVAssetWriterInput]](https://developer.apple.com/documentation/avfoundation/avassetwriter/inputs)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
7 of 58 symbols inside 139644480 [var availableMediaTypes: [AVMediaType]](https://developer.apple.com/documentation/avfoundation/avassetwriter/availablemediatypes)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
8 of 58 symbols inside 139644480 [func canApply(outputSettings: [String : Any]?, forMediaType: AVMediaType) -> Bool](https://developer.apple.com/documentation/avfoundation/avassetwriter/canapply\(outputsettings:formediatype:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
9 of 58 symbols inside 139644480 [func canAdd(AVAssetWriterInput) -> Bool](https://developer.apple.com/documentation/avfoundation/avassetwriter/canadd\(_:\)-6al7j)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
10 of 58 symbols inside 139644480 [func add(AVAssetWriterInput)](https://developer.apple.com/documentation/avfoundation/avassetwriter/add\(_:\)-4c4d0)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
11 of 58 symbols inside 139644480 
Configuring input receivers
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
12 of 58 symbols inside 139644480 [func inputReceiver(for: AVAssetWriterInput) -> sending AVAssetWriterInput.SampleBufferReceiver](https://developer.apple.com/documentation/avfoundation/avassetwriter/inputreceiver\(for:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
13 of 58 symbols inside 139644480 [func inputCaptionReceiver(for: AVAssetWriterInput) -> sending AVAssetWriterInput.CaptionReceiver](https://developer.apple.com/documentation/avfoundation/avassetwriter/inputcaptionreceiver\(for:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
14 of 58 symbols inside 139644480 [func inputCaptionReceiverRequestingMultiPass(for: AVAssetWriterInput) -> sending (AVAssetWriterInput.CaptionReceiver, AVAssetWriterInput.MultiPassController)](https://developer.apple.com/documentation/avfoundation/avassetwriter/inputcaptionreceiverrequestingmultipass\(for:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
15 of 58 symbols inside 139644480 [func inputMetadataReceiver(for: AVAssetWriterInput) -> sending AVAssetWriterInput.MetadataReceiver](https://developer.apple.com/documentation/avfoundation/avassetwriter/inputmetadatareceiver\(for:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
16 of 58 symbols inside 139644480 [func inputMetadataReceiverRequestingMultiPass(for: AVAssetWriterInput) -> sending (AVAssetWriterInput.MetadataReceiver, AVAssetWriterInput.MultiPassController)](https://developer.apple.com/documentation/avfoundation/avassetwriter/inputmetadatareceiverrequestingmultipass\(for:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
17 of 58 symbols inside 139644480 [func inputPixelBufferReceiver(for: AVAssetWriterInput, pixelBufferAttributes: CVPixelBufferCreationAttributes?) -> sending AVAssetWriterInput.PixelBufferReceiver](https://developer.apple.com/documentation/avfoundation/avassetwriter/inputpixelbufferreceiver\(for:pixelbufferattributes:\))
120 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ AVFoundation ](https://developer.apple.com/documentation/avfoundation)
  * [ AVAssetWriter ](https://developer.apple.com/documentation/avfoundation/avassetwriter)
  *     * AVAssetWriter 


Class
# AVAssetWriter
An object that writes media data to a container file.
iOS 4.1+iPadOS 4.1+Mac Catalyst 13.1+macOS 10.7+tvOS 9.0+visionOS 1.0+
```
class AVAssetWriter
```

## [Overview](https://developer.apple.com/documentation/avfoundation/avassetwriter#overview)
You use an asset writer to write media to file formats such as the QuickTime movie file format and MPEG-4 file format. An asset writer automatically supports interleaving media data from concurrent tracks for efficient playback and storage. It can reencode media samples it writes to the output file, and may also write collections of metadata to the output file.
Important
An asset writer is a single-use object that writes one output file. Create multiple asset writer instances if your app requires writing multiple output files.
## [Topics](https://developer.apple.com/documentation/avfoundation/avassetwriter#topics)
### [Creating an asset writer](https://developer.apple.com/documentation/avfoundation/avassetwriter#Creating-an-asset-writer)
[`convenience init(url: URL, fileType: AVFileType) throws`](https://developer.apple.com/documentation/avfoundation/avassetwriter/init\(url:filetype:\))
Returns a new object that writes media data to a container file at the output URL.
[`init(outputURL: URL, fileType: AVFileType) throws`](https://developer.apple.com/documentation/avfoundation/avassetwriter/init\(outputurl:filetype:\))
Creates an object that writes media data to a container file at the output URL.
[`init(contentType: UTType)`](https://developer.apple.com/documentation/avfoundation/avassetwriter/init\(contenttype:\))
Creates an object that outputs segment data in a specified container format.
### [Configuring inputs](https://developer.apple.com/documentation/avfoundation/avassetwriter#Configuring-inputs)
[`var inputs: [AVAssetWriterInput]`](https://developer.apple.com/documentation/avfoundation/avassetwriter/inputs)
The inputs an asset writer contains.
[`var availableMediaTypes: [AVMediaType]`](https://developer.apple.com/documentation/avfoundation/avassetwriter/availablemediatypes)
The media types the asset writer supports adding as inputs.
[`func canApply(outputSettings: [String : Any]?, forMediaType: AVMediaType) -> Bool`](https://developer.apple.com/documentation/avfoundation/avassetwriter/canapply\(outputsettings:formediatype:\))
Determines whether the output file format supports the output settings for a specific media type.
[`func canAdd(AVAssetWriterInput) -> Bool`](https://developer.apple.com/documentation/avfoundation/avassetwriter/canadd\(_:\)-6al7j)
Determines whether the asset writer supports adding the input.
[`func add(AVAssetWriterInput)`](https://developer.apple.com/documentation/avfoundation/avassetwriter/add\(_:\)-4c4d0)
Adds an input to an asset writer.
### [Configuring input receivers](https://developer.apple.com/documentation/avfoundation/avassetwriter#Configuring-input-receivers)
[`func inputReceiver(for: AVAssetWriterInput) -> sending AVAssetWriterInput.SampleBufferReceiver`](https://developer.apple.com/documentation/avfoundation/avassetwriter/inputreceiver\(for:\))
Attaches the input to the writer and returns an input receiver for writing sample buffers.
[`func inputCaptionReceiver(for: AVAssetWriterInput) -> sending AVAssetWriterInput.CaptionReceiver`](https://developer.apple.com/documentation/avfoundation/avassetwriter/inputcaptionreceiver\(for:\))
Attaches the input to the writer and returns an input receiver for writing caption data.
[`func inputCaptionReceiverRequestingMultiPass(for: AVAssetWriterInput) -> sending (AVAssetWriterInput.CaptionReceiver, AVAssetWriterInput.MultiPassController)`](https://developer.apple.com/documentation/avfoundation/avassetwriter/inputcaptionreceiverrequestingmultipass\(for:\))
Attaches the input to the writer and returns a tuple with an input receiver for writing caption data, and an associated multi pass controller.
[`func inputMetadataReceiver(for: AVAssetWriterInput) -> sending AVAssetWriterInput.MetadataReceiver`](https://developer.apple.com/documentation/avfoundation/avassetwriter/inputmetadatareceiver\(for:\))
Attaches the input to the writer and returns an input receiver for writing timed metadata group.
[`func inputMetadataReceiverRequestingMultiPass(for: AVAssetWriterInput) -> sending (AVAssetWriterInput.MetadataReceiver, AVAssetWriterInput.MultiPassController)`](https://developer.apple.com/documentation/avfoundation/avassetwriter/inputmetadatareceiverrequestingmultipass\(for:\))
Attaches the input to the writer and returns a tuple with an input receiver for writing timed metadata group, and an associated multi pass controller.
[`func inputPixelBufferReceiver(for: AVAssetWriterInput, pixelBufferAttributes: CVPixelBufferCreationAttributes?) -> sending AVAssetWriterInput.PixelBufferReceiver`](https://developer.apple.com/documentation/avfoundation/avassetwriter/inputpixelbufferreceiver\(for:pixelbufferattributes:\))
Attaches the input to the writer and returns an input receiver for writing pixel buffers.
[`func inputPixelBufferReceiverRequestingMultiPass(for: AVAssetWriterInput, pixelBufferAttributes: CVPixelBufferCreationAttributes?) -> sending (AVAssetWriterInput.PixelBufferReceiver, AVAssetWriterInput.MultiPassController)`](https://developer.apple.com/documentation/avfoundation/avassetwriter/inputpixelbufferreceiverrequestingmultipass\(for:pixelbufferattributes:\))
Attaches the input to the writer and returns a tuple with an input receiver for writing pixel buffers, and an associated multi pass controller.
[`func inputReceiverRequestingMultiPass(for: AVAssetWriterInput) -> sending (AVAssetWriterInput.SampleBufferReceiver, AVAssetWriterInput.MultiPassController)`](https://developer.apple.com/documentation/avfoundation/avassetwriter/inputreceiverrequestingmultipass\(for:\))
Attaches the input to the writer and returns a tuple with an input receiver for writing sample buffers, and an associated multi pass controller.
[`func inputTaggedPixelBufferGroupReceiver(for: AVAssetWriterInput, pixelBufferAttributes: CVPixelBufferCreationAttributes?) -> sending AVAssetWriterInput.TaggedPixelBufferGroupReceiver`](https://developer.apple.com/documentation/avfoundation/avassetwriter/inputtaggedpixelbuffergroupreceiver\(for:pixelbufferattributes:\))
Attaches the input to the writer and returns an input receiver for writing tagged pixel buffers.
[`func inputTaggedPixelBufferGroupReceiverRequestingMultiPass(for: AVAssetWriterInput, pixelBufferAttributes: CVPixelBufferCreationAttributes?) -> sending (AVAssetWriterInput.TaggedPixelBufferGroupReceiver, AVAssetWriterInput.MultiPassController)`](https://developer.apple.com/documentation/avfoundation/avassetwriter/inputtaggedpixelbuffergroupreceiverrequestingmultipass\(for:pixelbufferattributes:\))
Attaches the input to the writer and returns a tuple with an input receiver for writing tagged pixel buffers, and an associated multi pass controller.
### [Configuring input groups](https://developer.apple.com/documentation/avfoundation/avassetwriter#Configuring-input-groups)
[`var inputGroups: [AVAssetWriterInputGroup]`](https://developer.apple.com/documentation/avfoundation/avassetwriter/inputgroups)
The input groups an asset writer contains.
[`func canAdd(AVAssetWriterInputGroup) -> Bool`](https://developer.apple.com/documentation/avfoundation/avassetwriter/canadd\(_:\)-8s1oh)
Determines whether the asset writer supports adding the input group.
[`func add(AVAssetWriterInputGroup)`](https://developer.apple.com/documentation/avfoundation/avassetwriter/add\(_:\)-3san4)
Adds an input group to an asset writer.
### [Configuring output](https://developer.apple.com/documentation/avfoundation/avassetwriter#Configuring-output)
[`var metadata: [AVMetadataItem]`](https://developer.apple.com/documentation/avfoundation/avassetwriter/metadata)
An array of metadata items to write to the output file.
[`var shouldOptimizeForNetworkUse: Bool`](https://developer.apple.com/documentation/avfoundation/avassetwriter/shouldoptimizefornetworkuse)
A Boolean value that indicates whether to write the output file to make it more suitable for playback over a network.
[`var directoryForTemporaryFiles: URL?`](https://developer.apple.com/documentation/avfoundation/avassetwriter/directoryfortemporaryfiles)
A directory to contain temporary files that the export process generates.
### [Configuring fragment output](https://developer.apple.com/documentation/avfoundation/avassetwriter#Configuring-fragment-output)
[`var movieFragmentInterval: CMTime`](https://developer.apple.com/documentation/avfoundation/avassetwriter/moviefragmentinterval)
The interval at which to write movie fragments.
[`var initialMovieFragmentInterval: CMTime`](https://developer.apple.com/documentation/avfoundation/avassetwriter/initialmoviefragmentinterval)
The interval at which to write the initial movie fragment.
[`var initialMovieFragmentSequenceNumber: Int`](https://developer.apple.com/documentation/avfoundation/avassetwriter/initialmoviefragmentsequencenumber)
The sequence number of the initial movie fragment.
[`var producesCombinableFragments: Bool`](https://developer.apple.com/documentation/avfoundation/avassetwriter/producescombinablefragments)
A Boolean value that indicates whether the asset writer outputs movie fragments suitable for combining with others.
[`var overallDurationHint: CMTime`](https://developer.apple.com/documentation/avfoundation/avassetwriter/overalldurationhint)
A hint of the final duration of the output file.
[`var movieTimeScale: CMTimeScale`](https://developer.apple.com/documentation/avfoundation/avassetwriter/movietimescale)
The time scale of the movie.
### [Managing writing sessions](https://developer.apple.com/documentation/avfoundation/avassetwriter#Managing-writing-sessions)
[`func start() throws`](https://developer.apple.com/documentation/avfoundation/avassetwriter/start\(\))
Prepares the writer to write media data to its output file.
[`func startWriting() -> Bool`](https://developer.apple.com/documentation/avfoundation/avassetwriter/startwriting\(\))
Tells the writer to start writing its output.
[`func startSession(atSourceTime: CMTime)`](https://developer.apple.com/documentation/avfoundation/avassetwriter/startsession\(atsourcetime:\))
Starts an asset-writing session.
[`func endSession(atSourceTime: CMTime)`](https://developer.apple.com/documentation/avfoundation/avassetwriter/endsession\(atsourcetime:\))
Finishes an asset-writing session.
[`func finishWriting(completionHandler: () -> Void)`](https://developer.apple.com/documentation/avfoundation/avassetwriter/finishwriting\(completionhandler:\))
Marks all unfinished inputs as finished and completes the writing of the output file.
[`func cancelWriting()`](https://developer.apple.com/documentation/avfoundation/avassetwriter/cancelwriting\(\))
Cancels the creation of the output file.
[`func finishWriting() -> Bool`](https://developer.apple.com/documentation/avfoundation/avassetwriter/finishwriting\(\))
Completes the writing of the output file.
Deprecated
### [Inspecting writing status](https://developer.apple.com/documentation/avfoundation/avassetwriter#Inspecting-writing-status)
[`var status: AVAssetWriter.Status`](https://developer.apple.com/documentation/avfoundation/avassetwriter/status-swift.property)
The status of writing samples to the output file.
[`enum Status`](https://developer.apple.com/documentation/avfoundation/avassetwriter/status-swift.enum)
Values that indicate the state of an asset writer.
[`var error: (any Error)?`](https://developer.apple.com/documentation/avfoundation/avassetwriter/error)
An error object that describes an asset-writing failure.
### [Configuring segment writing](https://developer.apple.com/documentation/avfoundation/avassetwriter#Configuring-segment-writing)
[`var delegate: (any AVAssetWriterDelegate)?`](https://developer.apple.com/documentation/avfoundation/avassetwriter/delegate)
A delegate object that responds to asset-writing events.
[`protocol AVAssetWriterDelegate`](https://developer.apple.com/documentation/avfoundation/avassetwriterdelegate)
A delegate protocol that defines the methods to implement to respond to asset-writing events.
[`var preferredOutputSegmentInterval: CMTime`](https://developer.apple.com/documentation/avfoundation/avassetwriter/preferredoutputsegmentinterval)
The interval of output segments that you prefer.
[`var initialSegmentStartTime: CMTime`](https://developer.apple.com/documentation/avfoundation/avassetwriter/initialsegmentstarttime)
The start time of the initial segment.
[`var outputFileTypeProfile: AVFileTypeProfile?`](https://developer.apple.com/documentation/avfoundation/avassetwriter/outputfiletypeprofile)
A profile for the output file type.
[`func flushSegment()`](https://developer.apple.com/documentation/avfoundation/avassetwriter/flushsegment\(\))
Closes the current segment and outputs it to a delegate method.
### [Accessing output settings](https://developer.apple.com/documentation/avfoundation/avassetwriter#Accessing-output-settings)
[`var outputURL: URL`](https://developer.apple.com/documentation/avfoundation/avassetwriter/outputurl)
The location of the container file that the writer outputs.
[`var outputFileType: AVFileType`](https://developer.apple.com/documentation/avfoundation/avassetwriter/outputfiletype)
The type of container file that the writer outputs.
## [Relationships](https://developer.apple.com/documentation/avfoundation/avassetwriter#relationships)
### [Inherits From](https://developer.apple.com/documentation/avfoundation/avassetwriter#inherits-from)
  * [`NSObject`](https://developer.apple.com/documentation/ObjectiveC/NSObject-swift.class)


### [Conforms To](https://developer.apple.com/documentation/avfoundation/avassetwriter#conforms-to)
  * [`CVarArg`](https://developer.apple.com/documentation/Swift/CVarArg)
  * [`CustomDebugStringConvertible`](https://developer.apple.com/documentation/Swift/CustomDebugStringConvertible)
  * [`CustomStringConvertible`](https://developer.apple.com/documentation/Swift/CustomStringConvertible)
  * [`Equatable`](https://developer.apple.com/documentation/Swift/Equatable)
  * [`Hashable`](https://developer.apple.com/documentation/Swift/Hashable)
  * [`NSObjectProtocol`](https://developer.apple.com/documentation/ObjectiveC/NSObjectProtocol)


## [See Also](https://developer.apple.com/documentation/avfoundation/avassetwriter#see-also)
### [Media writing](https://developer.apple.com/documentation/avfoundation/avassetwriter#Media-writing)
[Converting projected video to Apple Projected Media Profile](https://developer.apple.com/documentation/avfoundation/converting-projected-video-to-apple-projected-media-profile)
Convert content with equirectangular or half-equirectangular projection to APMP.
[Converting side-by-side 3D video to multiview HEVC and spatial video](https://developer.apple.com/documentation/avfoundation/converting-side-by-side-3d-video-to-multiview-hevc-and-spatial-video)
Create video content for visionOS by converting an existing 3D HEVC file to a multiview HEVC format, optionally adding spatial metadata to create a spatial video.
[Writing fragmented MPEG-4 files for HTTP Live Streaming](https://developer.apple.com/documentation/avfoundation/writing-fragmented-mpeg-4-files-for-http-live-streaming)
Create an HTTP Live Streaming presentation by turning a movie file into a sequence of fragmented MPEG-4 files.
[Creating spatial photos and videos with spatial metadata](https://developer.apple.com/documentation/ImageIO/Creating-spatial-photos-and-videos-with-spatial-metadata)
Add spatial metadata to stereo photos and videos to create spatial media for viewing on Apple Vision Pro.
[Tagging media with video color information](https://developer.apple.com/documentation/avfoundation/tagging-media-with-video-color-information)
Inspect and set video color space information when writing and transcoding media.
[API Reference Evaluating an app’s video color](https://developer.apple.com/documentation/avfoundation/evaluating-an-app-s-video-color)
Check color reproduction for a video in your app by using test patterns, video test equipment, and light-measurement instruments.
[`class AVOutputSettingsAssistant`](https://developer.apple.com/documentation/avfoundation/avoutputsettingsassistant)
An object that builds audio and video output settings dictionaries.
[`class AVAssetWriterInput`](https://developer.apple.com/documentation/avfoundation/avassetwriterinput)
An object that appends media samples to a track in an asset writer’s output file.
[`class AVAssetWriterInputPixelBufferAdaptor`](https://developer.apple.com/documentation/avfoundation/avassetwriterinputpixelbufferadaptor)
An object that appends video samples to an asset writer input.
[`class AVAssetWriterInputTaggedPixelBufferGroupAdaptor`](https://developer.apple.com/documentation/avfoundation/avassetwriterinputtaggedpixelbuffergroupadaptor)
An object that appends tagged buffer groups to an asset writer input.
[`class AVAssetWriterInputMetadataAdaptor`](https://developer.apple.com/documentation/avfoundation/avassetwriterinputmetadataadaptor)
An object that appends timed metadata groups to an asset writer input.
[`class AVAssetWriterInputGroup`](https://developer.apple.com/documentation/avfoundation/avassetwriterinputgroup)
A group of inputs with tracks that are mutually exclusive to each other for playback or processing.
Current page is AVAssetWriter 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Favfoundation%2Favassetwriter).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
