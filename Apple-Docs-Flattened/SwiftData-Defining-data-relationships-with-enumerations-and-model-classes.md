Source: https://developer.apple.com/documentation/swiftdata/defining-data-relationships-with-enumerations-and-model-classes

[ Skip Navigation ](https://developer.apple.com/documentation/swiftdata/defining-data-relationships-with-enumerations-and-model-classes#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/swiftdata/defining-data-relationships-with-enumerations-and-model-classes#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/swiftdata/defining-data-relationships-with-enumerations-and-model-classes)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/swiftdata/defining-data-relationships-with-enumerations-and-model-classes)
  * SwiftLanguage: Swift


[](https://developer.apple.com/documentation/swiftdata/defining-data-relationships-with-enumerations-and-model-classes)
## [ SwiftData  ](https://developer.apple.com/documentation/swiftdata)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
6 of 56 symbols inside <root> [Adopting inheritance in SwiftData](https://developer.apple.com/documentation/swiftdata/adopting-inheritance-in-swiftdata)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
7 of 56 symbols inside <root>
Model definition
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
#
8 of 56 symbols inside <root> [macro Model()](https://developer.apple.com/documentation/swiftdata/model\(\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
#
9 of 56 symbols inside <root> [macro Attribute(Schema.Attribute.Option..., originalName: String?, hashModifier: String?)](https://developer.apple.com/documentation/swiftdata/attribute\(_:originalname:hashmodifier:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
#
10 of 56 symbols inside <root> [macro Unique<T>([PartialKeyPath<T>]...)](https://developer.apple.com/documentation/swiftdata/unique\(_:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
#
11 of 56 symbols inside <root> [macro Index<T>([PartialKeyPath<T>]...)](https://developer.apple.com/documentation/swiftdata/index\(_:\)-74ia2)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
#
12 of 56 symbols inside <root> [macro Index<T>(Schema.Index<T>.Types<T>...)](https://developer.apple.com/documentation/swiftdata/index\(_:\)-7d4z0)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
13 of 56 symbols inside <root> [Defining data relationships with enumerations and model classes](https://developer.apple.com/documentation/swiftdata/defining-data-relationships-with-enumerations-and-model-classes)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
#
14 of 56 symbols inside <root> [macro Relationship(Schema.Relationship.Option..., deleteRule: Schema.Relationship.DeleteRule, minimumModelCount: Int?, maximumModelCount: Int?, originalName: String?, inverse: AnyKeyPath?, hashModifier: String?)](https://developer.apple.com/documentation/swiftdata/relationship\(_:deleterule:minimummodelcount:maximummodelcount:originalname:inverse:hashmodifier:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
#
15 of 56 symbols inside <root> [macro Transient()](https://developer.apple.com/documentation/swiftdata/transient\(\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
16 of 56 symbols inside <root>
Model life cycle
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
17 of 56 symbols inside <root> containing 21 symbols[ModelContainer](https://developer.apple.com/documentation/swiftdata/modelcontainer)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
18 of 56 symbols inside <root> containing 47 symbols[ModelContext](https://developer.apple.com/documentation/swiftdata/modelcontext)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
19 of 56 symbols inside <root> [Fetching and filtering time-based model changes](https://developer.apple.com/documentation/swiftdata/fetching-and-filtering-time-based-model-changes)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
20 of 56 symbols inside <root> containing 7 symbols[HistoryDescriptor](https://developer.apple.com/documentation/swiftdata/historydescriptor)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
21 of 56 symbols inside <root> [Deleting persistent data from your app](https://developer.apple.com/documentation/swiftdata/deleting-persistent-data-from-your-app)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
22 of 56 symbols inside <root> [Reverting data changes using the undo manager](https://developer.apple.com/documentation/swiftdata/reverting-data-changes-using-the-undo-manager)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
23 of 56 symbols inside <root> [Syncing model data across a person’s devices](https://developer.apple.com/documentation/swiftdata/syncing-model-data-across-a-persons-devices)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
24 of 56 symbols inside <root> containing 7 symbols[Concurrency support](https://developer.apple.com/documentation/swiftdata/concurrencysupport)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
25 of 56 symbols inside <root>
Model fetch
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
26 of 56 symbols inside <root> [Filtering and sorting persistent data](https://developer.apple.com/documentation/swiftdata/filtering-and-sorting-persistent-data)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
#
27 of 56 symbols inside <root> [macro Query()](https://developer.apple.com/documentation/swiftdata/query\(\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
28 of 56 symbols inside <root> containing 13 symbols[Additional query macros](https://developer.apple.com/documentation/swiftdata/additionalquerymacros)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
29 of 56 symbols inside <root> containing 14 symbols[Query](https://developer.apple.com/documentation/swiftdata/query)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
30 of 56 symbols inside <root> containing 13 symbols[FetchDescriptor](https://developer.apple.com/documentation/swiftdata/fetchdescriptor)
56 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ SwiftData ](https://developer.apple.com/documentation/swiftdata)
  * [ Defining data relationships with enumerations and model classes ](https://developer.apple.com/documentation/swiftdata/defining-data-relationships-with-enumerations-and-model-classes)
  *     * Defining data relationships with enumerations and model classes 


Sample Code
# Defining data relationships with enumerations and model classes
Create relationships for static and dynamic data stored in your app.
[ Download ](https://docs-assets.developer.apple.com/published/f84bac78ac34/SwiftDataAnimals.zip)
iOS 17.0+iPadOS 17.0+macOS 14.0+tvOS 17.0+Xcode 15.0+
## [Overview](https://developer.apple.com/documentation/swiftdata/defining-data-relationships-with-enumerations-and-model-classes#Overview)
There are two ways to define data relationships in your app: using enumerations and using the [`Relationship(_:deleteRule:minimumModelCount:maximumModelCount:originalName:inverse:hashModifier:)`](https://developer.apple.com/documentation/swiftdata/relationship\(_:deleterule:minimummodelcount:maximummodelcount:originalname:inverse:hashmodifier:\)) macro in a model class. Which one to use depends on the unique circumstances of your app. This article explains how to apply both approaches to the sample [SwiftUI](https://developer.apple.com/documentation/SwiftUI) app that persist data using SwiftData.
### [Relate a model class to static data](https://developer.apple.com/documentation/swiftdata/defining-data-relationships-with-enumerations-and-model-classes#Relate-a-model-class-to-static-data)
Enumerations are a convenient way to form relationships between a model class and static data — data that the app defines and doesn’t change. To define the static data, create an enumeration and ensure it conforms to the [`Codable`](https://developer.apple.com/documentation/Swift/Codable) protocol. SwiftData requires this conformance to persist any data that is of the enumeration type. The following code, for example, declares a `Codable` conforming enumeration that specify the animal type based on their diets:
```
extension Animal {
    enum Diet: String, CaseIterable, Codable {
        case herbivorous = "Herbivore"
        case carnivorous = "Carnivore"
        case omnivorous = "Omnivore"
    }
}

```

The `Animal` model class declares the property `diet` as a type of `Diet`. Because this property is non-optional, its value must be set to one of the `Diet` cases: `herbivore`, `carnivore`, and `ominvore`.
```
@Model
final class Animal {
    var name: String
    var diet: Diet
    var category: AnimalCategory?
    
    init(name: String, diet: Diet) {
        self.name = name
        self.diet = diet
    }
}

```

A person using the sample app can set the diet of an animal by choosing one of the available `Diet` cases from a [`Picker`](https://developer.apple.com/documentation/SwiftUI/Picker); for example:
```
Picker("Diet", selection: $selectedDiet) {
    ForEach(Animal.Diet.allCases, id: \.self) { diet in
        Text(diet.rawValue).tag(diet)
    }
}

```

To learn more about how the sample app saves data changes, see [Adding and editing persistent data in your app](https://developer.apple.com/documentation/swiftdata/adding-and-editing-persistent-data-in-your-app).
### [Relate a model class to dynamic data](https://developer.apple.com/documentation/swiftdata/defining-data-relationships-with-enumerations-and-model-classes#Relate-a-model-class-to-dynamic-data)
If the related data is dynamic and unknown to the app — data that comes from an external source such as someone using the app or a remote server — then form a relationship between two model classes instead of a class and enumeration. For instance, the dynamic data in the sample app includes animals and animal categories. An animal can belong to no more than one animal category, and a category can contain zero, one, or more animals.
  * [ iOS ](https://developer.apple.com/documentation/swiftdata/defining-data-relationships-with-enumerations-and-model-classes)
  * [ iPadOS ](https://developer.apple.com/documentation/swiftdata/defining-data-relationships-with-enumerations-and-model-classes)
  * [ macOS ](https://developer.apple.com/documentation/swiftdata/defining-data-relationships-with-enumerations-and-model-classes)
  * [ tvOS ](https://developer.apple.com/documentation/swiftdata/defining-data-relationships-with-enumerations-and-model-classes)


![A screenshot of the sample app running in iOS, showing the list of animals that are in the mammal category.](https://docs-assets.developer.apple.com/published/00721de23536f75a264827367d964300/Defining-data-relationships-01%402x.png)
![A screenshot of the sample app running in iPadOS, showing a three-column user interface. The first column shows a list of categories with Mammal highlighted as the selected category. The second column shows the list of animals that are in the Mammal category. The third column shows an animal paw print icon. Under the icon is the text, Select an animal.](https://docs-assets.developer.apple.com/published/00ea836e9c12096a956d233e6e286955/Defining-data-relationships-02%402x.png)
![A screenshot of the sample app running in macOS, showing a three-column user interface. The first column shows a list of categories with Mammal highlighted as the selected category. The second column shows the list of animals that are in the Mammal category. The third column shows an animal paw print icon. Under the icon is the text, Select an animal.](https://docs-assets.developer.apple.com/published/5c30a1cc8c9622037d0630e2ca7cdbdd/Defining-data-relationships-04%402x.png)
![A screenshot of the sample app running in tvOS, showing the list of animals that are in the Mammal category. The first animal, cat, is highlighted.](https://docs-assets.developer.apple.com/published/cde61e1833a6f4e3d189c2e597d8ddd1/Defining-data-relationships-03%402x.png)
To declare this relationship, the `AnimalCategory` class defines the property `animals`, which represents the animals contained in the category. The class also applies the [`Relationship(_:deleteRule:minimumModelCount:maximumModelCount:originalName:inverse:hashModifier:)`](https://developer.apple.com/documentation/swiftdata/relationship\(_:deleterule:minimummodelcount:maximummodelcount:originalname:inverse:hashmodifier:\)) macro to the `animals` property. This macro defines the relationship between the `AnimalCategory` and `Animal` model classes.
```
@Model
final class AnimalCategory {
    @Attribute(.unique) var name: String
    // `.cascade` tells SwiftData to delete all animals contained in the 
    // category when deleting it.
    @Relationship(deleteRule: .cascade, inverse: \Animal.category)
    var animals = [Animal]()
    
    init(name: String) {
        self.name = name
    }
}

```

Set the parameter values of this macro to configure the relationship. For example, the `deleteRule` parameter specifies how SwiftData handles related data during delete operations. The `inverse` parameter is a key path to the store property, `category`, declared in the related model class, `Animal`. The inverse parameter forms the relationship between the two classes, `AnimalCategory` and `Animal`, and the `category` property declared in `Animal` provides a reference to an animal category.
### [Set a relationship’s delete rule](https://developer.apple.com/documentation/swiftdata/defining-data-relationships-with-enumerations-and-model-classes#Set-a-relationships-delete-rule)
The `deleteRule` parameter specifies how SwiftData handles delete operations with regards to the related data. The [`Schema.Relationship.DeleteRule.cascade`](https://developer.apple.com/documentation/swiftdata/schema/relationship/deleterule-swift.enum/cascade) delete rule tells SwiftData to delete all related data when deleting the primary object. For example, deleting an `AnimalCategory` in the sample app causes SwiftData to also delete all animals contained in that category.
```
@Relationship(deleteRule: .cascade, inverse: \Animal.category)
var animals = [Animal]()

```

If you don’t want to delete the animals within a category, you can use the [`Schema.Relationship.DeleteRule.nullify`](https://developer.apple.com/documentation/swiftdata/schema/relationship/deleterule-swift.enum/nullify) delete rule. This rule tells SwiftData to set the animal’s `category` property to `nil` for each animal contained in the animal category when deleting the category. Because the default value for the `deleteRule` parameter is `nullify`, you can create the relationship without explicitly specifying the delete rule, like so:
```
@Relationship(inverse: \Animal.category)
var animals = [Animal]()

```

For a complete list of delete rules, see [`Schema.Relationship.DeleteRule`](https://developer.apple.com/documentation/swiftdata/schema/relationship/deleterule-swift.enum).
### [Create a model container](https://developer.apple.com/documentation/swiftdata/defining-data-relationships-with-enumerations-and-model-classes#Create-a-model-container)
Whether your data model includes relationships, you must always create a model container for your app when using SwiftData. The sample app creates a model container using the [`modelContainer(for:inMemory:isAutosaveEnabled:isUndoEnabled:onSetup:)`](https://developer.apple.com/documentation/SwiftUI/View/modelContainer\(for:inMemory:isAutosaveEnabled:isUndoEnabled:onSetup:\)-18hhy) modifier, passing in the model type `AnimalCategory.self`:
```
@main
struct SwiftDataAnimalsApp: App {
    var body: some Scene {
        WindowGroup() {
            ContentView()
        }
        .modelContainer(for: AnimalCategory.self)
    }
}

```

SwiftData uses the model type to construct the schema that determines the structure of the persistent storage area. The schema also includes all related types that form the object graph of the provided model type. For instance, `AnimalCategory` is a root model type of an object graph. `AnimalCategory` contains a relationship to the model type `Animal`, which means that the schema includes `Animal` along with `AnimalCategory`. If `Animal` had a relationship to another model type, the schema would also include that type.
If your app defines multiple root model types, use the  
[`modelContainer(for:inMemory:isAutosaveEnabled:isUndoEnabled:onSetup:)`](https://developer.apple.com/documentation/SwiftUI/View/modelContainer\(for:inMemory:isAutosaveEnabled:isUndoEnabled:onSetup:\)-8oc48) modifier, passing in an array that contains each root model type used in your app.
## [See Also](https://developer.apple.com/documentation/swiftdata/defining-data-relationships-with-enumerations-and-model-classes#see-also)
### [Model definition](https://developer.apple.com/documentation/swiftdata/defining-data-relationships-with-enumerations-and-model-classes#Model-definition)
[`macro Model()`](https://developer.apple.com/documentation/swiftdata/model\(\))
Converts a Swift class into a stored model that’s managed by SwiftData.
[`macro Attribute(Schema.Attribute.Option..., originalName: String?, hashModifier: String?)`](https://developer.apple.com/documentation/swiftdata/attribute\(_:originalname:hashmodifier:\))
Specifies the custom behavior that SwiftData applies to the annotated property when managing the owning class.
[`macro Unique<T>([PartialKeyPath<T>]...)`](https://developer.apple.com/documentation/swiftdata/unique\(_:\))
Specifies the key-paths that SwiftData uses to enforce the uniqueness of model instances.
[`macro Index<T>([PartialKeyPath<T>]...)`](https://developer.apple.com/documentation/swiftdata/index\(_:\)-74ia2)
Specifies the key-paths that SwiftData uses to create one or more binary indices for the associated model.
[`macro Index<T>(Schema.Index<T>.Types<T>...)`](https://developer.apple.com/documentation/swiftdata/index\(_:\)-7d4z0)
Specifies the key-paths that SwiftData uses to create one or more indicies for the associated model, where each index is either binary or R-tree.
[`macro Relationship(Schema.Relationship.Option..., deleteRule: Schema.Relationship.DeleteRule, minimumModelCount: Int?, maximumModelCount: Int?, originalName: String?, inverse: AnyKeyPath?, hashModifier: String?)`](https://developer.apple.com/documentation/swiftdata/relationship\(_:deleterule:minimummodelcount:maximummodelcount:originalname:inverse:hashmodifier:\))
Specifies the options that SwiftData needs to manage the annotated property as a relationship between two models.
[`macro Transient()`](https://developer.apple.com/documentation/swiftdata/transient\(\))
Tells SwiftData not to persist the annotated property when managing the owning class.
Current page is Defining data relationships with enumerations and model classes 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Fswiftdata%2Fdefining-data-relationships-with-enumerations-and-model-classes).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
