Source: https://developer.apple.com/documentation/Swift/updating-an-app-to-use-strict-concurrency

[ Skip Navigation ](https://developer.apple.com/documentation/Swift/updating-an-app-to-use-strict-concurrency#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/Swift/updating-an-app-to-use-strict-concurrency#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/Swift/updating-an-app-to-use-strict-concurrency)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/Swift/updating-an-app-to-use-strict-concurrency)
  * SwiftLanguage: Swift


[](https://developer.apple.com/documentation/Swift/updating-an-app-to-use-strict-concurrency)
## [ Swift  ](https://developer.apple.com/documentation/swift)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
13 of 57 symbols inside -1763969586 [func withDiscardingTaskGroup<GroupResult>(returning: GroupResult.Type, isolation: isolated (any Actor)?, body: (inout DiscardingTaskGroup) async -> GroupResult) async -> GroupResult](https://developer.apple.com/documentation/swift/withdiscardingtaskgroup\(returning:isolation:body:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
12 of 57 symbols inside -1763969586 containing 15 symbols[DiscardingTaskGroup](https://developer.apple.com/documentation/swift/discardingtaskgroup)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
10 of 21 symbols inside 931993669 
Programming Tasks
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
11 of 21 symbols inside 931993669 containing 9 symbols[Input and Output](https://developer.apple.com/documentation/swift/input-and-output)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
12 of 21 symbols inside 931993669 containing 25 symbols[Debugging and Reflection](https://developer.apple.com/documentation/swift/debugging-and-reflection)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
13 of 21 symbols inside 931993669 containing 16 symbols[Macros](https://developer.apple.com/documentation/swift/macros)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
14 of 21 symbols inside 931993669 containing 57 symbols[Concurrency](https://developer.apple.com/documentation/swift/concurrency)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 57 symbols inside -1763969586 
Essentials
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
2 of 57 symbols inside -1763969586 [Code-along: Elevating an app with Swift concurrency](https://developer.apple.com/documentation/swift/code-along-elevating-an-app-with-swift-concurrency)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
3 of 57 symbols inside -1763969586 [Updating an app to use strict concurrency](https://developer.apple.com/documentation/swift/updating-an-app-to-use-strict-concurrency)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
4 of 57 symbols inside -1763969586 [Updating an App to Use Swift Concurrency](https://developer.apple.com/documentation/swift/updating_an_app_to_use_swift_concurrency)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
5 of 57 symbols inside -1763969586 
Tasks
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
6 of 57 symbols inside -1763969586 containing 63 symbols[Task](https://developer.apple.com/documentation/swift/task)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
7 of 57 symbols inside -1763969586 containing 53 symbols[TaskGroup](https://developer.apple.com/documentation/swift/taskgroup)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
8 of 57 symbols inside -1763969586 [func withTaskGroup<ChildTaskResult, GroupResult>(of: ChildTaskResult.Type, returning: GroupResult.Type, isolation: isolated (any Actor)?, body: (inout TaskGroup<ChildTaskResult>) async -> GroupResult) async -> GroupResult](https://developer.apple.com/documentation/swift/withtaskgroup\(of:returning:isolation:body:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
9 of 57 symbols inside -1763969586 containing 53 symbols[ThrowingTaskGroup](https://developer.apple.com/documentation/swift/throwingtaskgroup)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
10 of 57 symbols inside -1763969586 [func withThrowingTaskGroup<ChildTaskResult, GroupResult>(of: ChildTaskResult.Type, returning: GroupResult.Type, isolation: isolated (any Actor)?, body: (inout ThrowingTaskGroup<ChildTaskResult, any Error>) async throws -> GroupResult) async rethrows -> GroupResult](https://developer.apple.com/documentation/swift/withthrowingtaskgroup\(of:returning:isolation:body:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
11 of 57 symbols inside -1763969586 containing 24 symbols[TaskPriority](https://developer.apple.com/documentation/swift/taskpriority)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
12 of 57 symbols inside -1763969586 containing 15 symbols[DiscardingTaskGroup](https://developer.apple.com/documentation/swift/discardingtaskgroup)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
13 of 57 symbols inside -1763969586 [func withDiscardingTaskGroup<GroupResult>(returning: GroupResult.Type, isolation: isolated (any Actor)?, body: (inout DiscardingTaskGroup) async -> GroupResult) async -> GroupResult](https://developer.apple.com/documentation/swift/withdiscardingtaskgroup\(returning:isolation:body:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
14 of 57 symbols inside -1763969586 containing 15 symbols[ThrowingDiscardingTaskGroup](https://developer.apple.com/documentation/swift/throwingdiscardingtaskgroup)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
15 of 57 symbols inside -1763969586 [func withThrowingDiscardingTaskGroup<GroupResult>(returning: GroupResult.Type, isolation: isolated (any Actor)?, body: (inout ThrowingDiscardingTaskGroup<any Error>) async throws -> GroupResult) async throws -> GroupResult](https://developer.apple.com/documentation/swift/withthrowingdiscardingtaskgroup\(returning:isolation:body:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
16 of 57 symbols inside -1763969586 containing 14 symbols[UnsafeCurrentTask](https://developer.apple.com/documentation/swift/unsafecurrenttask)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
17 of 57 symbols inside -1763969586 
Asynchronous Sequences
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
18 of 57 symbols inside -1763969586 containing 59 symbols[AsyncSequence](https://developer.apple.com/documentation/swift/asyncsequence)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
19 of 57 symbols inside -1763969586 containing 39 symbols[AsyncStream](https://developer.apple.com/documentation/swift/asyncstream)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
20 of 57 symbols inside -1763969586 containing 39 symbols[AsyncThrowingStream](https://developer.apple.com/documentation/swift/asyncthrowingstream)
114 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ Swift ](https://developer.apple.com/documentation/swift)
  * [ Swift Standard Library ](https://developer.apple.com/documentation/swift/swift-standard-library)
  * [ Concurrency ](https://developer.apple.com/documentation/swift/concurrency)
  * [ Updating an app to use strict concurrency ](https://developer.apple.com/documentation/Swift/updating-an-app-to-use-strict-concurrency)
  *     * [ Swift Standard Library ](https://developer.apple.com/documentation/swift/swift-standard-library)
    * [ Concurrency ](https://developer.apple.com/documentation/swift/concurrency)
    * Updating an app to use strict concurrency 


Sample Code
# Updating an app to use strict concurrency
Use this code to follow along with a guide to migrating your code to take advantage of the full concurrency protection that the Swift 6 language mode provides.
[ Download ](https://docs-assets.developer.apple.com/published/4dd408a8fcf3/UpdatingAnAppToUseStrictConcurrency.zip)
iOS 15.0+iPadOS 15.0+watchOS 8.0+Xcode 16.0+
## [Overview](https://developer.apple.com/documentation/Swift/updating-an-app-to-use-strict-concurrency#Overview)
Note
This sample code project is associated with WWDC24 session 10169: [Migrate your app to Swift 6](https://developer.apple.com/wwdc24/10169). It’s based on a similar session from WWDC21 showing how to adopt Swift concurrency in an app, [Swift concurrency: Update a sample app](https://developer.apple.com/videos/play/wwdc2021/10194/).
This sample provides two separate versions of the app:
  * The original version uses Swift concurrency features but contains a number of issues that are detected by enabling Swift complete concurrency checking and that need to be resolved before enabling the Swift 6 language mode.
  * The updated version resolves these issues and has enabled Swift 6. It also adds new features that record the location of the user when they log that they drank coffee.


Watch the session to see the process step by step, and then compare the two projects to see the differences.
### [Configure the sample code project](https://developer.apple.com/documentation/Swift/updating-an-app-to-use-strict-concurrency#Configure-the-sample-code-project)
To add the complication to an active watch face, start by building and running the sample code project in the simulator, and follow these steps:
  1. Click the Digital Crown to exit the app and return to the watch face.
  2. Using the trackpad, firmly press the watch face to put the face in edit mode, and then click Customize.
  3. Swipe left until the configuration screen highlights the complications. Select the complication to modify.
  4. Scroll to the complication for the sample app, and then click the Digital Crown again to save your changes.
  5. Click the newly added complication to go to the app.


For more information on setting up watch faces, see [Change the watch face on your Apple Watch](https://support.apple.com/en-us/HT205536).
After configuring and running the app, you can test the background updates. Make sure that the complication appears on the active watch face. Then build and run the app in Simulator, and follow these steps:
  1. Add one or more drinks using the app’s main view.
  2. Click the Digital Crown to send the app to the background.
  3. Open Settings, and scroll down to Health > Health Data > Nutrition > Caffeine to see all of the drinks you added to the app.
  4. Click Delete Caffeine Data to clear all of the caffeine samples from HealthKit.
  5. Navigate back to the watch face.
  6. The complication will update within 15 minutes; however, the update may be delayed based on the system’s current state.


### [Adopt strict concurrency checking in Swift](https://developer.apple.com/documentation/Swift/updating-an-app-to-use-strict-concurrency#Adopt-strict-concurrency-checking-in-Swift)
To see the issues highlighted in the original project, follow these steps:
  1. In Xcode, navigate to the project settings.
  2. For each target, change the Strict Concurrency Checking below Build Settings to Complete.
  3. Each target generates warnings that must be resolved.
  4. After the warnings are resolved, change the Swift Language Version in Build settings to Swift 6.


Compare the original project to the updated project to see how it resolves the concurrency issues.
## [See Also](https://developer.apple.com/documentation/Swift/updating-an-app-to-use-strict-concurrency#see-also)
### [Essentials](https://developer.apple.com/documentation/Swift/updating-an-app-to-use-strict-concurrency#Essentials)
[Code-along: Elevating an app with Swift concurrency](https://developer.apple.com/documentation/swift/code-along-elevating-an-app-with-swift-concurrency)
Code along with the WWDC presenter to elevate a SwiftUI app with Swift concurrency.
[Updating an App to Use Swift Concurrency](https://developer.apple.com/documentation/swift/updating_an_app_to_use_swift_concurrency)
Improve your app’s performance by refactoring your code to take advantage of asynchronous functions in Swift.
Current page is Updating an app to use strict concurrency 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2FSwift%2Fupdating-an-app-to-use-strict-concurrency).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
