Source: https://developer.apple.com/documentation/Security/preventing-insecure-network-connections

[ Skip Navigation ](https://developer.apple.com/documentation/Security/preventing-insecure-network-connections#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/Security/preventing-insecure-network-connections#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/Security/preventing-insecure-network-connections)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/Security/preventing-insecure-network-connections)
  * SwiftLanguage:  Swift  Objective-C 
Language: 
    * Swift 
    * [ Objective-C ](https://developer.apple.com/documentation/Security/preventing-insecure-network-connections)


[](https://developer.apple.com/documentation/Security/preventing-insecure-network-connections)
## [ Security  ](https://developer.apple.com/documentation/security)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
5 of 65 symbols inside <root> containing 8 symbols[Shared Web Credentials](https://developer.apple.com/documentation/security/shared-web-credentials)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
6 of 65 symbols inside <root> containing 31 symbols[Authorization Services](https://developer.apple.com/documentation/security/authorization-services)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
7 of 65 symbols inside <root> containing 5 symbols[Authorization Plug-ins](https://developer.apple.com/documentation/security/authorization-plug-ins)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
8 of 65 symbols inside <root> containing 10 symbols[Sessions](https://developer.apple.com/documentation/security/sessions)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
9 of 65 symbols inside <root> containing 2 symbols[One-time codes](https://developer.apple.com/documentation/security/one-time-codes)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
10 of 65 symbols inside <root>
Secure data
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
11 of 65 symbols inside <root> containing 4 symbols[Keychain services](https://developer.apple.com/documentation/security/keychain-services)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
12 of 65 symbols inside <root> containing 4 symbols[Preventing Insecure Network Connections](https://developer.apple.com/documentation/security/preventing-insecure-network-connections)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 4 symbols inside 2105290972 
Evaluation
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
2 of 4 symbols inside 2105290972 [Identifying the Source of Blocked Connections](https://developer.apple.com/documentation/security/identifying-the-source-of-blocked-connections)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
3 of 4 symbols inside 2105290972 
Exceptions
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
4 of 4 symbols inside 2105290972 [NSAppTransportSecurity](https://developer.apple.com/documentation/bundleresources/information-property-list/nsapptransportsecurity)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
13 of 65 symbols inside <root>
Secure code
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
14 of 65 symbols inside <root> containing 62 symbols[Code Signing Services](https://developer.apple.com/documentation/security/code-signing-services)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
15 of 65 symbols inside <root> containing 3 symbols[Notarizing macOS software before distribution](https://developer.apple.com/documentation/security/notarizing-macos-software-before-distribution)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
16 of 65 symbols inside <root> [Preparing your app to work with pointer authentication](https://developer.apple.com/documentation/security/preparing-your-app-to-work-with-pointer-authentication)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
17 of 65 symbols inside <root> containing 33 symbols[App Sandbox](https://developer.apple.com/documentation/security/app-sandbox)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
18 of 65 symbols inside <root> containing 15 symbols[Hardened Runtime](https://developer.apple.com/documentation/security/hardened-runtime)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
19 of 65 symbols inside <root> [Disabling and Enabling System Integrity Protection](https://developer.apple.com/documentation/security/disabling-and-enabling-system-integrity-protection)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
20 of 65 symbols inside <root> [Using the latest code signature format](https://developer.apple.com/documentation/xcode/using-the-latest-code-signature-format)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
21 of 65 symbols inside <root> [Updating Mac Software](https://developer.apple.com/documentation/security/updating-mac-software)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
22 of 65 symbols inside <root> [TN3125: Inside Code Signing: Provisioning Profiles](https://developer.apple.com/documentation/technotes/tn3125-inside-code-signing-provisioning-profiles)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
23 of 65 symbols inside <root>
Launch environment constraints
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
24 of 65 symbols inside <root> [Applying launch environment and library constraints](https://developer.apple.com/documentation/security/applying-launch-environment-and-library-constraints)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
25 of 65 symbols inside <root> [Defining launch environment and library constraints](https://developer.apple.com/documentation/security/defining-launch-environment-and-library-constraints)
69 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
Collection
  * [ Security ](https://developer.apple.com/documentation/security)
  * [ Preventing Insecure Network Connections ](https://developer.apple.com/documentation/Security/preventing-insecure-network-connections)
  *     * Preventing Insecure Network Connections 


# Preventing Insecure Network Connections
Enforce secure network links in your app by relying on App Transport Security.
## [Overview](https://developer.apple.com/documentation/Security/preventing-insecure-network-connections#overview)
On Apple platforms, a networking security feature called App Transport Security (ATS) improves privacy and data integrity for all apps and app extensions. It does this by requiring that network connections made by your app are secured by the Transport Layer Security (TLS) protocol using reliable certificates and ciphers. ATS blocks connections that don’t meet minimum security requirements.
![Diagram showing how ATS blocks insecure connections, but lets secure traffic flow between your app and the network.](https://docs-assets.developer.apple.com/published/fe39fdee2649e965806cb8b8b4aa45f4/media-3162039%402x.png)
ATS operates by default for apps linked against the iOS 9.0 or macOS 10.11 SDKs or later. In cases where you need to connect to a server that isn’t fully secure—and that you can’t reconfigure to make more secure—you can add exceptions to loosen some of the ATS requirements.
Note
If you link your app against an SDK older than iOS 9.0 or macOS 10.11, ATS is disabled no matter which version of the operating system your app runs on.
### [Prefer High-Level Frameworks in Your App](https://developer.apple.com/documentation/Security/preventing-insecure-network-connections#Prefer-High-Level-Frameworks-in-Your-App)
The system enforces ATS when you use the standard [URL Loading System](https://developer.apple.com/documentation/Foundation/url-loading-system). Instances of [`URLSession`](https://developer.apple.com/documentation/Foundation/URLSession) automatically negotiate the most secure connection available from the server. The only action your app must take is to use secure URLs, like those beginning with `https`. Otherwise, ATS denies the connection and prints a console message:
```
App Transport Security has blocked a cleartext HTTP (http://) resource
load since it is insecure. Temporary exceptions can be configured via
your app's Info.plist file.

```

ATS doesn’t apply to calls your app makes to lower-level networking interfaces like the [Network](https://developer.apple.com/documentation/Network) framework or [CFNetwork](https://developer.apple.com/documentation/CFNetwork). In these cases, you take responsibility for ensuring the security of the connection. You can construct a secure connection this way, but mistakes are both easy to make and costly. It’s typically safest to rely on the [URL Loading System](https://developer.apple.com/documentation/Foundation/url-loading-system) instead.
### [Ensure the Network Server Meets Minimum Requirements](https://developer.apple.com/documentation/Security/preventing-insecure-network-connections#Ensure-the-Network-Server-Meets-Minimum-Requirements)
A secure server establishes its identity using an X.509 digital certificate. A connecting client examines this certificate to perform default server trust evaluation, which includes checking that the certificate:
  * Has an intact digital signature, showing that the certificate hasn’t been tampered with.
  * Isn’t expired.
  * Has a name that matches the server’s DNS name.
  * Is signed by another valid certificate, which is in turned signed by another, and so on back to a trusted anchor certificate, which must be issued by a Certificate Authority (CA). The anchor certificate must be part of the client operating system, as indicated in [Lists of available trusted root certificates in iOS](https://support.apple.com/en-us/HT204132), or be installed on the client by the user or a system administrator.


ATS requires all of these things, and then provides extended security checks:
  * The server certificate must be signed with either a Rivest-Shamir-Adleman (RSA) key of at least 2048 bits, or an Elliptic-Curve Cryptography (ECC) key of at least 256 bits.
  * The certificate must use the Secure Hash Algorithm 2 (SHA-2) with a digest length, sometimes called a _fingerprint_ , of at least 256 bits (that is, SHA-256 or greater).
  * The connection must use Transport Layer Security (TLS) protocol version 1.2 or later.
  * Data must be exchanged using either the AES-128 or the AES-256 symmetric cipher.
  * The link must support perfect forward secrecy (PFS) through Elliptic Curve Diffie-Hellman Ephemeral (ECDHE) key exchange.


Note
[`URLSession`](https://developer.apple.com/documentation/Foundation/URLSession) automatically handles server trust evaluation for you, but enables you to customize the process, for example to extend trust to a self-signed certificate embedded in your app, or to bypass certificate expiry. When ATS is enabled, you can no longer loosen trust evaluation requirements that way, but you can still tighten them—for example, to implement certificate pinning. For more information, see [Performing manual server trust authentication](https://developer.apple.com/documentation/Foundation/performing-manual-server-trust-authentication).
### [Configure Exceptions Only When Needed; Prefer Server Fixes](https://developer.apple.com/documentation/Security/preventing-insecure-network-connections#Configure-Exceptions-Only-When-Needed-Prefer-Server-Fixes)
ATS disallows a connection if the server fails to meet one of the security checks discussed in the previous section. Your best response is to update the server. If you can’t do that for some reason, you can specify exceptions in your app to disable one or more aspects of ATS.
Important
It’s always better to fix the server when faced with an ATS failure. Exceptions reduce the security of your app. Some also require justification when submitting an app to the App Store, as described in the next section.
You configure ATS exceptions by providing a dictionary as the value for the optional [`NSAppTransportSecurity`](https://developer.apple.com/documentation/BundleResources/Information-Property-List/NSAppTransportSecurity) key in your app’s [`Information Property List`](https://developer.apple.com/documentation/BundleResources/Information-Property-List) file. The dictionary has the following structure, where all keys are optional:
```
NSAppTransportSecurity : Dictionary {
    NSAllowsArbitraryLoads : Boolean
    NSAllowsArbitraryLoadsForMedia : Boolean
    NSAllowsArbitraryLoadsInWebContent : Boolean
    NSAllowsLocalNetworking : Boolean
    NSExceptionDomains : Dictionary {
        <domain-name-string> : Dictionary {
            NSIncludesSubdomains : Boolean
            NSExceptionAllowsInsecureHTTPLoads : Boolean
            NSExceptionMinimumTLSVersion : String
            NSExceptionRequiresForwardSecrecy : Boolean
            NSRequiresCertificateTransparency : Boolean
        }
    }
}

```

Keys at the first level of the [`NSAppTransportSecurity`](https://developer.apple.com/documentation/BundleResources/Information-Property-List/NSAppTransportSecurity) dictionary apply to connections made to any domain not specifically called out in the [`NSExceptionDomains`](https://developer.apple.com/documentation/BundleResources/Information-Property-List/NSAppTransportSecurity/NSExceptionDomains) sub-dictionary. For example, by setting [`NSAllowsArbitraryLoads`](https://developer.apple.com/documentation/BundleResources/Information-Property-List/NSAppTransportSecurity/NSAllowsArbitraryLoads) set to `YES`, you completely disable ATS for all network connections:
![](https://docs-assets.developer.apple.com/published/c980f5c9c7c8e8e985bd11f2066aa51b/media-3138689%402x.png)
Depending on your use case, you can provide narrower exceptions. For example, by setting [`NSAllowsArbitraryLoadsInWebContent`](https://developer.apple.com/documentation/BundleResources/Information-Property-List/NSAppTransportSecurity/NSAllowsArbitraryLoadsInWebContent) to `YES`, you can disable ATS restrictions on calls made from within web views, like instances of [`WKWebView`](https://developer.apple.com/documentation/WebKit/WKWebView):
![](https://docs-assets.developer.apple.com/published/525ffcae55afd38ad9626f2b15594542/media-3138691%402x.png)
You might only need to limit your ATS exception to a single domain. For example, if you need to access the insecure server `http://example.com`, you can still maintain all the benefits of ATS for other domains by setting the [`NSExceptionAllowsInsecureHTTPLoads`](https://developer.apple.com/documentation/BundleResources/Information-Property-List/NSExceptionAllowsInsecureHTTPLoads) to `YES` in the domain-specific sub-dictionary:
![](https://docs-assets.developer.apple.com/published/15237498eed9ac779b0b43b1bc161735/media-3138690%402x.png)
Note
Global exceptions don’t apply to any domains that you add to the [`NSExceptionDomains`](https://developer.apple.com/documentation/BundleResources/Information-Property-List/NSAppTransportSecurity/NSExceptionDomains) dictionary. So you can invert the previous example—allowing insecure traffic on all domains _except_ `example.com`—by placing [`NSAllowsArbitraryLoads`](https://developer.apple.com/documentation/BundleResources/Information-Property-List/NSAppTransportSecurity/NSAllowsArbitraryLoads) at the top level, and including an empty `example.com` dictionary as an exception domain.
You can use the `nscurl` command line tool to connect to a server using different combinations of ATS exceptions. This helps you quickly narrow down the source of any ATS failures you have and figure out what exceptions you need. See [Identifying the Source of Blocked Connections](https://developer.apple.com/documentation/security/identifying-the-source-of-blocked-connections) for details.
### [Provide Justification for Exceptions](https://developer.apple.com/documentation/Security/preventing-insecure-network-connections#Provide-Justification-for-Exceptions)
Adding certain ATS exceptions to your app’s [`Information Property List`](https://developer.apple.com/documentation/BundleResources/Information-Property-List) file requires you to provide justification, and might trigger additional App Store review for your app. Exceptions that require justification are:
  * Arbitrary connection exceptions ([`NSAllowsArbitraryLoads`](https://developer.apple.com/documentation/BundleResources/Information-Property-List/NSAppTransportSecurity/NSAllowsArbitraryLoads))
  * Media streaming exceptions ([`NSAllowsArbitraryLoadsForMedia`](https://developer.apple.com/documentation/BundleResources/Information-Property-List/NSAppTransportSecurity/NSAllowsArbitraryLoadsForMedia))
  * Web content loads ([`NSAllowsArbitraryLoadsInWebContent`](https://developer.apple.com/documentation/BundleResources/Information-Property-List/NSAppTransportSecurity/NSAllowsArbitraryLoadsInWebContent))
  * Per-domain nonsecure connections ([`NSExceptionAllowsInsecureHTTPLoads`](https://developer.apple.com/documentation/BundleResources/Information-Property-List/NSExceptionAllowsInsecureHTTPLoads))
  * Per-domain minimum TLS version ([`NSExceptionMinimumTLSVersion`](https://developer.apple.com/documentation/BundleResources/Information-Property-List/NSExceptionMinimumTLSVersion))


Some examples of justifications eligible for consideration are:
  * The app must connect to a server managed by another entity that doesn’t support secure connections.
  * The app must support connecting to devices that cannot be upgraded to use secure connections, and that must be accessed using public host names.
  * The app must display embedded web content from a variety of sources, but can’t use a class supported by the web content exception.
  * The app loads media content that is encrypted and that contains no personalized information.


When submitting your app to the App Store, provide sufficient information for the App Store to determine why your app cannot make secure connections by default.
Important
Always look for a way to avoid using exceptions as a first recourse. If you must use an exception, make it as limited in scope as possible.
## [Topics](https://developer.apple.com/documentation/Security/preventing-insecure-network-connections#topics)
### [Evaluation](https://developer.apple.com/documentation/Security/preventing-insecure-network-connections#Evaluation)
[Identifying the Source of Blocked Connections](https://developer.apple.com/documentation/security/identifying-the-source-of-blocked-connections)
Figure out why App Transport Security denies a network connection.
### [Exceptions](https://developer.apple.com/documentation/Security/preventing-insecure-network-connections#Exceptions)
[`NSAppTransportSecurity`](https://developer.apple.com/documentation/BundleResources/Information-Property-List/NSAppTransportSecurity)
A description of changes made to the default security for HTTP connections.
Current page is Preventing Insecure Network Connections 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2FSecurity%2Fpreventing-insecure-network-connections).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
