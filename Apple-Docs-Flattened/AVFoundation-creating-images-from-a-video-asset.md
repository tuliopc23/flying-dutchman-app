Source: https://developer.apple.com/documentation/avfoundation/creating-images-from-a-video-asset

[ Skip Navigation ](https://developer.apple.com/documentation/avfoundation/creating-images-from-a-video-asset#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/avfoundation/creating-images-from-a-video-asset#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/avfoundation/creating-images-from-a-video-asset)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/avfoundation/creating-images-from-a-video-asset)
  * SwiftLanguage:  Swift  Objective-C 
Language: 
    * Swift 
    * [ Objective-C ](https://developer.apple.com/documentation/avfoundation/creating-images-from-a-video-asset)


[](https://developer.apple.com/documentation/avfoundation/creating-images-from-a-video-asset)
## [ AVFoundation  ](https://developer.apple.com/documentation/avfoundation)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
3 of 31 symbols inside <root>
Common
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
4 of 31 symbols inside <root> containing 28 symbols[Media assets](https://developer.apple.com/documentation/avfoundation/media-assets)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
5 of 31 symbols inside <root> containing 31 symbols[Media reading and writing](https://developer.apple.com/documentation/avfoundation/media-reading-and-writing)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 31 symbols inside 480790132 
Media export
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
2 of 31 symbols inside 480790132 [Exporting video to alternative formats](https://developer.apple.com/documentation/avfoundation/exporting-video-to-alternative-formats)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
3 of 31 symbols inside 480790132 containing 50 symbols[AVAssetExportSession](https://developer.apple.com/documentation/avfoundation/avassetexportsession)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
4 of 31 symbols inside 480790132 
Image generation
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
5 of 31 symbols inside 480790132 [Creating images from a video asset](https://developer.apple.com/documentation/avfoundation/creating-images-from-a-video-asset)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
6 of 31 symbols inside 480790132 containing 25 symbols[AVAssetImageGenerator](https://developer.apple.com/documentation/avfoundation/avassetimagegenerator)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
7 of 31 symbols inside 480790132 
Media reading
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
8 of 31 symbols inside 480790132 [Reading multiview 3D video files](https://developer.apple.com/documentation/avfoundation/reading-multiview-3d-video-files)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
9 of 31 symbols inside 480790132 containing 24 symbols[AVAssetReader](https://developer.apple.com/documentation/avfoundation/avassetreader)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
10 of 31 symbols inside 480790132 containing 12 symbols[AVAssetReaderOutput](https://developer.apple.com/documentation/avfoundation/avassetreaderoutput)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
11 of 31 symbols inside 480790132 containing 8 symbols[AVAssetReaderTrackOutput](https://developer.apple.com/documentation/avfoundation/avassetreadertrackoutput)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
12 of 31 symbols inside 480790132 containing 8 symbols[AVAssetReaderAudioMixOutput](https://developer.apple.com/documentation/avfoundation/avassetreaderaudiomixoutput)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
13 of 31 symbols inside 480790132 containing 8 symbols[AVAssetReaderVideoCompositionOutput](https://developer.apple.com/documentation/avfoundation/avassetreadervideocompositionoutput)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
14 of 31 symbols inside 480790132 containing 4 symbols[AVAssetReaderSampleReferenceOutput](https://developer.apple.com/documentation/avfoundation/avassetreadersamplereferenceoutput)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
15 of 31 symbols inside 480790132 containing 6 symbols[AVAssetReaderOutputMetadataAdaptor](https://developer.apple.com/documentation/avfoundation/avassetreaderoutputmetadataadaptor)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
16 of 31 symbols inside 480790132 
Media writing
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
17 of 31 symbols inside 480790132 [Converting projected video to Apple Projected Media Profile](https://developer.apple.com/documentation/avfoundation/converting-projected-video-to-apple-projected-media-profile)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
18 of 31 symbols inside 480790132 [Converting side-by-side 3D video to multiview HEVC and spatial video](https://developer.apple.com/documentation/avfoundation/converting-side-by-side-3d-video-to-multiview-hevc-and-spatial-video)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
19 of 31 symbols inside 480790132 [Writing fragmented MPEG-4 files for HTTP Live Streaming](https://developer.apple.com/documentation/avfoundation/writing-fragmented-mpeg-4-files-for-http-live-streaming)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
20 of 31 symbols inside 480790132 [Creating spatial photos and videos with spatial metadata](https://developer.apple.com/documentation/imageio/creating-spatial-photos-and-videos-with-spatial-metadata)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
21 of 31 symbols inside 480790132 [Tagging media with video color information](https://developer.apple.com/documentation/avfoundation/tagging-media-with-video-color-information)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
22 of 31 symbols inside 480790132 containing 4 symbols[Evaluating an app’s video color](https://developer.apple.com/documentation/avfoundation/evaluating-an-app-s-video-color)
62 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ AVFoundation ](https://developer.apple.com/documentation/avfoundation)
  * [ Media reading and writing ](https://developer.apple.com/documentation/avfoundation/media-reading-and-writing)
  * [ Creating images from a video asset ](https://developer.apple.com/documentation/avfoundation/creating-images-from-a-video-asset)
  *     * [ Media reading and writing ](https://developer.apple.com/documentation/avfoundation/media-reading-and-writing)
    * Creating images from a video asset 


Article
# Creating images from a video asset
Display images for specific times within the media timeline by generating images from a video’s frames.
## [Overview](https://developer.apple.com/documentation/avfoundation/creating-images-from-a-video-asset#overview)
A common requirement when you build video apps is to display images of a video’s content. You may want to show a single thumbnail next to a video in a list, or show several images spanning a video’s duration that you use to build a visual scrubbing or selection user interface. AVFoundation makes it simple to produce images from your app’s video content by using [`AVAssetImageGenerator`](https://developer.apple.com/documentation/avfoundation/avassetimagegenerator).
![A top-down illustration that shows the data flow when using an AVAssetImageGenerator. At the top of the diagram is a rectangle that represents an AVAsset object. From the asset, there’s an arrowed-line that points to another rectangle in the middle of the diagram that represents an AVAssetImageGenerator. Below the image generator are five rectangles, arranged horizontally, that represent the image-generation requests. There is an arrowed line from the image generator to each image request that shows it’s generated three images and has two more to process.](https://docs-assets.developer.apple.com/published/801bc39c84e570688e33d7858a00f84d/media-4009055%402x.png)
[`AVAssetImageGenerator`](https://developer.apple.com/documentation/avfoundation/avassetimagegenerator) is a utility class that creates images from assets that contain one or more video tracks. You can use it to generate an image for a single point in time, or a series of images by passing it an array of times.
### [Configure an image generator](https://developer.apple.com/documentation/avfoundation/creating-images-from-a-video-asset#Configure-an-image-generator)
Create an instance of [`AVAssetImageGenerator`](https://developer.apple.com/documentation/avfoundation/avassetimagegenerator) by passing it a video asset to retrieve images from. A generator supports creating images from local and remote file–based media, and also from HTTP Live Streaming (HLS) video that provides I-frame only renditions.
```
let asset: AVAsset = // A video asset.
let generator = AVAssetImageGenerator(asset: asset)

```

Note
You can generate images from an HLS stream that provides a media playlist with the `EXT-X-I-FRAMES-ONLY` tag. The durations the playlist specifies between I-frames determines the time resolution of image-generation requests.
An image generator is ready to produce images when you create it, but it also provides configurable properties that you can use to customize its behavior. One property that you typically set is its [`maximumSize`](https://developer.apple.com/documentation/avfoundation/avassetimagegenerator/maximumsize). By default, a generator produces images at the video’s native resolution, which is often larger than required, and can be CPU and memory intensive. Instead, set a value for its [`maximumSize`](https://developer.apple.com/documentation/avfoundation/avassetimagegenerator/maximumsize) property to constrain the size of its output. For example, you can constrain the width to a specific value, and specify `0` to proportionally scale the height, by setting a maximum size as follows.
```
// Generate the equivalent of a 150-pixel-wide @2x image.
generator.maximumSize = CGSize(width: 300, height: 0)

```

### [Specify the time precision](https://developer.apple.com/documentation/avfoundation/creating-images-from-a-video-asset#Specify-the-time-precision)
By default, an image generator creates images near the time you request, but its actual time may be slightly before or after for efficiency sake. To change the amount of time you allow the generator to deviate from the requested time, set the value of its [`requestedTimeToleranceBefore`](https://developer.apple.com/documentation/avfoundation/avassetimagegenerator/requestedtimetolerancebefore) and [`requestedTimeToleranceAfter`](https://developer.apple.com/documentation/avfoundation/avassetimagegenerator/requestedtimetoleranceafter) properties. For example, to allow image generation to occur over a time range that starts no earlier than your requested time, and no later than two seconds after, set its tolerance values as shown below.
```
// Configure the generator's time tolerance values.
generator.requestedTimeToleranceBefore = .zero
generator.requestedTimeToleranceAfter = CMTime(seconds: 2, preferredTimescale: 600)

```

You can request frame-accurate image generation by setting the values of the before and after tolerances to [`zero`](https://developer.apple.com/documentation/CoreMedia/CMTime/zero). However, configuring the generator this way requires it to perform additional frame decoding, which impacts its image generation speed.
### [Generate images](https://developer.apple.com/documentation/avfoundation/creating-images-from-a-video-asset#Generate-images)
Retrieving and decoding the media data that a generator requires to produce images takes an unknown amount of time. It’s not safe to perform image generation synchronously because it blocks the calling thread, which can degrade your app’s user experience and may even result in a crash. Instead, perform image generation asynchronously.
To create a single image from the video timeline, call the asynchronous [`image(at:)`](https://developer.apple.com/documentation/avfoundation/avassetimagegenerator/image\(at:\)) method, passing it your requested time. The following example shows how to create an image for the first frame in the video.
```
// Generate an image at time zero.
let (image, actualTime) = try await generator.image(at: .zero)

```

Because the time at which it creates an image may vary from your requested time, the method returns the actual image-generation time along with the image in a tuple. If you don’t require this information, you can retrieve the image more succinctly as shown below.
```
// Generate an image at time zero. Access the image alone.
let image = try await generator.image(at: .zero).image

```

You can also use an image generator to create a sequence of images from the video timeline. To generate multiple images from a video asset, call the asynchronous [`images(for:)`](https://developer.apple.com/documentation/avfoundation/avassetimagegenerator/images\(for:\)) method as shown below.
```
let times: [CMTime] = // An array of times at which to create images.
for await result in generator.images(for: times) {
    switch result {
    case .success(requestedTime: let requested, image: let image, actualTime: let actual):
        // Process the image for the requested time.
    case .failure(requestedTime: let requested, error: let error):
        // Handle the failure for the requested time.
    }
}

```

This method returns an asynchronous sequence of type [`AVAssetImageGenerator.Images`](https://developer.apple.com/documentation/avfoundation/avassetimagegenerator/images) that you iterate over and await results from. If image generation for a requested time succeeds, the result provides the image, along with the requested and actual image generation times. If a requested time fails, the result provides the time and an error that describes the failure.
## [See Also](https://developer.apple.com/documentation/avfoundation/creating-images-from-a-video-asset#see-also)
### [Image generation](https://developer.apple.com/documentation/avfoundation/creating-images-from-a-video-asset#Image-generation)
[`class AVAssetImageGenerator`](https://developer.apple.com/documentation/avfoundation/avassetimagegenerator)
An object that generates images from a video asset.
Current page is Creating images from a video asset 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Favfoundation%2Fcreating-images-from-a-video-asset).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
