Source: https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox

[ Skip Navigation ](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox)
  * SwiftLanguage:  Swift  Objective-C 
Language: 
    * Swift 
    * [ Objective-C ](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox)


[](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox)
## [ StoreKit  ](https://developer.apple.com/documentation/storekit)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 33 symbols inside <root>
In-App Purchase
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
2 of 33 symbols inside <root> containing 60 symbols[In-App Purchase](https://developer.apple.com/documentation/storekit/in-app-purchase)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 60 symbols inside -1505352393 
In-App Purchase merchandising
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
2 of 60 symbols inside -1505352393 containing 83 symbols[StoreKit views](https://developer.apple.com/documentation/storekit/storekit-views)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
3 of 60 symbols inside -1505352393 
Product and subscription information
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
4 of 60 symbols inside -1505352393 [Implementing a store in your app using the StoreKit API](https://developer.apple.com/documentation/storekit/implementing-a-store-in-your-app-using-the-storekit-api)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
5 of 60 symbols inside -1505352393 containing 45 symbols[Product](https://developer.apple.com/documentation/storekit/product)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
6 of 60 symbols inside -1505352393 containing 24 symbols[Product.SubscriptionInfo](https://developer.apple.com/documentation/storekit/product/subscriptioninfo)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
T
7 of 60 symbols inside -1505352393 [SubscriptionInfo](https://developer.apple.com/documentation/storekit/subscriptioninfo)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
T
8 of 60 symbols inside -1505352393 [SubscriptionStatus](https://developer.apple.com/documentation/storekit/subscriptionstatus)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
9 of 60 symbols inside -1505352393 
Purchase requests and results
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
10 of 60 symbols inside -1505352393 containing 4 symbols[PurchaseAction](https://developer.apple.com/documentation/storekit/purchaseaction)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
11 of 60 symbols inside -1505352393 [func purchase(options: Set<Product.PurchaseOption>) async throws -> Product.PurchaseResult](https://developer.apple.com/documentation/storekit/product/purchase\(options:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
E
12 of 60 symbols inside -1505352393 containing 4 symbols[Product.PurchaseResult](https://developer.apple.com/documentation/storekit/product/purchaseresult)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
13 of 60 symbols inside -1505352393 
Transaction history and entitlements
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
14 of 60 symbols inside -1505352393 containing 41 symbols[Transaction](https://developer.apple.com/documentation/storekit/transaction)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
15 of 60 symbols inside -1505352393 [static var updates: Transaction.Transactions](https://developer.apple.com/documentation/storekit/transaction/updates)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
16 of 60 symbols inside -1505352393 [static var all: Transaction.Transactions](https://developer.apple.com/documentation/storekit/transaction/all)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
E
40 of 60 symbols inside -1505352393 containing 29 symbols[AppStore](https://developer.apple.com/documentation/storekit/appstore)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
41 of 60 symbols inside -1505352393 containing 29 symbols[AppTransaction](https://developer.apple.com/documentation/storekit/apptransaction)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
41 of 60 symbols inside -1505352393 containing 29 symbols[AppTransaction](https://developer.apple.com/documentation/storekit/apptransaction)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
42 of 60 symbols inside -1505352393 
Storefront information
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
43 of 60 symbols inside -1505352393 containing 9 symbols[Storefront](https://developer.apple.com/documentation/storekit/storefront)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
44 of 60 symbols inside -1505352393 [static var current: Storefront?](https://developer.apple.com/documentation/storekit/storefront/current)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
45 of 60 symbols inside -1505352393 [static var updates: Storefront.Storefronts](https://developer.apple.com/documentation/storekit/storefront/updates)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
46 of 60 symbols inside -1505352393 
In-App Purchase Testing
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
47 of 60 symbols inside -1505352393 [Testing at all stages of development with Xcode and the sandbox](https://developer.apple.com/documentation/storekit/testing-at-all-stages-of-development-with-xcode-and-the-sandbox)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
48 of 60 symbols inside -1505352393 containing 26 symbols[Testing In-App Purchases with sandbox](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 26 symbols inside 796861196 
Product identifiers and requests
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
2 of 26 symbols inside 796861196 [Testing fetching product identifiers](https://developer.apple.com/documentation/storekit/testing-fetching-product-identifiers)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
3 of 26 symbols inside 796861196 [Testing invalid product identifier handling](https://developer.apple.com/documentation/storekit/testing-invalid-product-identifier-handling)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
4 of 26 symbols inside 796861196 [Testing a product request](https://developer.apple.com/documentation/storekit/testing-a-product-request)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
5 of 26 symbols inside 796861196 
Payment transactions
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
6 of 26 symbols inside 796861196 [Testing purchases made outside your app](https://developer.apple.com/documentation/storekit/testing-purchases-made-outside-your-app)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
7 of 26 symbols inside 796861196 [Testing win-back offers in the sandbox environment](https://developer.apple.com/documentation/storekit/testing-win-back-offers-in-the-sandbox-environment)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
8 of 26 symbols inside 796861196 [Testing an interrupted purchase](https://developer.apple.com/documentation/storekit/testing-an-interrupted-purchase)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
9 of 26 symbols inside 796861196 [Testing failing subscription renewals and In-App Purchases](https://developer.apple.com/documentation/storekit/testing-failing-subscription-renewals-and-in-app-purchases)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
10 of 26 symbols inside 796861196 [Testing a payment request](https://developer.apple.com/documentation/storekit/testing-a-payment-request)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
11 of 26 symbols inside 796861196 
Subscriptions
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
12 of 26 symbols inside 796861196 [Testing an auto-renewable subscription](https://developer.apple.com/documentation/storekit/testing-an-auto-renewable-subscription)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
13 of 26 symbols inside 796861196 [Testing resubscribing from the subscriptions page](https://developer.apple.com/documentation/storekit/testing-resubscribing-from-the-subscriptions-page)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
14 of 26 symbols inside 796861196 [Testing disabling auto-renew](https://developer.apple.com/documentation/storekit/testing-disabling-auto-renew)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
15 of 26 symbols inside 796861196 
Family Sharing
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
16 of 26 symbols inside 796861196 [Testing Family Sharing](https://developer.apple.com/documentation/storekit/testing-family-sharing)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
17 of 26 symbols inside 796861196 
Age Assurance
119 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ StoreKit ](https://developer.apple.com/documentation/storekit)
  * [ In-App Purchase ](https://developer.apple.com/documentation/storekit/in-app-purchase)
  * [ Testing In-App Purchases with sandbox ](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox)
  *     * [ In-App Purchase ](https://developer.apple.com/documentation/storekit/in-app-purchase)
    * Testing In-App Purchases with sandbox 


Article
# Testing In-App Purchases with sandbox
Test your implementation of In-App Purchases using real product information and server-to-server transactions in the sandbox environment.
## [Overview](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#overview)
Use the Apple sandbox environment to test your implementation of In-App Purchases that use the StoreKit framework on devices with real product information from App Store Connect. Transactions from test accounts don’t incur charges because the sandbox environment simulates successful transactions using the App Store’s infrastructure without processing actual payments.
Apps in the development and beta-testing stages of your product cycle use the sandbox environment for In-App Purchases. These apps include:
  * Development-signed apps you build and run from Xcode
  * Apps you download from TestFlight


When you sign in to a Sandbox Apple Account on your device, you gain access to sandbox settings that control the test environment. Use these settings to change the subscription renewal rate, clear purchase history, simulate win-back offers, and more.
### [Prepare for sandbox testing](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#Prepare-for-sandbox-testing)
Before you start testing In-App Purchases in the sandbox environment, make sure that:
  1. Your Apple Developer Program account is active. For more information, see [Become a member](https://developer.apple.com/programs/enroll/).
  2. Your membership Account Holder has signed the Paid Applications Agreement, as described in [Sign and update agreements](https://developer.apple.com/help/app-store-connect/manage-agreements/sign-and-update-agreements).
  3. You set up the product information in App Store Connect for the app you’re testing. At minimum, set up a product reference name, product ID, a localized name, and a price. For more information, see [Overview for configuring in-app purchases](https://developer.apple.com/help/app-store-connect/configure-in-app-purchase-settings/overview-for-configuring-in-app-purchases).
  4. You create Sandbox Apple Accounts in App Store Connect. For more information, see [Create a Sandbox Apple Account](https://developer.apple.com/help/app-store-connect/test-in-app-purchases/create-sandbox-apple-ids).
  5. You grant permission for locally installed apps to run on the device if you test a development-signed build on iOS, watchOS, or visionOS devices. For more information, see [Enabling Developer Mode on a device](https://developer.apple.com/documentation/Xcode/enabling-developer-mode-on-a-device).


For more information on the workflow from signing agreements to testing, see [App Store Connect workflow](https://developer.apple.com/help/app-store-connect/get-started/app-store-connect-workflow).
Next, prepare your app to test:
  * During developement, build and run your app from Xcode. At this stage, you don’t need to upload your app binary to App Store Connect to test it in the sandbox environment.
  * During beta testing, download your app from TestFlight.


Finally, to gain access to the sandbox settings, follow the instructions below to sign in to your Sandbox Apple Account. The instructions differ for a development-signed app and for an app you download from TestFlight.
### [Sign in to your Sandbox Apple Account for a development-signed app](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#Sign-in-to-your-Sandbox-Apple-Account-for-a-development-signed-app)
In iOS and iPadOS, the sandbox account appears in Settings > Developer after the first time you use the device to attempt a purchase in a development-signed app. There’s no need to sign out of the non-Sandbox Apple Account. Sign in using a Sandbox Apple Account.
In macOS, the sandbox account appears in App Store Settings after the first time you use the device to make an In-App Purchase. Open App Store > Settings and click the Sign In button to sign in using a Sandbox Apple Account. When you’re done testing, sign out of the Sandbox Apple Account from the App Store Settings.
If your test device has macOS 11.1 or earlier installed, sign out of the Mac App Store, then build your app in Xcode and launch it from Finder.
The first time you make a purchase in a development-signed app, sign in to the App Store using your Sandbox Apple Account to begin testing. When you sign in, the text `[Environment: Sandbox]` appears, indicating that you’ve connected to the test environment. If `[Environment: Sandbox]` doesn’t appear, you’re using the production environment.
### [Sign in to your Sandbox Apple Account for a TestFlight app](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#Sign-in-to-your-Sandbox-Apple-Account-for-a-TestFlight-app)
Apps that you download from TestFlight always run in the sandbox environment. However, to access the sandbox controls for testing, you need to sign out of your production Apple Account in Media & Purchases, and sign in with a Sandbox Apple Account in Developer settings.
Follow these steps to access sandbox controls for TestFlight in iOS:
  1. Download your beta app from TestFlight. You need to be signed in with a production Apple Account to download a beta app. For more information, see [TestFlight Overview](https://developer.apple.com/help/app-store-connect/test-a-beta-version/testflight-overview).
  2. Open Settings and select your Apple Account.
  3. Select Media & Purchases.
  4. On the pop-up menu, select Sign Out.
  5. Next, open Settings and select Developer. (This option is available when you enable [Developer Mode](https://developer.apple.com/documentation/Xcode/enabling-developer-mode-on-a-device)).
  6. Scroll to the bottom of the screen, and select Sign In under Sandbox Apple Account. Enter your Sandbox Apple Account credentials.


Your device now has access to the sandbox controls for testing your beta app, and In-App Purchases use your Sandbox Apple Account.
Important
Signing out of Media & Purchases can remove your access to purchased content in production apps on your device. Consider using a dedicated testing device when testing a TestFlight app with sandbox controls.
If you sign back in to your Apple Account in Media & Purchases, apps you install through TestFlight revert to attributing In-App Purchases to your Apple Account and not to your Sandbox Apple Account.
### [Manage sandbox settings from App Store Connect or iOS Account Settings](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#Manage-sandbox-settings-from-App-Store-Connect-or-iOS-Account-Settings)
Sandbox settings enable you to control the testing environment to set up your tests. You can manage the settings in App Store Connect or in iOS Account Settings, whichever you prefer. The settings affect the sandbox the same way, regardless of which method you choose. However, some settings are available only in App Store Connect. The following table compares the settings on both platforms:
Sandbox setting or feature | Available in App Store Connect | Available in iOS  
---|---|---  
Create or delete a Sandbox Apple Account | Yes | No  
Create or delete a Sandbox Test Family | Yes | No  
Remove a member from a Sandbox Test Family | Yes | No  
Change the storefront country or region | Yes | No  
Change the subscription renewal rate | Yes | Yes  
Enable interrupted purchases | Yes | Yes  
Clear purchase history for a Sandbox Apple Account | Yes | Yes  
Change sharing status for a Sandbox Test Family member | Yes | Yes  
Select whether to display win-back offer sheets in the app | No | Yes  
To access the Account Settings in iOS, follow these steps:
  1. Open Settings and select Developer.
  2. Select the Sandbox Apple Account.
  3. On the pop-up sheet, select Manage. The Account Settings page appears.


Note
Changes you make to product metadata in App Store Connect can take up to one hour to appear in the sandbox environment.
For information on all aspects of managing sandbox settings in App Store Connect, see [Overview of testing in sandbox](https://developer.apple.com/help/app-store-connect/test-in-app-purchases/overview-of-testing-in-sandbox).
### [Get server notifications for the sandbox environment](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#Get-server-notifications-for-the-sandbox-environment)
Along with testing In-App Purchase in your app, you can also test related server operations in the sandbox environment. To enable App Store Server Notifications for the sandbox environment, see [Enabling App Store Server Notifications](https://developer.apple.com/documentation/AppStoreServerNotifications/enabling-app-store-server-notifications).
As you test your app, your server receives notifications for In-App Purchase transactions. The notification payload identifies the sandbox environment in the [`environment`](https://developer.apple.com/documentation/AppStoreServerNotifications/environment) property of the [`data`](https://developer.apple.com/documentation/AppStoreServerNotifications/data) object. For more information, [Testing App Store server notifications](https://developer.apple.com/documentation/storekit/testing-app-store-server-notifications).
The [App Store Server API](https://developer.apple.com/documentation/AppStoreServerAPI) is also available in the sandbox environment. Use the endpoints’ sandbox URLs to get information about transactions that occur during testing.
### [Test In-App Purchases for all regions](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#Test-In-App-Purchases-for-all-regions)
In-app products you create through App Store Connect are available for sale in every App Store region. You can also maintain a list of product identifiers that you make available in specific regions. To test In-App Purchases in multiple regions using the same Sandbox Apple Account:
  1. Open App Store Connect.
  2. Click the Sandbox Apple Account.
  3. Change the App Store Country or Region setting.


For more information, see [Manage Sandbox Apple Account settings](https://developer.apple.com/help/app-store-connect/test-in-app-purchases/manage-sandbox-apple-id-settings).
To activate a storefront after you change the region in App Store Connect, sign out of the Sandbox Apple Account account on the device and sign back in. When testing this activation, you see the In-App Purchases appropriate to the region assigned to your Sandbox Apple Account. Changing the App Store Country or Region setting affects the storefront value in your app. For more information, see [`Storefront`](https://developer.apple.com/documentation/storekit/storefront).
### [Clear the purchase history for a Sandbox Apple Account](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#Clear-the-purchase-history-for-a-Sandbox-Apple-Account)
To manage repeated testing using the same Sandbox Apple Account, clear its purchase history in App Store Connect or from Account Settings in iOS. On your iOS device, follow these steps:
  1. Open Settings and select Developer.
  2. Select the Sandbox Apple Account.
  3. On the pop-up sheet, select Manage.
  4. On the Account Settings page, select Clear Purchase History.
  5. Sign out of the Sandbox Apple Account to clear the purchase history cache on the device. Sign back in to continue testing.


For information about clearing the purchase history from App Store Connect, see [Manage Sandbox Apple Account settings](https://developer.apple.com/help/app-store-connect/test-in-app-purchases/manage-sandbox-apple-id-settings).
Clearing the purchase history for Sandbox Apple Accounts with a high number of purchases can take longer than several minutes. When the process completes, the transaction history is empty and the Sandbox Apple Account is eligible for introductory offers. If you’re signed in with the Sandbox Apple Account, you can purchase subscriptions previously subscribed to without causing duplicate purchases.
Note
Clearing the purchase history doesn’t affect In-App Purchases that customers make on the App Store.
## [Topics](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#topics)
### [Product identifiers and requests](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#Product-identifiers-and-requests)
[Testing fetching product identifiers](https://developer.apple.com/documentation/storekit/testing-fetching-product-identifiers)
Verify that your app receives the correct product identifiers by inspecting or replicating your app’s process for retrieving the identifiers.
[Testing invalid product identifier handling](https://developer.apple.com/documentation/storekit/testing-invalid-product-identifier-handling)
Verify that your app correctly handles invalid product identifiers.
[Testing a product request](https://developer.apple.com/documentation/storekit/testing-a-product-request)
Verify that requests for products function properly in the sandbox environment by inspecting the App Store response.
### [Payment transactions](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#Payment-transactions)
[Testing purchases made outside your app](https://developer.apple.com/documentation/storekit/testing-purchases-made-outside-your-app)
Verify that your app receives and handles transactions that occur outside your app, such as subscription purchases, renewals, and offer and promo code redemptions.
[Testing win-back offers in the sandbox environment](https://developer.apple.com/documentation/storekit/testing-win-back-offers-in-the-sandbox-environment)
Verify that your app receives and handles win-back offer transactions, including those made outside your app.
[Testing an interrupted purchase](https://developer.apple.com/documentation/storekit/testing-an-interrupted-purchase)
Verify that your app handles an interrupted purchase by inspecting and invoking payment transactions.
[Testing failing subscription renewals and In-App Purchases](https://developer.apple.com/documentation/storekit/testing-failing-subscription-renewals-and-in-app-purchases)
Verify that your app handles failed subscription renewals that are in the billing retry or billing grace period states, as well as failed In-App Purchases.
[Testing a payment request](https://developer.apple.com/documentation/storekit/testing-a-payment-request)
Verify that requests for payment function properly in the sandbox environment by inspecting the calls to the payment transaction observer.
### [Subscriptions](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#Subscriptions)
[Testing an auto-renewable subscription](https://developer.apple.com/documentation/storekit/testing-an-auto-renewable-subscription)
Verify that your app handles a subscription lapse properly using the accelerated time rates within the sandbox environment.
[Testing resubscribing from the subscriptions page](https://developer.apple.com/documentation/storekit/testing-resubscribing-from-the-subscriptions-page)
Verify that your app can reactivate an expired subscription by receiving a transaction callback or inspecting an updated receipt.
[Testing disabling auto-renew](https://developer.apple.com/documentation/storekit/testing-disabling-auto-renew)
Verify that your app receives subscription updates when a user cancels a subscription by verifying the receipt or receiving a notification.
### [Family Sharing](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#Family-Sharing)
[Testing Family Sharing](https://developer.apple.com/documentation/storekit/testing-family-sharing)
Verify that your app handles auto-renewable subscriptions and non-consumable in-app purchases that family members share with Family Sharing.
### [Age Assurance](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#Age-Assurance)
[Testing Age Assurance in Sandbox](https://developer.apple.com/documentation/storekit/testing-age-assurance-in-sandbox)
Check that your app responds correctly to Age Assurance scenarios and consent revocation using the Sandbox environment.
### [Refunds](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#Refunds)
[Testing refund requests](https://developer.apple.com/documentation/storekit/testing-refund-requests)
Test your app’s implementation of refund requests, and your app’s and server’s handling of approved and declined refunds.
### [Server notifications](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#Server-notifications)
[Testing App Store server notifications](https://developer.apple.com/documentation/storekit/testing-app-store-server-notifications)
Confirm that App Store Server Notifications service responds properly in the sandbox environment.
### [Transaction observer](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#Transaction-observer)
[Testing transaction observer code](https://developer.apple.com/documentation/storekit/testing-transaction-observer-code)
Verify that your app activates its payment transaction observer by using breakpoints.
[Testing a successful transaction](https://developer.apple.com/documentation/storekit/testing-a-successful-transaction)
Confirm that your app can make a successful transaction in the sandbox environment by inspecting the transaction.
[Testing complete transactions](https://developer.apple.com/documentation/storekit/testing-complete-transactions)
Verify that your app completes transactions properly by confirming that any downloadable purchases are present on your test device.
## [See Also](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#see-also)
### [In-App Purchase Testing](https://developer.apple.com/documentation/storekit/testing-in-app-purchases-with-sandbox#In-App-Purchase-Testing)
[Testing at all stages of development with Xcode and the sandbox](https://developer.apple.com/documentation/storekit/testing-at-all-stages-of-development-with-xcode-and-the-sandbox)
Verify your implementation of In-App Purchases by testing your code throughout its development.
[Testing refund requests](https://developer.apple.com/documentation/storekit/testing-refund-requests)
Test your app’s implementation of refund requests, and your app’s and server’s handling of approved and declined refunds.
[Testing win-back offers in Xcode](https://developer.apple.com/documentation/storekit/testing-win-back-offers-in-xcode)
Validate your app’s handling of win-back offers that you configure for the testing environment.
[Testing Ask to Buy in Xcode](https://developer.apple.com/documentation/storekit/testing-ask-to-buy-in-xcode)
Validate your app’s handling of Ask To Buy in the testing environment.
Current page is Testing In-App Purchases with sandbox 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Fstorekit%2Ftesting-in-app-purchases-with-sandbox).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
