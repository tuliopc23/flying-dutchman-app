Source: https://developer.apple.com/documentation/appkit/nslayoutmanager

[ Skip Navigation ](https://developer.apple.com/documentation/appkit/nslayoutmanager#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/appkit/nslayoutmanager#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/appkit/nslayoutmanager)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/appkit/nslayoutmanager)
  * SwiftLanguage:  Swift  Objective-C 
Language: 
    * Swift 
    * [ Objective-C ](https://developer.apple.com/documentation/appkit/nslayoutmanager)


[](https://developer.apple.com/documentation/appkit/nslayoutmanager)
## [ AppKit  ](https://developer.apple.com/documentation/appkit)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 44 symbols inside <root>
Essentials
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
2 of 44 symbols inside <root> [Adopting Liquid Glass](https://developer.apple.com/documentation/technologyoverviews/adopting-liquid-glass)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
3 of 44 symbols inside <root> [AppKit updates](https://developer.apple.com/documentation/updates/appkit)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
4 of 44 symbols inside <root> [Protecting the User’s Privacy](https://developer.apple.com/documentation/uikit/protecting-the-user-s-privacy)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
5 of 44 symbols inside <root> [Porting your macOS apps to Apple silicon](https://developer.apple.com/documentation/apple-silicon/porting-your-macos-apps-to-apple-silicon)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
6 of 44 symbols inside <root>
App Structure
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
7 of 44 symbols inside <root> containing 26 symbols[App and Environment](https://developer.apple.com/documentation/appkit/app-and-environment)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
8 of 44 symbols inside <root> containing 26 symbols[Documents, Data, and Pasteboard](https://developer.apple.com/documentation/appkit/documents-data-and-pasteboard)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
9 of 44 symbols inside <root> containing 21 symbols[Cocoa Bindings](https://developer.apple.com/documentation/appkit/cocoa-bindings)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
10 of 44 symbols inside <root> containing 8 symbols[Resource Management](https://developer.apple.com/documentation/appkit/resource-management)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
11 of 44 symbols inside <root> containing 19 symbols[App Extensions](https://developer.apple.com/documentation/appkit/app-extensions)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
12 of 44 symbols inside <root>
User Interface
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
13 of 44 symbols inside <root> containing 60 symbols[Views and Controls](https://developer.apple.com/documentation/appkit/views-and-controls)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
14 of 44 symbols inside <root> containing 18 symbols[View Management](https://developer.apple.com/documentation/appkit/view-management)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
15 of 44 symbols inside <root> containing 13 symbols[View Layout](https://developer.apple.com/documentation/appkit/view-layout)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
16 of 44 symbols inside <root> containing 5 symbols[Appearance Customization](https://developer.apple.com/documentation/appkit/appearance-customization)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
17 of 44 symbols inside <root> containing 11 symbols[Animation](https://developer.apple.com/documentation/appkit/animation)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
18 of 44 symbols inside <root> containing 38 symbols[Windows, Panels, and Screens](https://developer.apple.com/documentation/appkit/windows-panels-and-screens)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
T
42 of 52 symbols inside -1600736537 [NSGlyph](https://developer.apple.com/documentation/appkit/nsglyph)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
43 of 52 symbols inside -1600736537 containing 9 symbols[NSGlyphStorage](https://developer.apple.com/documentation/appkit/nsglyphstorage)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
43 of 52 symbols inside -1600736537 containing 9 symbols[NSGlyphStorage](https://developer.apple.com/documentation/appkit/nsglyphstorage)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
44 of 52 symbols inside -1600736537 containing 4 symbols[NSGlyphGenerator](https://developer.apple.com/documentation/appkit/nsglyphgenerator)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
45 of 52 symbols inside -1600736537 containing 13 symbols[NSGlyphInfo](https://developer.apple.com/documentation/appkit/nsglyphinfo)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
46 of 52 symbols inside -1600736537 containing 3 symbols[Reserved Glyph Codes](https://developer.apple.com/documentation/appkit/reserved-glyph-codes)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
E
47 of 52 symbols inside -1600736537 containing 7 symbols[NSFontRenderingMode](https://developer.apple.com/documentation/appkit/nsfontrenderingmode)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
48 of 52 symbols inside -1600736537 
TextKit 1
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
49 of 52 symbols inside -1600736537 containing 33 symbols[NSTextStorage](https://developer.apple.com/documentation/appkit/nstextstorage)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
50 of 52 symbols inside -1600736537 containing 137 symbols[NSLayoutManager](https://developer.apple.com/documentation/appkit/nslayoutmanager)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 137 symbols inside -1556574876 
Creating a layout manager
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
2 of 137 symbols inside -1556574876 [init()](https://developer.apple.com/documentation/appkit/nslayoutmanager/init\(\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
3 of 137 symbols inside -1556574876 [init?(coder: NSCoder)](https://developer.apple.com/documentation/appkit/nslayoutmanager/init\(coder:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
4 of 137 symbols inside -1556574876 
Managing the layout process
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
5 of 137 symbols inside -1556574876 [var delegate: (any NSLayoutManagerDelegate)?](https://developer.apple.com/documentation/appkit/nslayoutmanager/delegate)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
6 of 137 symbols inside -1556574876 containing 18 symbols[NSLayoutManagerDelegate](https://developer.apple.com/documentation/appkit/nslayoutmanagerdelegate)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
7 of 137 symbols inside -1556574876 
Accessing the text storage
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
8 of 137 symbols inside -1556574876 [var textStorage: NSTextStorage?](https://developer.apple.com/documentation/appkit/nslayoutmanager/textstorage)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
9 of 137 symbols inside -1556574876 [func replaceTextStorage(NSTextStorage)](https://developer.apple.com/documentation/appkit/nslayoutmanager/replacetextstorage\(_:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
10 of 137 symbols inside -1556574876 
Configuring the global layout manager options
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
11 of 137 symbols inside -1556574876 [var allowsNonContiguousLayout: Bool](https://developer.apple.com/documentation/appkit/nslayoutmanager/allowsnoncontiguouslayout)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
12 of 137 symbols inside -1556574876 [var hasNonContiguousLayout: Bool](https://developer.apple.com/documentation/appkit/nslayoutmanager/hasnoncontiguouslayout)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
13 of 137 symbols inside -1556574876 [var showsInvisibleCharacters: Bool](https://developer.apple.com/documentation/appkit/nslayoutmanager/showsinvisiblecharacters)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
14 of 137 symbols inside -1556574876 [var showsControlCharacters: Bool](https://developer.apple.com/documentation/appkit/nslayoutmanager/showscontrolcharacters)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
15 of 137 symbols inside -1556574876 [var usesFontLeading: Bool](https://developer.apple.com/documentation/appkit/nslayoutmanager/usesfontleading)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
16 of 137 symbols inside -1556574876 [var backgroundLayoutEnabled: Bool](https://developer.apple.com/documentation/appkit/nslayoutmanager/backgroundlayoutenabled)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
17 of 137 symbols inside -1556574876 [var limitsLayoutForSuspiciousContents: Bool](https://developer.apple.com/documentation/appkit/nslayoutmanager/limitslayoutforsuspiciouscontents)
233 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ AppKit ](https://developer.apple.com/documentation/appkit)
  * [ NSLayoutManager ](https://developer.apple.com/documentation/appkit/nslayoutmanager)
  *     * NSLayoutManager 


Class
# NSLayoutManager
An object that coordinates the layout and display of text characters.
macOS 10.7+
```
class NSLayoutManager
```

## [Overview](https://developer.apple.com/documentation/appkit/nslayoutmanager#overview)
[`NSLayoutManager`](https://developer.apple.com/documentation/appkit/nslayoutmanager) maps Unicode character codes to glyphs, sets the glyphs in a series of [`NSTextContainer`](https://developer.apple.com/documentation/appkit/nstextcontainer) objects, and displays them in a series of [`NSTextView`](https://developer.apple.com/documentation/appkit/nstextview) objects. In addition to its core function of laying out text, a layout manager object coordinates its text view objects, provides services to those text views to support [`NSRulerView`](https://developer.apple.com/documentation/appkit/nsrulerview) instances for editing paragraph styles, and handles the layout and display of text attributes not inherent in glyphs (such as underline or strikethrough). You can create a subclass of [`NSLayoutManager`](https://developer.apple.com/documentation/appkit/nslayoutmanager) to handle additional text attributes, whether inherent or not.
### [Text Antialiasing](https://developer.apple.com/documentation/appkit/nslayoutmanager#Text-Antialiasing)
[`NSLayoutManager`](https://developer.apple.com/documentation/appkit/nslayoutmanager) provides the threshold for text antialiasing. It looks at the `AppleAntiAliasingThreshold` default value. If the font size is smaller than or equal to this threshold size, the text is rendered aliased by [`NSLayoutManager`](https://developer.apple.com/documentation/appkit/nslayoutmanager). In macOS, you can change the threshold value from the Appearance pane of System Preferences.
### [Thread Safety of NSLayoutManager](https://developer.apple.com/documentation/appkit/nslayoutmanager#Thread-Safety-of-NSLayoutManager)
Generally speaking, a specific layout manager (and associated objects) should not be used in more than one block, operation, or thread at a time. Most layout managers are used on the main thread, since it is the main thread on which their text views are displayed, and since background layout occurs on the main thread.
If you want to use a layout manager on a background thread, first make sure that text views associated with that layout manager (if any) are not displayed while the layout manager is being used on the background thread, and, second, turn off background layout for that layout manager while it is being used on the background thread. The most effective way to ensure that no text view is displayed, without knowing deep implementation, is just not to connect a text view to the layout manager.
### [Noncontiguous Layout](https://developer.apple.com/documentation/appkit/nslayoutmanager#Noncontiguous-Layout)
Noncontiguous layout is an optional layout manager behavior. Previously, both glyph generation and layout were always performed, in order, from the beginning to the end of the document. When noncontiguous layout is turned on, however, the layout manager gains the option of performing glyph generation or layout for one portion of the document without having done so for previous sections. This can provide significant performance improvements for large documents.
Noncontiguous layout is not turned on automatically because direct clients of `NSLayoutManager` typically have relied on the previous behavior—for example, by forcing layout for a specific glyph range, and then assuming that previous glyphs would therefore be laid out. Clients who use [`NSLayoutManager`](https://developer.apple.com/documentation/appkit/nslayoutmanager) only indirectly—for example, those who use [`NSTextView`](https://developer.apple.com/documentation/appkit/nstextview) without directly calling the underlying layout manager—can usually turn on noncontiguous layout without difficulty. Clients using [`NSLayoutManager`](https://developer.apple.com/documentation/appkit/nslayoutmanager) directly need to examine their usage before turning on noncontiguous layout.
Enable noncontiguous layout using the [`allowsNonContiguousLayout`](https://developer.apple.com/documentation/appkit/nslayoutmanager/allowsnoncontiguouslayout) property. In addition, see the other methods in [Causing glyph generation and layout](https://developer.apple.com/documentation/appkit/nslayoutmanager#Causing-glyph-generation-and-layout), many of which enable you to ensure that glyph generation and layout are performed for specified portions of the text. The behavior of a number of other layout manager methods is affected by the state of noncontiguous layout, as noted in the discussion sections of those method descriptions.
## [Topics](https://developer.apple.com/documentation/appkit/nslayoutmanager#topics)
### [Creating a layout manager](https://developer.apple.com/documentation/appkit/nslayoutmanager#Creating-a-layout-manager)
[`init()`](https://developer.apple.com/documentation/appkit/nslayoutmanager/init\(\))
Initializes a newly created layout manager object.
[`init?(coder: NSCoder)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/init\(coder:\))
Creates a layout manager from data in an unarchiver.
### [Managing the layout process](https://developer.apple.com/documentation/appkit/nslayoutmanager#Managing-the-layout-process)
[`var delegate: (any NSLayoutManagerDelegate)?`](https://developer.apple.com/documentation/appkit/nslayoutmanager/delegate)
The layout manager’s delegate.
[`protocol NSLayoutManagerDelegate`](https://developer.apple.com/documentation/appkit/nslayoutmanagerdelegate)
A set of optional methods that delegates of layout manager objects implement.
### [Accessing the text storage](https://developer.apple.com/documentation/appkit/nslayoutmanager#Accessing-the-text-storage)
[`var textStorage: NSTextStorage?`](https://developer.apple.com/documentation/appkit/nslayoutmanager/textstorage)
The text storage object that contains the content to lay out.
[`func replaceTextStorage(NSTextStorage)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/replacetextstorage\(_:\))
Replaces the layout manager’s current text storage object with the specified object.
### [Configuring the global layout manager options](https://developer.apple.com/documentation/appkit/nslayoutmanager#Configuring-the-global-layout-manager-options)
[`var allowsNonContiguousLayout: Bool`](https://developer.apple.com/documentation/appkit/nslayoutmanager/allowsnoncontiguouslayout)
A Boolean value that indicates whether the layout manager allows noncontiguous layout.
[`var hasNonContiguousLayout: Bool`](https://developer.apple.com/documentation/appkit/nslayoutmanager/hasnoncontiguouslayout)
A Boolean value that indicates whether the layout manager currently has any areas of noncontiguous layout.
[`var showsInvisibleCharacters: Bool`](https://developer.apple.com/documentation/appkit/nslayoutmanager/showsinvisiblecharacters)
A Boolean value that indicates whether to substitute visible glyphs for whitespace and other typically invisible characters.
[`var showsControlCharacters: Bool`](https://developer.apple.com/documentation/appkit/nslayoutmanager/showscontrolcharacters)
A Boolean value that indicates whether the layout manager substitutes visible glyphs for control characters in the layout.
[`var usesFontLeading: Bool`](https://developer.apple.com/documentation/appkit/nslayoutmanager/usesfontleading)
A Boolean value that indicates whether the layout manager uses the leading of the font.
[`var backgroundLayoutEnabled: Bool`](https://developer.apple.com/documentation/appkit/nslayoutmanager/backgroundlayoutenabled)
A Boolean value that indicates whether the layout manager generates glyphs and lays them out when the app’s run loop is idle.
[`var limitsLayoutForSuspiciousContents: Bool`](https://developer.apple.com/documentation/appkit/nslayoutmanager/limitslayoutforsuspiciouscontents)
A Boolean value that indicates whether the layout manager avoids laying out unusually long or suspicious input.
[`var usesDefaultHyphenation: Bool`](https://developer.apple.com/documentation/appkit/nslayoutmanager/usesdefaulthyphenation)
A Boolean value that indicates whether the layout manager uses the default hyphenation rules to wrap lines.
### [Managing the text containers](https://developer.apple.com/documentation/appkit/nslayoutmanager#Managing-the-text-containers)
[`var textContainers: [NSTextContainer]`](https://developer.apple.com/documentation/appkit/nslayoutmanager/textcontainers)
The current text containers of the layout manager.
[`func addTextContainer(NSTextContainer)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/addtextcontainer\(_:\))
Appends the specified text container to the series of text containers where the layout manager arranges text.
[`func insertTextContainer(NSTextContainer, at: Int)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/inserttextcontainer\(_:at:\))
Inserts a text container at the specified index in the list of text containers.
[`func removeTextContainer(at: Int)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/removetextcontainer\(at:\))
Removes the text container at the specified index and invalidates the layout as necessary.
[`func setTextContainer(NSTextContainer, forGlyphRange: NSRange)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/settextcontainer\(_:forglyphrange:\))
Associates a text container with the specified range of glyphs.
[`func textContainerChangedGeometry(NSTextContainer)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/textcontainerchangedgeometry\(_:\))
Invalidates the layout information, and possibly glyphs, for the specified text container and all subsequent text container objects.
[`func textContainerChangedTextView(NSTextContainer)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/textcontainerchangedtextview\(_:\))
Updates the information necessary to manage text view objects for the specified text container.
[`func textContainer(forGlyphAt: Int, effectiveRange: NSRangePointer?) -> NSTextContainer?`](https://developer.apple.com/documentation/appkit/nslayoutmanager/textcontainer\(forglyphat:effectiverange:\))
Returns the text container that manages the layout for the specified glyph, causing layout to happen as necessary.
[`func textContainer(forGlyphAt: Int, effectiveRange: NSRangePointer?, withoutAdditionalLayout: Bool) -> NSTextContainer?`](https://developer.apple.com/documentation/appkit/nslayoutmanager/textcontainer\(forglyphat:effectiverange:withoutadditionallayout:\))
Returns the text container that manages the layout for the specified glyph.
[`func usedRect(for: NSTextContainer) -> NSRect`](https://developer.apple.com/documentation/appkit/nslayoutmanager/usedrect\(for:\))
Returns the bounding rectangle for the glyphs in the specified text container.
### [Invalidating glyphs and layout](https://developer.apple.com/documentation/appkit/nslayoutmanager#Invalidating-glyphs-and-layout)
[`func invalidateDisplay(forCharacterRange: NSRange)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/invalidatedisplay\(forcharacterrange:\))
Invalidates display for the specified character range.
[`func invalidateDisplay(forGlyphRange: NSRange)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/invalidatedisplay\(forglyphrange:\))
Invalidates a range of glyphs, requiring new layout information, and updates the appropriate regions of any text views that display those glyphs.
[`func invalidateGlyphs(forCharacterRange: NSRange, changeInLength: Int, actualCharacterRange: NSRangePointer?)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/invalidateglyphs\(forcharacterrange:changeinlength:actualcharacterrange:\))
Invalidates and adjusts the glyphs in the specified character range.
[`func invalidateLayout(forCharacterRange: NSRange, actualCharacterRange: NSRangePointer?)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/invalidatelayout\(forcharacterrange:actualcharacterrange:\))
Invalidates the layout information for the glyphs that map to the specified character range.
[`func processEditing(for: NSTextStorage, edited: NSTextStorageEditActions, range: NSRange, changeInLength: Int, invalidatedRange: NSRange)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/processediting\(for:edited:range:changeinlength:invalidatedrange:\))
Notifies the layout manager when an edit action changes the contents of its text storage object.
### [Causing glyph generation and layout](https://developer.apple.com/documentation/appkit/nslayoutmanager#Causing-glyph-generation-and-layout)
[`func ensureGlyphs(forCharacterRange: NSRange)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/ensureglyphs\(forcharacterrange:\))
Forces the layout manager to generate glyphs for the specified character range if it hasn’t already.
[`func ensureGlyphs(forGlyphRange: NSRange)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/ensureglyphs\(forglyphrange:\))
Forces the layout manager to generate glyphs for the specified glyph range if it hasn’t already.
[`func ensureLayout(forBoundingRect: NSRect, in: NSTextContainer)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/ensurelayout\(forboundingrect:in:\))
Forces the layout manager to perform layout for the specified area in the specified text container if it hasn’t already.
[`func ensureLayout(forCharacterRange: NSRange)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/ensurelayout\(forcharacterrange:\))
Forces the layout manager to perform layout for the specified character range if it hasn’t already.
[`func ensureLayout(forGlyphRange: NSRange)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/ensurelayout\(forglyphrange:\))
Forces the layout manager to perform layout for the specified glyph range if it hasn’t already.
[`func ensureLayout(for: NSTextContainer)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/ensurelayout\(for:\))
Forces the layout manager to perform layout for the specified text container if it hasn’t already.
[`var glyphGenerator: NSGlyphGenerator`](https://developer.apple.com/documentation/appkit/nslayoutmanager/glyphgenerator)
The glyph generator that the layout manager uses.
### [Accessing glyphs](https://developer.apple.com/documentation/appkit/nslayoutmanager#Accessing-glyphs)
[`func getGlyphs(in: NSRange, glyphs: UnsafeMutablePointer<CGGlyph>?, properties: UnsafeMutablePointer<NSLayoutManager.GlyphProperty>?, characterIndexes: UnsafeMutablePointer<Int>?, bidiLevels: UnsafeMutablePointer<UInt8>?) -> Int`](https://developer.apple.com/documentation/appkit/nslayoutmanager/getglyphs\(in:glyphs:properties:characterindexes:bidilevels:\))
Fills a passed-in buffer with a sequence of glyphs.
[`func cgGlyph(at: Int) -> CGGlyph`](https://developer.apple.com/documentation/appkit/nslayoutmanager/cgglyph\(at:\))
Returns the glyph at the specified index.
[`func cgGlyph(at: Int, isValidIndex: UnsafeMutablePointer<ObjCBool>?) -> CGGlyph`](https://developer.apple.com/documentation/appkit/nslayoutmanager/cgglyph\(at:isvalidindex:\))
Returns the glyph at the specified index along with information about whether the glyph index is valid.
[`func setGlyphs(UnsafePointer<CGGlyph>, properties: UnsafePointer<NSLayoutManager.GlyphProperty>, characterIndexes: UnsafePointer<Int>, font: NSFont, forGlyphRange: NSRange)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/setglyphs\(_:properties:characterindexes:font:forglyphrange:\))
Stores the initial glyphs and glyph properties for a character range.
[`func characterIndexForGlyph(at: Int) -> Int`](https://developer.apple.com/documentation/appkit/nslayoutmanager/characterindexforglyph\(at:\))
Returns the index in the text storage for the first character of the specified glyph.
[`func glyphIndexForCharacter(at: Int) -> Int`](https://developer.apple.com/documentation/appkit/nslayoutmanager/glyphindexforcharacter\(at:\))
Returns the index of the first glyph of the character at the specified index.
[`func isValidGlyphIndex(Int) -> Bool`](https://developer.apple.com/documentation/appkit/nslayoutmanager/isvalidglyphindex\(_:\))
Indicates whether the specified index refers to a valid glyph.
[`var numberOfGlyphs: Int`](https://developer.apple.com/documentation/appkit/nslayoutmanager/numberofglyphs)
The number of glyphs in the layout manager.
[`func propertyForGlyph(at: Int) -> NSLayoutManager.GlyphProperty`](https://developer.apple.com/documentation/appkit/nslayoutmanager/propertyforglyph\(at:\))
Returns the glyph property of the glyph at the specified index.
[`struct GlyphProperty`](https://developer.apple.com/documentation/appkit/nslayoutmanager/glyphproperty)
Glyph properties.
### [Setting layout information](https://developer.apple.com/documentation/appkit/nslayoutmanager#Setting-layout-information)
[`func setAttachmentSize(NSSize, forGlyphRange: NSRange)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/setattachmentsize\(_:forglyphrange:\))
Sets the size to use when drawing a glyph that represents an attachment.
[`func setDrawsOutsideLineFragment(Bool, forGlyphAt: Int)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/setdrawsoutsidelinefragment\(_:forglyphat:\))
Indicates whether the specified glyph exceeds the bounds of the line fragment for its layout.
[`func setExtraLineFragmentRect(NSRect, usedRect: NSRect, textContainer: NSTextContainer)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/setextralinefragmentrect\(_:usedrect:textcontainer:\))
Sets the bounds and container for the extra line fragment.
[`func setLineFragmentRect(NSRect, forGlyphRange: NSRange, usedRect: NSRect)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/setlinefragmentrect\(_:forglyphrange:usedrect:\))
Associates the line fragment bounds for the specified range of glyphs.
[`func setLocation(NSPoint, forStartOfGlyphRange: NSRange)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/setlocation\(_:forstartofglyphrange:\))
Sets the location for the first glyph in the specified range.
[`func setNotShownAttribute(Bool, forGlyphAt: Int)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/setnotshownattribute\(_:forglyphat:\))
Sets the visibility of the glyph at the specified index.
### [Getting layout information](https://developer.apple.com/documentation/appkit/nslayoutmanager#Getting-layout-information)
[`func attachmentSize(forGlyphAt: Int) -> NSSize`](https://developer.apple.com/documentation/appkit/nslayoutmanager/attachmentsize\(forglyphat:\))
Returns the size of the attachment glyph at the specified index.
[`func drawsOutsideLineFragment(forGlyphAt: Int) -> Bool`](https://developer.apple.com/documentation/appkit/nslayoutmanager/drawsoutsidelinefragment\(forglyphat:\))
Indicates whether the glyph draws outside its line fragment rectangle.
[`var extraLineFragmentRect: NSRect`](https://developer.apple.com/documentation/appkit/nslayoutmanager/extralinefragmentrect)
The rectangle for the extra line fragment at the end of a document.
[`var extraLineFragmentTextContainer: NSTextContainer?`](https://developer.apple.com/documentation/appkit/nslayoutmanager/extralinefragmenttextcontainer)
The text container for the extra line fragment rectangle.
[`var extraLineFragmentUsedRect: NSRect`](https://developer.apple.com/documentation/appkit/nslayoutmanager/extralinefragmentusedrect)
The rectangle that encloses the insertion point in the extra line fragment rectangle.
[`func firstUnlaidCharacterIndex() -> Int`](https://developer.apple.com/documentation/appkit/nslayoutmanager/firstunlaidcharacterindex\(\))
Returns the index for the first character in the layout manager that isn’t in the layout.
[`func firstUnlaidGlyphIndex() -> Int`](https://developer.apple.com/documentation/appkit/nslayoutmanager/firstunlaidglyphindex\(\))
Returns the index for the first glyph in the layout manager that isn’t in the layout.
[`func getFirstUnlaidCharacterIndex(UnsafeMutablePointer<Int>?, glyphIndex: UnsafeMutablePointer<Int>?)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/getfirstunlaidcharacterindex\(_:glyphindex:\))
Returns the indexes for the first character and glyph that have invalid layout information.
[`func lineFragmentRect(forGlyphAt: Int, effectiveRange: NSRangePointer?) -> NSRect`](https://developer.apple.com/documentation/appkit/nslayoutmanager/linefragmentrect\(forglyphat:effectiverange:\))
Returns the rectangle for the line fragment where the glyph lies and (optionally), by reference, the entire range of glyphs in that fragment.
[`func lineFragmentRect(forGlyphAt: Int, effectiveRange: NSRangePointer?, withoutAdditionalLayout: Bool) -> NSRect`](https://developer.apple.com/documentation/appkit/nslayoutmanager/linefragmentrect\(forglyphat:effectiverange:withoutadditionallayout:\))
Returns the line fragment rectangle that contains the glyph at the specified glyph index.
[`func lineFragmentUsedRect(forGlyphAt: Int, effectiveRange: NSRangePointer?) -> NSRect`](https://developer.apple.com/documentation/appkit/nslayoutmanager/linefragmentusedrect\(forglyphat:effectiverange:\))
Returns the usage rectangle for the line fragment and (optionally) returns the entire range of glyphs in that fragment.
[`func lineFragmentUsedRect(forGlyphAt: Int, effectiveRange: NSRangePointer?, withoutAdditionalLayout: Bool) -> NSRect`](https://developer.apple.com/documentation/appkit/nslayoutmanager/linefragmentusedrect\(forglyphat:effectiverange:withoutadditionallayout:\))
Returns the usage rectangle for the line fragment and (optionally) returns the entire range of glyphs in that fragment.
[`func location(forGlyphAt: Int) -> NSPoint`](https://developer.apple.com/documentation/appkit/nslayoutmanager/location\(forglyphat:\))
Returns the location for the specified glyph within its line fragment.
[`func notShownAttribute(forGlyphAt: Int) -> Bool`](https://developer.apple.com/documentation/appkit/nslayoutmanager/notshownattribute\(forglyphat:\))
Indicates whether the glyph at the specified index has a visible representation.
[`func truncatedGlyphRange(inLineFragmentForGlyphAt: Int) -> NSRange`](https://developer.apple.com/documentation/appkit/nslayoutmanager/truncatedglyphrange\(inlinefragmentforglyphat:\))
Returns the range of truncated glyphs for a line fragment that contains the specified index.
### [Performing advanced layout queries](https://developer.apple.com/documentation/appkit/nslayoutmanager#Performing-advanced-layout-queries)
[`func boundingRect(forGlyphRange: NSRange, in: NSTextContainer) -> NSRect`](https://developer.apple.com/documentation/appkit/nslayoutmanager/boundingrect\(forglyphrange:in:\))
Returns the bounding rectangle for the specified glyphs in a container.
[`func characterIndex(for: NSPoint, in: NSTextContainer, fractionOfDistanceBetweenInsertionPoints: UnsafeMutablePointer<CGFloat>?) -> Int`](https://developer.apple.com/documentation/appkit/nslayoutmanager/characterindex\(for:in:fractionofdistancebetweeninsertionpoints:\))
Returns the index of the character that lies beneath the specified point using the specified container’s coordinate system.
[`func characterRange(forGlyphRange: NSRange, actualGlyphRange: NSRangePointer?) -> NSRange`](https://developer.apple.com/documentation/appkit/nslayoutmanager/characterrange\(forglyphrange:actualglyphrange:\))
Returns the range of characters that correspond to the glyphs in the specified glyph range.
[`func enumerateEnclosingRects(forGlyphRange: NSRange, withinSelectedGlyphRange: NSRange, in: NSTextContainer, using: (NSRect, UnsafeMutablePointer<ObjCBool>) -> Void)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/enumerateenclosingrects\(forglyphrange:withinselectedglyphrange:in:using:\))
Enumerates enclosing rectangles for the specified glyph range in a text container.
[`func enumerateLineFragments(forGlyphRange: NSRange, using: (NSRect, NSRect, NSTextContainer, NSRange, UnsafeMutablePointer<ObjCBool>) -> Void)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/enumeratelinefragments\(forglyphrange:using:\))
Enumerates line fragments intersecting with the specified glyph range.
[`func fractionOfDistanceThroughGlyph(for: NSPoint, in: NSTextContainer) -> CGFloat`](https://developer.apple.com/documentation/appkit/nslayoutmanager/fractionofdistancethroughglyph\(for:in:\))
Returns the fraction of the distance between the glyph at the specified point and the next glyph.
[`func getLineFragmentInsertionPoints(forCharacterAt: Int, alternatePositions: Bool, inDisplayOrder: Bool, positions: UnsafeMutablePointer<CGFloat>?, characterIndexes: UnsafeMutablePointer<Int>?) -> Int`](https://developer.apple.com/documentation/appkit/nslayoutmanager/getlinefragmentinsertionpoints\(forcharacterat:alternatepositions:indisplayorder:positions:characterindexes:\))
Returns insertion points in bulk for a specified line fragment.
[`func glyphIndex(for: NSPoint, in: NSTextContainer) -> Int`](https://developer.apple.com/documentation/appkit/nslayoutmanager/glyphindex\(for:in:\))
Returns the index of the glyph at the specified location in a text container.
[`func glyphIndex(for: NSPoint, in: NSTextContainer, fractionOfDistanceThroughGlyph: UnsafeMutablePointer<CGFloat>?) -> Int`](https://developer.apple.com/documentation/appkit/nslayoutmanager/glyphindex\(for:in:fractionofdistancethroughglyph:\))
Returns the index of the glyph at the specified point using the container’s coordinate system.
[`func glyphRange(forBoundingRect: NSRect, in: NSTextContainer) -> NSRange`](https://developer.apple.com/documentation/appkit/nslayoutmanager/glyphrange\(forboundingrect:in:\))
Returns the smallest contiguous range for glyphs lying wholly or partially within the specified rectangle of the text container.
[`func glyphRange(forBoundingRectWithoutAdditionalLayout: NSRect, in: NSTextContainer) -> NSRange`](https://developer.apple.com/documentation/appkit/nslayoutmanager/glyphrange\(forboundingrectwithoutadditionallayout:in:\))
Returns the smallest contiguous range for glyphs lying wholly or partially within the specified rectangle of the text container.
[`func glyphRange(for: NSTextContainer) -> NSRange`](https://developer.apple.com/documentation/appkit/nslayoutmanager/glyphrange\(for:\))
Returns the range of glyphs lying within the specified text container.
[`func glyphRange(forCharacterRange: NSRange, actualCharacterRange: NSRangePointer?) -> NSRange`](https://developer.apple.com/documentation/appkit/nslayoutmanager/glyphrange\(forcharacterrange:actualcharacterrange:\))
Returns the range of glyphs that the specified range of characters generates.
[`func range(ofNominallySpacedGlyphsContaining: Int) -> NSRange`](https://developer.apple.com/documentation/appkit/nslayoutmanager/range\(ofnominallyspacedglyphscontaining:\))
Returns the range of displayable glyphs that surround the glyph at the specified index.
### [Drawing](https://developer.apple.com/documentation/appkit/nslayoutmanager#Drawing)
[`func drawBackground(forGlyphRange: NSRange, at: NSPoint)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/drawbackground\(forglyphrange:at:\))
Draws background marks for the specified glyphs, which must lie completely within a single text container.
[`func drawGlyphs(forGlyphRange: NSRange, at: NSPoint)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/drawglyphs\(forglyphrange:at:\))
Draws the specified glyphs, which must lie completely within a single text container.
[`func drawStrikethrough(forGlyphRange: NSRange, strikethroughType: NSUnderlineStyle, baselineOffset: CGFloat, lineFragmentRect: NSRect, lineFragmentGlyphRange: NSRange, containerOrigin: NSPoint)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/drawstrikethrough\(forglyphrange:strikethroughtype:baselineoffset:linefragmentrect:linefragmentglyphrange:containerorigin:\))
Draws a strikethrough for the specified glyphs.
[`func drawUnderline(forGlyphRange: NSRange, underlineType: NSUnderlineStyle, baselineOffset: CGFloat, lineFragmentRect: NSRect, lineFragmentGlyphRange: NSRange, containerOrigin: NSPoint)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/drawunderline\(forglyphrange:underlinetype:baselineoffset:linefragmentrect:linefragmentglyphrange:containerorigin:\))
Draws underlining for the glyphs in a specified range.
[`func fillBackgroundRectArray(UnsafePointer<NSRect>, count: Int, forCharacterRange: NSRange, color: NSColor)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/fillbackgroundrectarray\(_:count:forcharacterrange:color:\))
Fills background rectangles with a color.
[`func showCGGlyphs(UnsafePointer<CGGlyph>, positions: UnsafePointer<CGPoint>, count: Int, font: NSFont, textMatrix: CGAffineTransform, attributes: [NSAttributedString.Key : Any], in: CGContext)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/showcgglyphs\(_:positions:count:font:textmatrix:attributes:in:\))
Renders the glyphs at the specified positions, using the specified attributes.
[`func strikethroughGlyphRange(NSRange, strikethroughType: NSUnderlineStyle, lineFragmentRect: NSRect, lineFragmentGlyphRange: NSRange, containerOrigin: NSPoint)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/strikethroughglyphrange\(_:strikethroughtype:linefragmentrect:linefragmentglyphrange:containerorigin:\))
Calculates and draws strikethrough for the specified glyphs.
[`func underlineGlyphRange(NSRange, underlineType: NSUnderlineStyle, lineFragmentRect: NSRect, lineFragmentGlyphRange: NSRange, containerOrigin: NSPoint)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/underlineglyphrange\(_:underlinetype:linefragmentrect:linefragmentglyphrange:containerorigin:\))
Calculates subranges to underline for the specified glyphs and draws the underlining as appropriate.
### [Handling layout for text blocks](https://developer.apple.com/documentation/appkit/nslayoutmanager#Handling-layout-for-text-blocks)
[`func setLayoutRect(NSRect, for: NSTextBlock, glyphRange: NSRange)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/setlayoutrect\(_:for:glyphrange:\))
Sets the layout rectangle that encloses the specified text block and glyph range.
[`func layoutRect(for: NSTextBlock, glyphRange: NSRange) -> NSRect`](https://developer.apple.com/documentation/appkit/nslayoutmanager/layoutrect\(for:glyphrange:\))
Returns the rectangle for the layout of the specified text block and glyph range.
[`func setBoundsRect(NSRect, for: NSTextBlock, glyphRange: NSRange)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/setboundsrect\(_:for:glyphrange:\))
Sets the bounding rectangle that encloses the specified text block and glyph range.
[`func boundsRect(for: NSTextBlock, glyphRange: NSRange) -> NSRect`](https://developer.apple.com/documentation/appkit/nslayoutmanager/boundsrect\(for:glyphrange:\))
Returns the bounding rectangle that encloses the specified text block and glyph range.
[`func layoutRect(for: NSTextBlock, at: Int, effectiveRange: NSRangePointer?) -> NSRect`](https://developer.apple.com/documentation/appkit/nslayoutmanager/layoutrect\(for:at:effectiverange:\))
Returns the rectangle for the layout of the specified text block and glyph.
[`func boundsRect(for: NSTextBlock, at: Int, effectiveRange: NSRangePointer?) -> NSRect`](https://developer.apple.com/documentation/appkit/nslayoutmanager/boundsrect\(for:at:effectiverange:\))
Returns the bounding rectangle for the specified text block and glyph.
### [Managing attachments](https://developer.apple.com/documentation/appkit/nslayoutmanager#Managing-attachments)
[`var defaultAttachmentScaling: NSImageScaling`](https://developer.apple.com/documentation/appkit/nslayoutmanager/defaultattachmentscaling)
The default amount of scaling to apply when an attachment image is too large to fit in a text container.
[`func showAttachmentCell(NSCell, in: NSRect, characterIndex: Int)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/showattachmentcell\(_:in:characterindex:\))
Draws an attachment cell.
### [Handling Rulers](https://developer.apple.com/documentation/appkit/nslayoutmanager#Handling-Rulers)
[`func rulerAccessoryView(for: NSTextView, paragraphStyle: NSParagraphStyle, ruler: NSRulerView, enabled: Bool) -> NSView?`](https://developer.apple.com/documentation/appkit/nslayoutmanager/ruleraccessoryview\(for:paragraphstyle:ruler:enabled:\))
Returns the accessory view that the text system uses for its ruler.
[`func rulerMarkers(for: NSTextView, paragraphStyle: NSParagraphStyle, ruler: NSRulerView) -> [NSRulerMarker]`](https://developer.apple.com/documentation/appkit/nslayoutmanager/rulermarkers\(for:paragraphstyle:ruler:\))
Returns an array of text ruler objects for the current selection.
### [Managing the responder chain](https://developer.apple.com/documentation/appkit/nslayoutmanager#Managing-the-responder-chain)
[`func layoutManagerOwnsFirstResponder(in: NSWindow) -> Bool`](https://developer.apple.com/documentation/appkit/nslayoutmanager/layoutmanagerownsfirstresponder\(in:\))
Indicates whether the first responder in the specified window is a text view for the layout manager.
[`var firstTextView: NSTextView?`](https://developer.apple.com/documentation/appkit/nslayoutmanager/firsttextview)
The first text view in the layout manager’s series of text views.
[`var textViewForBeginningOfSelection: NSTextView?`](https://developer.apple.com/documentation/appkit/nslayoutmanager/textviewforbeginningofselection)
The text view that contains the first glyph in the selection.
### [Managing the typesetter](https://developer.apple.com/documentation/appkit/nslayoutmanager#Managing-the-typesetter)
[`var typesetter: NSTypesetter`](https://developer.apple.com/documentation/appkit/nslayoutmanager/typesetter)
The current typesetter.
[`var typesetterBehavior: NSLayoutManager.TypesetterBehavior`](https://developer.apple.com/documentation/appkit/nslayoutmanager/typesetterbehavior-swift.property)
The default typesetter behavior.
[`enum TypesetterBehavior`](https://developer.apple.com/documentation/appkit/nslayoutmanager/typesetterbehavior-swift.enum)
Constants that determine the layout manager’s behavior during layout.
[`func defaultLineHeight(for: NSFont) -> CGFloat`](https://developer.apple.com/documentation/appkit/nslayoutmanager/defaultlineheight\(for:\))
Returns the default line height for a line of text that uses a specified font.
[`func defaultBaselineOffset(for: NSFont) -> CGFloat`](https://developer.apple.com/documentation/appkit/nslayoutmanager/defaultbaselineoffset\(for:\))
Returns the default baseline offset that the layout manager’s typesetter uses for the specified font.
### [Managing temporary attribute support](https://developer.apple.com/documentation/appkit/nslayoutmanager#Managing-temporary-attribute-support)
[`func addTemporaryAttributes([NSAttributedString.Key : Any], forCharacterRange: NSRange)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/addtemporaryattributes\(_:forcharacterrange:\))
Appends one or more temporary attributes to the attributes dictionary of the specified character range.
[`func addTemporaryAttribute(NSAttributedString.Key, value: Any, forCharacterRange: NSRange)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/addtemporaryattribute\(_:value:forcharacterrange:\))
Adds a temporary attribute to the characters in the specified range.
[`func setTemporaryAttributes([NSAttributedString.Key : Any], forCharacterRange: NSRange)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/settemporaryattributes\(_:forcharacterrange:\))
Sets one or more temporary attributes for the specified character range.
[`func removeTemporaryAttribute(NSAttributedString.Key, forCharacterRange: NSRange)`](https://developer.apple.com/documentation/appkit/nslayoutmanager/removetemporaryattribute\(_:forcharacterrange:\))
Removes a temporary attribute from the list of attributes for the specified character range.
[`func temporaryAttribute(NSAttributedString.Key, atCharacterIndex: Int, effectiveRange: NSRangePointer?) -> Any?`](https://developer.apple.com/documentation/appkit/nslayoutmanager/temporaryattribute\(_:atcharacterindex:effectiverange:\))
Returns the value for the temporary attribute of a character, and the range it applies to.
[`func temporaryAttribute(NSAttributedString.Key, atCharacterIndex: Int, longestEffectiveRange: NSRangePointer?, in: NSRange) -> Any?`](https://developer.apple.com/documentation/appkit/nslayoutmanager/temporaryattribute\(_:atcharacterindex:longesteffectiverange:in:\))
Returns the value for the temporary attribute of a character, and the maximum range it applies to.
[`func temporaryAttributes(atCharacterIndex: Int, effectiveRange: NSRangePointer?) -> [NSAttributedString.Key : Any]`](https://developer.apple.com/documentation/appkit/nslayoutmanager/temporaryattributes\(atcharacterindex:effectiverange:\))
Returns the dictionary of temporary attributes for the specified character range.
[`func temporaryAttributes(atCharacterIndex: Int, longestEffectiveRange: NSRangePointer?, in: NSRange) -> [NSAttributedString.Key : Any]`](https://developer.apple.com/documentation/appkit/nslayoutmanager/temporaryattributes\(atcharacterindex:longesteffectiverange:in:\))
Returns the temporary attributes for a character, and the maximum range they apply to.
### [Supporting types](https://developer.apple.com/documentation/appkit/nslayoutmanager#Supporting-types)
[`enum TextLayoutOrientation`](https://developer.apple.com/documentation/appkit/nslayoutmanager/textlayoutorientation)
Constants that describe the text layout orientation.
### [Deprecated](https://developer.apple.com/documentation/appkit/nslayoutmanager#Deprecated)
[API Reference Deprecated Symbols](https://developer.apple.com/documentation/appkit/nslayoutmanager-deprecated-symbols)
Review unsupported symbols and their replacements.
## [Relationships](https://developer.apple.com/documentation/appkit/nslayoutmanager#relationships)
### [Inherits From](https://developer.apple.com/documentation/appkit/nslayoutmanager#inherits-from)
  * [`NSObject`](https://developer.apple.com/documentation/ObjectiveC/NSObject-swift.class)


### [Conforms To](https://developer.apple.com/documentation/appkit/nslayoutmanager#conforms-to)
  * [`CVarArg`](https://developer.apple.com/documentation/Swift/CVarArg)
  * [`Copyable`](https://developer.apple.com/documentation/Swift/Copyable)
  * [`CustomDebugStringConvertible`](https://developer.apple.com/documentation/Swift/CustomDebugStringConvertible)
  * [`CustomStringConvertible`](https://developer.apple.com/documentation/Swift/CustomStringConvertible)
  * [`Equatable`](https://developer.apple.com/documentation/Swift/Equatable)
  * [`Hashable`](https://developer.apple.com/documentation/Swift/Hashable)
  * [`NSCoding`](https://developer.apple.com/documentation/Foundation/NSCoding)
  * [`NSGlyphStorage`](https://developer.apple.com/documentation/appkit/nsglyphstorage)
  * [`NSObjectProtocol`](https://developer.apple.com/documentation/ObjectiveC/NSObjectProtocol)
  * [`NSSecureCoding`](https://developer.apple.com/documentation/Foundation/NSSecureCoding)


## [See Also](https://developer.apple.com/documentation/appkit/nslayoutmanager#see-also)
### [TextKit 1](https://developer.apple.com/documentation/appkit/nslayoutmanager#TextKit-1)
[`class NSTextStorage`](https://developer.apple.com/documentation/appkit/nstextstorage)
The fundamental storage mechanism of TextKit that contains the text managed by the system.
[`class NSATSTypesetter`](https://developer.apple.com/documentation/appkit/nsatstypesetter)
A concrete typesetter object that places glyphs during the text layout process.
[`class NSTypesetter`](https://developer.apple.com/documentation/appkit/nstypesetter)
An abstract class that performs various type layout tasks.
Current page is NSLayoutManager 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Fappkit%2Fnslayoutmanager).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
