Source: https://developer.apple.com/documentation/authenticationservices/authenticating-a-user-through-a-web-service

[ Skip Navigation ](https://developer.apple.com/documentation/authenticationservices/authenticating-a-user-through-a-web-service#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/authenticationservices/authenticating-a-user-through-a-web-service#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/authenticationservices/authenticating-a-user-through-a-web-service)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/authenticationservices/authenticating-a-user-through-a-web-service)
  * SwiftLanguage:  Swift  Objective-C 
Language: 
    * Swift 
    * [ Objective-C ](https://developer.apple.com/documentation/authenticationservices/authenticating-a-user-through-a-web-service)


[](https://developer.apple.com/documentation/authenticationservices/authenticating-a-user-through-a-web-service)
## [ Authentication Services  ](https://developer.apple.com/documentation/authenticationservices)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
34 of 79 symbols inside <root>
Credential migration
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
16 of 79 symbols inside <root> containing 7 symbols[Password use in web browsers](https://developer.apple.com/documentation/authenticationservices/password-use-in-web-browsers)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
17 of 79 symbols inside <root>
Passkeys
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
18 of 79 symbols inside <root> containing 34 symbols[Public-Private Key Authentication](https://developer.apple.com/documentation/authenticationservices/public-private-key-authentication)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
19 of 79 symbols inside <root> containing 9 symbols[Passkey use in web browsers](https://developer.apple.com/documentation/authenticationservices/passkey-use-in-web-browsers)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
20 of 79 symbols inside <root> [Performing fast account creation with passkeys](https://developer.apple.com/documentation/authenticationservices/performing-fast-account-creation-with-passkeys)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
21 of 79 symbols inside <root> [Connecting to a service with passkeys](https://developer.apple.com/documentation/authenticationservices/connecting-to-a-service-with-passkeys)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
22 of 79 symbols inside <root>
Web authentication sessions
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
23 of 79 symbols inside <root> [Authenticating a User Through a Web Service](https://developer.apple.com/documentation/authenticationservices/authenticating-a-user-through-a-web-service)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
24 of 79 symbols inside <root> [Securing Logins with iCloud Keychain Verification Codes](https://developer.apple.com/documentation/authenticationservices/securing-logins-with-icloud-keychain-verification-codes)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
25 of 79 symbols inside <root> containing 21 symbols[ASWebAuthenticationSession](https://developer.apple.com/documentation/authenticationservices/aswebauthenticationsession)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
26 of 79 symbols inside <root> containing 6 symbols[WebAuthenticationSession](https://developer.apple.com/documentation/authenticationservices/webauthenticationsession)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
27 of 79 symbols inside <root> [Supporting Single Sign-On in a Web Browser App](https://developer.apple.com/documentation/authenticationservices/supporting-single-sign-on-in-a-web-browser-app)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
28 of 79 symbols inside <root> containing 7 symbols[ASWebAuthenticationSessionWebBrowserSessionManager](https://developer.apple.com/documentation/authenticationservices/aswebauthenticationsessionwebbrowsersessionmanager)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
29 of 79 symbols inside <root> [ASWebAuthenticationSessionWebBrowserSupportCapabilities](https://developer.apple.com/documentation/bundleresources/information-property-list/aswebauthenticationsessionwebbrowsersupportcapabilities)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
30 of 79 symbols inside <root>
AutoFill credentials
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
31 of 79 symbols inside <root> [Providing one-time passcodes to AutoFill](https://developer.apple.com/documentation/authenticationservices/providing-one-time-passcodes-to-autofill)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
T
32 of 79 symbols inside <root> [AutoFill Credential Provider Entitlement](https://developer.apple.com/documentation/bundleresources/entitlements/com.apple.developer.authentication-services.autofill-credential-provider)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
33 of 79 symbols inside <root> containing 42 symbols[ASCredentialProviderViewController](https://developer.apple.com/documentation/authenticationservices/ascredentialproviderviewcontroller)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
34 of 79 symbols inside <root>
Credential migration
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
35 of 79 symbols inside <root> containing 9 symbols[ASCredentialExportManager](https://developer.apple.com/documentation/authenticationservices/ascredentialexportmanager)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
36 of 79 symbols inside <root> containing 5 symbols[ASCredentialImportManager](https://developer.apple.com/documentation/authenticationservices/ascredentialimportmanager)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
37 of 79 symbols inside <root>
Single sign-on (SSO)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
38 of 79 symbols inside <root> containing 6 symbols[Enterprise single sign-on (SSO)](https://developer.apple.com/documentation/authenticationservices/enterprise-single-sign-on-sso)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
39 of 79 symbols inside <root> containing 15 symbols[Platform single sign-on (SSO)](https://developer.apple.com/documentation/authenticationservices/platform-single-sign-on-sso)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
40 of 79 symbols inside <root>
Apple TV authentication
79 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ Authentication Services ](https://developer.apple.com/documentation/authenticationservices)
  * [ Authenticating a User Through a Web Service ](https://developer.apple.com/documentation/authenticationservices/authenticating-a-user-through-a-web-service)
  *     * Authenticating a User Through a Web Service 


Article
# Authenticating a User Through a Web Service
Use a web authentication session to authenticate a user in your app.
## [Overview](https://developer.apple.com/documentation/authenticationservices/authenticating-a-user-through-a-web-service#overview)
Some websites provide, as a service, a secure mechanism for authenticating users. When the user navigates to the site’s authentication URL, the site presents the user with a form to collect credentials. After validating the credentials, the site redirects the user’s browser, typically using a custom scheme, to a URL that indicates the outcome of the authentication attempt.
### [Create a Web Authentication Session](https://developer.apple.com/documentation/authenticationservices/authenticating-a-user-through-a-web-service#Create-a-Web-Authentication-Session)
You can make use of a web authentication service in your app by initializing an [`ASWebAuthenticationSession`](https://developer.apple.com/documentation/authenticationservices/aswebauthenticationsession) instance with a URL that points to the authentication webpage. The page can be one that you maintain, or one operated by a third party. During initialization, indicate the callback scheme that the page uses to return the authentication outcome:
```
// Use the URL and callback scheme specified by the authorization provider.
guard let authURL = URL(string: "https://example.com/auth") else { return }
let scheme = "exampleauth"


// Initialize the session.
let session = ASWebAuthenticationSession(url: authURL, callbackURLScheme: scheme)
{ callbackURL, error in
    // Handle the callback.
}

```

Use the initializer’s trailing closure to tell the session how to handle the callback after authentication completes, as described below in [Handle the Callback](https://developer.apple.com/documentation/authenticationservices/authenticating-a-user-through-a-web-service#Handle-the-Callback).
In macOS, or if you have a deployment target of iOS 13 or later, the session keeps a strong reference to itself until the authentication process completes to prevent the system from deallocating the closure. For earlier iOS deployment targets, your app needs to keep a strong reference to the session until authentication completes.
### [Provide a Presentation Context](https://developer.apple.com/documentation/authenticationservices/authenticating-a-user-through-a-web-service#Provide-a-Presentation-Context)
Your app indicates the window that should act as a presentation anchor for the session by adopting the [`ASWebAuthenticationPresentationContextProviding`](https://developer.apple.com/documentation/authenticationservices/aswebauthenticationpresentationcontextproviding) protocol. From the [`presentationAnchor(for:)`](https://developer.apple.com/documentation/authenticationservices/aswebauthenticationpresentationcontextproviding/presentationanchor\(for:\)) method, which is the protocol’s one required method, return the window that should act as the anchor:
```
extension ViewController: ASWebAuthenticationPresentationContextProviding {
    func presentationAnchor(for session: ASWebAuthenticationSession) -> ASPresentationAnchor {
        return view.window!
    }
}

```

After creating the session, set an appropriate context provider instance as the session’s [`presentationContextProvider`](https://developer.apple.com/documentation/authenticationservices/aswebauthenticationsession/presentationcontextprovider) delegate:
```
session.presentationContextProvider = viewController

```

### [Optionally Request Ephemeral Browsing](https://developer.apple.com/documentation/authenticationservices/authenticating-a-user-through-a-web-service#Optionally-Request-Ephemeral-Browsing)
You can configure the session to request ephemeral browsing by setting the session’s [`prefersEphemeralWebBrowserSession`](https://developer.apple.com/documentation/authenticationservices/aswebauthenticationsession/prefersephemeralwebbrowsersession) property to `true`:
```
session.prefersEphemeralWebBrowserSession = true

```

This setting asks the browser to avoid using any existing browsing data, like cookies, during the authentication process. It also asks that the browser avoid retaining any data collected during the authentication attempt beyond the lifetime of the attempt, or sharing it with any other session. An ephemeral session may improve security but prevents reusing the result of a previously successful authentication, potentially forcing the user to reenter credentials. As a result, it’s typically best to let the user choose whether to request ephemeral browsing.
Safari always respects the request. In macOS, the user can choose a different default browser that might or might not respect the request.
Note
When not using an ephemeral session, all cookies except session cookies are available to the browser.
### [Start the Authentication Flow](https://developer.apple.com/documentation/authenticationservices/authenticating-a-user-through-a-web-service#Start-the-Authentication-Flow)
After configuring the session, call its [`start()`](https://developer.apple.com/documentation/authenticationservices/aswebauthenticationsession/start\(\)) method:
```
session.start()

```

In iOS, the session loads the authentication web page that you indicated during initialization in an embedded browser view. In macOS, the session sends the page load request to the user’s default browser if it handles authentication sessions, or to Safari otherwise. In any case, the browser presents the user with the authentication page, which is typically a form for entering a username and password.
You can cancel the authentication attempt from your app before the user finishes by calling the session’s [`cancel()`](https://developer.apple.com/documentation/authenticationservices/aswebauthenticationsession/cancel\(\)) method:
```
session.cancel()

```

When you cancel, the session automatically dismisses the corresponding browser view.
### [Handle the Callback](https://developer.apple.com/documentation/authenticationservices/authenticating-a-user-through-a-web-service#Handle-the-Callback)
After the user authenticates, the authentication provider redirects the browser to a URL that uses the callback scheme. The browser detects the redirect, dismisses itself, and passes the complete URL to your app by calling the closure you specified during initialization.
When you receive this callback, first check for errors. For example, you receive the [`canceledLogin`](https://developer.apple.com/documentation/authenticationservices/aswebauthenticationsessionerror/canceledlogin) error if the user aborts the flow by dismissing the browser window. If the error is `nil`, inspect the callback URL to determine the outcome of the authentication:
```
guard error == nil, let callbackURL = callbackURL else { return }


// The callback URL format depends on the provider. For this example:
//   exampleauth://auth?token=1234
let queryItems = URLComponents(string: callbackURL.absoluteString)?.queryItems
let token = queryItems?.filter({ $0.name == "token" }).first?.value

```

The above example looks for a token stored as a query parameter. The specific parsing that you have to do depends on how the authentication provider structures the callback URL.
## [See Also](https://developer.apple.com/documentation/authenticationservices/authenticating-a-user-through-a-web-service#see-also)
### [Web authentication sessions](https://developer.apple.com/documentation/authenticationservices/authenticating-a-user-through-a-web-service#Web-authentication-sessions)
[Securing Logins with iCloud Keychain Verification Codes](https://developer.apple.com/documentation/authenticationservices/securing-logins-with-icloud-keychain-verification-codes)
Use time-based codes generated on-device for a secure authentication experience.
[`class ASWebAuthenticationSession`](https://developer.apple.com/documentation/authenticationservices/aswebauthenticationsession)
A session that an app uses to authenticate a user through a web service.
[`struct WebAuthenticationSession`](https://developer.apple.com/documentation/authenticationservices/webauthenticationsession)
A SwiftUI environment value that views use to authenticate someone using a web service.
[Supporting Single Sign-On in a Web Browser App](https://developer.apple.com/documentation/authenticationservices/supporting-single-sign-on-in-a-web-browser-app)
Extend your web browser app to handle web authentication requests from other apps.
[`class ASWebAuthenticationSessionWebBrowserSessionManager`](https://developer.apple.com/documentation/authenticationservices/aswebauthenticationsessionwebbrowsersessionmanager)
A session manager that mediates sharing data between an app and a web browser.
[`ASWebAuthenticationSessionWebBrowserSupportCapabilities`](https://developer.apple.com/documentation/BundleResources/Information-Property-List/ASWebAuthenticationSessionWebBrowserSupportCapabilities)
A collection of keys that a browser app uses to declare its ability to handle authentication requests from other apps.
Current page is Authenticating a User Through a Web Service 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Fauthenticationservices%2Fauthenticating-a-user-through-a-web-service).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
