Source: https://developer.apple.com/documentation/UIKit/implementing-peek-and-pop

[ Skip Navigation ](https://developer.apple.com/documentation/UIKit/implementing-peek-and-pop#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/UIKit/implementing-peek-and-pop#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/UIKit/implementing-peek-and-pop)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/UIKit/implementing-peek-and-pop)
  * SwiftLanguage:  Swift  Objective-C 
Language: 
    * Swift 
    * [ Objective-C ](https://developer.apple.com/documentation/UIKit/implementing-peek-and-pop)


[](https://developer.apple.com/documentation/UIKit/implementing-peek-and-pop)
## [ UIKit  ](https://developer.apple.com/documentation/uikit)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
3 of 46 symbols inside <root> [UIKit updates](https://developer.apple.com/documentation/updates/uikit)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
4 of 46 symbols inside <root> [About App Development with UIKit](https://developer.apple.com/documentation/uikit/about-app-development-with-uikit)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
5 of 46 symbols inside <root> containing 3 symbols[Protecting the User’s Privacy](https://developer.apple.com/documentation/uikit/protecting-the-user-s-privacy)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
6 of 46 symbols inside <root>
App structure
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
7 of 46 symbols inside <root> containing 26 symbols[App and environment](https://developer.apple.com/documentation/uikit/app-and-environment)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
8 of 46 symbols inside <root> containing 15 symbols[Documents, data, and pasteboard](https://developer.apple.com/documentation/uikit/documents-data-and-pasteboard)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
9 of 46 symbols inside <root> containing 11 symbols[Resource management](https://developer.apple.com/documentation/uikit/resource-management)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
10 of 46 symbols inside <root> containing 12 symbols[App extensions](https://developer.apple.com/documentation/uikit/app-extensions)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
11 of 46 symbols inside <root> containing 8 symbols[Interprocess communication](https://developer.apple.com/documentation/uikit/interprocess-communication)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
12 of 46 symbols inside <root> containing 27 symbols[Mac Catalyst](https://developer.apple.com/documentation/uikit/mac-catalyst)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
13 of 46 symbols inside <root>
User interface
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
14 of 46 symbols inside <root> containing 70 symbols[Views and controls](https://developer.apple.com/documentation/uikit/views-and-controls)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
15 of 46 symbols inside <root> containing 80 symbols[View controllers](https://developer.apple.com/documentation/uikit/view-controllers)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
16 of 46 symbols inside <root> containing 17 symbols[View layout](https://developer.apple.com/documentation/uikit/view-layout)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
17 of 46 symbols inside <root> containing 26 symbols[Appearance customization](https://developer.apple.com/documentation/uikit/appearance-customization)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
18 of 46 symbols inside <root> containing 15 symbols[Animation and haptics](https://developer.apple.com/documentation/uikit/animation-and-haptics)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
22 of 33 symbols inside 1064477164 containing 10 symbols[UIAlertViewDelegate](https://developer.apple.com/documentation/uikit/uialertviewdelegate)Deprecated
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
23 of 33 symbols inside 1064477164 containing 5 symbols[UIPopoverControllerDelegate](https://developer.apple.com/documentation/uikit/uipopovercontrollerdelegate)Deprecated
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
23 of 33 symbols inside 1064477164 containing 5 symbols[UIPopoverControllerDelegate](https://developer.apple.com/documentation/uikit/uipopovercontrollerdelegate)Deprecated
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
24 of 33 symbols inside 1064477164 containing 16 symbols[UISearchDisplayDelegate](https://developer.apple.com/documentation/uikit/uisearchdisplaydelegate)Deprecated
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
25 of 33 symbols inside 1064477164 containing 6 symbols[UIViewControllerPreviewing](https://developer.apple.com/documentation/uikit/uiviewcontrollerpreviewing)Deprecated
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
26 of 33 symbols inside 1064477164 containing 3 symbols[UIViewControllerPreviewingDelegate](https://developer.apple.com/documentation/uikit/uiviewcontrollerpreviewingdelegate)Deprecated
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
27 of 33 symbols inside 1064477164 
Deprecated enumerations
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
28 of 33 symbols inside 1064477164 containing 8 symbols[UIDirectionalRectEdge](https://developer.apple.com/documentation/uikit/uidirectionalrectedge)Deprecated
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
E
29 of 33 symbols inside 1064477164 containing 6 symbols[UIStatusBarAnimation](https://developer.apple.com/documentation/uikit/uistatusbaranimation)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
30 of 33 symbols inside 1064477164 
Deprecated functions
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
31 of 33 symbols inside 1064477164 [func UIApplicationMain(Int32, UnsafeMutablePointer<UnsafeMutablePointer<Int8>>!, String?, String?) -> Int32](https://developer.apple.com/documentation/uikit/uiapplicationmain\(_:_:_:_:\)-9jjn8)Deprecated
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
32 of 33 symbols inside 1064477164 
Deprecated samples
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
33 of 33 symbols inside 1064477164 [Implementing Peek and Pop](https://developer.apple.com/documentation/uikit/implementing-peek-and-pop)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
40 of 46 symbols inside <root>
Reference
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
41 of 46 symbols inside <root> containing 4 symbols[UIKit Enumerations](https://developer.apple.com/documentation/uikit/uikit-enumerations)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
42 of 46 symbols inside <root> [UIKit Constants](https://developer.apple.com/documentation/uikit/uikit-constants)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
43 of 46 symbols inside <root> containing 5 symbols[UIKit Data Types](https://developer.apple.com/documentation/uikit/uikit-data-types)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
44 of 46 symbols inside <root> containing 7 symbols[UIKit Functions](https://developer.apple.com/documentation/uikit/uikit-functions)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
45 of 46 symbols inside <root>
Classes
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
46 of 46 symbols inside <root> containing 2 symbols[UIColorEffect](https://developer.apple.com/documentation/uikit/uicoloreffect)
79 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ UIKit ](https://developer.apple.com/documentation/uikit)
  * [ Deprecated symbols ](https://developer.apple.com/documentation/uikit/deprecated-symbols)
  * [ Implementing Peek and Pop ](https://developer.apple.com/documentation/UIKit/implementing-peek-and-pop)
  *     * [ Deprecated symbols ](https://developer.apple.com/documentation/uikit/deprecated-symbols)
    * Implementing Peek and Pop 


Sample Code
# Implementing Peek and Pop
Accelerate actions in your app by providing shortcuts to preview content in detail view controllers.
[ Download ](https://docs-assets.developer.apple.com/published/22fe32e34c3a/ImplementingPeekAndPop.zip)
iOS 11.4+iPadOS 11.4+Xcode 10.2+
## [Overview](https://developer.apple.com/documentation/UIKit/implementing-peek-and-pop#Overview)
This sample project demonstrates previewing content and providing quick shortcuts to functionality using Peek and Pop APIs. The app uses a table view to display a list of colors and tapping any row in the table navigates to a detail view controller showing the color. The app uses 3D Touch on the table view rows to allow users to peek at the content without placing it on the navigation stack.
Colors can also be starred or unstarred. Starred colors are shown with a solid filled colored star icon to the left of the name and unstarred colors have a hollow star. Users can toggle whether a color is starred using one of two methods: they can either tap a button in the navigation bar of the detail view, or use 3D Touch to peek at the content. Swiping up while in 3D Touch lets the user access a Peek Quick Action.
The app uses a tab bar controller to demonstrate two different methods for implementing Peek and Pop. The first tab contains the `ColorsViewControllerStoryboard` view controller, which configures Peek and Pop using the segue in `Main.storyboard`. The second tab contains the `ColorsViewControllerCode` view controller to achieve the same functionality, but in code.
Both `ColorsViewControllerStoryboard` and `ColorsViewControllerCode` are subclasses of `ColorsViewControllerBase`, which contains the implementation of everything necessary to display the table view and handle the standard segue.
### [Peek and Pop from a storyboard](https://developer.apple.com/documentation/UIKit/implementing-peek-and-pop#Peek-and-Pop-from-a-storyboard)
The storyboard uses a Show segue with Peek and Pop enabled to navigate from the `ColorViewControllerStoryboard` to `ColorItemViewController`. This is done by selecting the Show segue, and turning on “Preview & Commit Segues” next to Peek & Pop in the Attributes inspector.
When configuring the `ColorItemViewController`, enable the “Use Preferred Explicit Size” option in the View Controller section of the Attributes inspector. Set the “Content Size” to have 0 width and an appropriate height. Zero width configures the view controller to automatically resize to the device width when the user peeks at the content.
When implementing the `ColorsViewControllerBase` view controller, resist the temptation of using either [`indexPathForSelectedRow`](https://developer.apple.com/documentation/uikit/uitableview/indexpathforselectedrow) or [`indexPathsForSelectedRows`](https://developer.apple.com/documentation/uikit/uitableview/indexpathsforselectedrows) when preparing to execute a segue. If you configure the storyboard with the default implementation of Peek and Pop, these methods return `nil` at the time of segue execution. Instead, use the segue’s `sender` property to access the cell initiating the peek.
```
override func prepare(for segue: UIStoryboardSegue, sender: Any?) {
    guard let selectedTableViewCell = sender as? UITableViewCell,
        let indexPath = tableView.indexPath(for: selectedTableViewCell)
        else { preconditionFailure("Expected sender to be a valid table view cell") }


    guard let colorItemViewController = segue.destination as? ColorItemViewController
        else { preconditionFailure("Expected a ColorItemViewController") }


    // Pass over a reference to the ColorData object and the specific ColorItem being viewed.
    colorItemViewController.colorData = colorData
    colorItemViewController.colorItem = colorData.colors[indexPath.row]
}

```

### [Peek and Pop in code](https://developer.apple.com/documentation/UIKit/implementing-peek-and-pop#Peek-and-Pop-in-code)
The `ColorsViewControllerCode` view controller adds code to manually register for Peek and Pop instead of using the storyboard to customize the segue. Call [`registerForPreviewing(with:sourceView:)`](https://developer.apple.com/documentation/uikit/uiviewcontroller/registerforpreviewing\(with:sourceview:\)) to register a class which implements the [`UIViewControllerPreviewingDelegate`](https://developer.apple.com/documentation/uikit/uiviewcontrollerpreviewingdelegate) protocol, and then pass in a view which responds to the 3D Touch.
```
override func viewDidLoad() {
    super.viewDidLoad()


    registerForPreviewing(with: self, sourceView: tableView)
}

```

The protocol requires the implementation of two methods. When the system detects the 3D Touch, it calls [`previewingContext(_:viewControllerForLocation:)`](https://developer.apple.com/documentation/uikit/uiviewcontrollerpreviewingdelegate/previewingcontext\(_:viewcontrollerforlocation:\)), passing a `previewingContext` object that conforms to the [`UIViewControllerPreviewing`](https://developer.apple.com/documentation/uikit/uiviewcontrollerpreviewing) protocol. Use this method to configure and pass back a view controller for the peek.
```
func previewingContext(_ previewingContext: UIViewControllerPreviewing, viewControllerForLocation location: CGPoint) -> UIViewController? {
    // First, get the index path and view for the previewed cell.
    guard let indexPath = tableView.indexPathForRow(at: location),
        let cell = tableView.cellForRow(at: indexPath)
        else { return nil }


    // Enable blurring of other UI elements and a zoom-in animation while peeking.
    previewingContext.sourceRect = cell.frame


    // Create and configure an instance of the color item view controller to show for the peek.
    guard let viewController = storyboard?.instantiateViewController(withIdentifier: "ColorItemViewController") as? ColorItemViewController
        else { preconditionFailure("Expected a ColorItemViewController") }


    // Pass over a reference to the ColorData object and the specific ColorItem being viewed.
    viewController.colorData = colorData
    viewController.colorItem = colorData.colors[indexPath.row]


    return viewController
}

```

When the system detects enough pressure in the 3D Touch to pop the view controller, it calls [`previewingContext(_:commit:)`](https://developer.apple.com/documentation/uikit/uiviewcontrollerpreviewingdelegate/previewingcontext\(_:commit:\)). Take the passed-in view controller and present it to the user.
```
func previewingContext(_ previewingContext: UIViewControllerPreviewing, commit viewControllerToCommit: UIViewController) {
    // Push the configured view controller onto the navigation stack.
    navigationController?.pushViewController(viewControllerToCommit, animated: true)
}

```

### [Implement Peek Quick Actions](https://developer.apple.com/documentation/UIKit/implementing-peek-and-pop#Implement-Peek-Quick-Actions)
To enable Peek Quick Actions for the `ColorItemViewController`, you must override the default implementation of the [`previewActionItems`](https://developer.apple.com/documentation/uikit/uiviewcontroller/previewactionitems) property to return an array of [`UIPreviewAction`](https://developer.apple.com/documentation/uikit/uipreviewaction) or [`UIPreviewActionGroup`](https://developer.apple.com/documentation/uikit/uipreviewactiongroup) objects.
Both a star/unstar action and a delete action are available as quick actions using the following code:
```
override var previewActionItems: [UIPreviewActionItem] {
    let starAction = UIPreviewAction(title: starButtonTitle(), style: .default, handler: { [unowned self] (_, _) in
        guard let colorItem = self.colorItem
            else { preconditionFailure("Expected a color item") }


        colorItem.starred.toggle()
    })


    let deleteAction = UIPreviewAction(title: "Delete", style: .destructive) { [unowned self] (_, _) in
        guard let colorData = self.colorData
            else { preconditionFailure("Expected a reference to the color data container") }


        guard let colorItem = self.colorItem
            else { preconditionFailure("Expected a color item") }


        colorData.delete(colorItem)
    }


    return [ starAction, deleteAction ]
}

```

The star/unstar action is shown with a default style and the delete action is shown as being destructive.
It’s important to ensure that your app’s features are still available to devices that do not support 3D Touch. In this sample, both the star/unstar and the delete functionality remain available by navigating into the `ColorItemViewController` and tapping buttons in the navigation bar. The Peek Quick Action provides a more convenient way to access that feature.
Current page is Implementing Peek and Pop 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2FUIKit%2Fimplementing-peek-and-pop).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
