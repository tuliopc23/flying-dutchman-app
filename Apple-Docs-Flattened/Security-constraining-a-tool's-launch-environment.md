Source: https://developer.apple.com/documentation/security/constraining-a-tool's-launch-environment

[ Skip Navigation ](https://developer.apple.com/documentation/security/constraining-a-tool's-launch-environment#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/security/constraining-a-tool's-launch-environment#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/security/constraining-a-tool's-launch-environment)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/security/constraining-a-tool's-launch-environment)
  * SwiftLanguage:  Swift  Objective-C 
Language: 
    * Swift 
    * [ Objective-C ](https://developer.apple.com/documentation/security/constraining-a-tool's-launch-environment)


[](https://developer.apple.com/documentation/security/constraining-a-tool's-launch-environment)
## [ Security  ](https://developer.apple.com/documentation/security)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
36 of 65 symbols inside <root>
Legacy interfaces
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
18 of 65 symbols inside <root> containing 15 symbols[Hardened Runtime](https://developer.apple.com/documentation/security/hardened-runtime)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
19 of 65 symbols inside <root> [Disabling and Enabling System Integrity Protection](https://developer.apple.com/documentation/security/disabling-and-enabling-system-integrity-protection)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
20 of 65 symbols inside <root> [Using the latest code signature format](https://developer.apple.com/documentation/xcode/using-the-latest-code-signature-format)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
21 of 65 symbols inside <root> [Updating Mac Software](https://developer.apple.com/documentation/security/updating-mac-software)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
22 of 65 symbols inside <root> [TN3125: Inside Code Signing: Provisioning Profiles](https://developer.apple.com/documentation/technotes/tn3125-inside-code-signing-provisioning-profiles)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
23 of 65 symbols inside <root>
Launch environment constraints
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
24 of 65 symbols inside <root> [Applying launch environment and library constraints](https://developer.apple.com/documentation/security/applying-launch-environment-and-library-constraints)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
25 of 65 symbols inside <root> [Defining launch environment and library constraints](https://developer.apple.com/documentation/security/defining-launch-environment-and-library-constraints)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
26 of 65 symbols inside <root> [Constraining a tool’s launch environment](https://developer.apple.com/documentation/security/constraining-a-tool's-launch-environment)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
27 of 65 symbols inside <root>
Cryptography
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
28 of 65 symbols inside <root> containing 3 symbols[Complying with Encryption Export Regulations](https://developer.apple.com/documentation/security/complying-with-encryption-export-regulations)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
29 of 65 symbols inside <root> containing 8 symbols[Certificate, Key, and Trust Services](https://developer.apple.com/documentation/security/certificate-key-and-trust-services)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
30 of 65 symbols inside <root> containing 54 symbols[Cryptographic Message Syntax Services](https://developer.apple.com/documentation/security/cryptographic-message-syntax-services)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
31 of 65 symbols inside <root> containing 4 symbols[Randomization Services](https://developer.apple.com/documentation/security/randomization-services)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
32 of 65 symbols inside <root> containing 61 symbols[Security Transforms](https://developer.apple.com/documentation/security/security-transforms)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
33 of 65 symbols inside <root> containing 12 symbols[ASN.1](https://developer.apple.com/documentation/security/asn-1)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
34 of 65 symbols inside <root>
Result codes
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
35 of 65 symbols inside <root> containing 399 symbols[Security Framework Result Codes](https://developer.apple.com/documentation/security/security-framework-result-codes)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
36 of 65 symbols inside <root>
Legacy interfaces
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
37 of 65 symbols inside <root> containing 2178 symbols[Common Security Services Manager](https://developer.apple.com/documentation/security/common-security-services-manager)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
38 of 65 symbols inside <root> containing 90 symbols[Secure Transport](https://developer.apple.com/documentation/security/secure-transport)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
39 of 65 symbols inside <root> containing 2 symbols[Secure Download](https://developer.apple.com/documentation/security/secure-download)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
40 of 65 symbols inside <root> containing 212 symbols[Security legacy reference](https://developer.apple.com/documentation/security/security-legacy-reference)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
41 of 65 symbols inside <root>
Reference
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
42 of 65 symbols inside <root> containing 3 symbols[Security Structures](https://developer.apple.com/documentation/security/security-structures)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
43 of 65 symbols inside <root> containing 8 symbols[Security Constants](https://developer.apple.com/documentation/security/security-constants)
65 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ Security ](https://developer.apple.com/documentation/security)
  * [ Constraining a tool’s launch environment ](https://developer.apple.com/documentation/security/constraining-a-tool's-launch-environment)
  *     * Constraining a tool’s launch environment 


Sample Code
# Constraining a tool’s launch environment
Improve the security of your macOS app by limiting the ways its components can run.
[ Download ](https://docs-assets.developer.apple.com/published/e78b2eb10802/ConstrainingAToolsLaunchEnvironment.zip)
macOS 14.0+Xcode 15.0+
## [Overview](https://developer.apple.com/documentation/security/constraining-a-tool's-launch-environment#Overview)
This sample code project contains a factored macOS app. The app target, Launch Constraints Sample App, contains a UI for adding two numbers. It communicates with a separate process, Helper Tool, which does the calculation.
The Helper Tool has a constrained launch environment, which limits the parent processes that are allowed to launch the helper. The launch constraint is defined in the property list file `helper_parent.coderequirement`. It restricts the code-signing identifier of the parent process to be the same as the bundle identifier of Launch Constraints Sample App, and the team identifier of the parent process to be your Apple Developer team.
When a process launches Helper Tool, the kernel checks whether the process’s code signing identifier and team identifier have the expected values. If they do, then the Helper Tool runs normally; otherwise, it doesn’t run.
### [Configure the sample code project](https://developer.apple.com/documentation/security/constraining-a-tool's-launch-environment#Configure-the-sample-code-project)
To configure the sample code project, do the following in Xcode:
  1. Select the Xcode project in the Project navigator.
  2. Select the Launch Constraints Sample App target in the Project editor.
  3. Switch to the Signing & Capabilities tab.
  4. Choose your team in the Signing Team drop-down menu.
  5. Copy the value of the macOS Bundle Identifier build setting.
  6. Select the file Helper Tool > `helper_parent.coderequirement` in the Project navigator.
  7. Paste the value you copied in step 5 into the Value field for the Signing identifier key.
  8. Copy your team identifier. This is a string of letters and numbers — such as B97A5CM278 — that follows `com.example.apple-samplecode.constraining-a-tools-launch-environment` in the signing identifier.
  9. Paste the value you copied in step 8 into the Value field for the Team identifier key.
  10. Save the file.


### [Run the Helper Tool as part of the app’s workflow](https://developer.apple.com/documentation/security/constraining-a-tool's-launch-environment#Run-the-Helper-Tool-as-part-of-the-apps-workflow)
In Xcode, ensure the Launch Constraints Sample App scheme is selected in the scheme drop-down menu, and choose Product > Run. Xcode launches the sample app. Verify that you can enter numbers into the left-most two text fields and click Calculate to compute their sum.
When you click Calculate, the `sum` function uses `Process` to launch its Helper Tool, and sets up a pair of `Pipe` objects to send input to the tool and receive its output. You use this design pattern to create GUI “wrappers” for command-line tools, such as database administration tools.
The app can launch the Helper Tool because when Xcode signs the app, it sets the app binary’s signing identifier to the app’s bundle ID, and embeds your Apple Developer team identifier. The Helper Tool’s launch constraint tests that its parent process — in this case, the app — has that signing identifier and team identifier.
### [Run the Helper Tool as a standalone tool](https://developer.apple.com/documentation/security/constraining-a-tool's-launch-environment#Run-the-Helper-Tool-as-a-standalone-tool)
In Xcode, switch to the Helper Tool scheme in the scheme drop-down menu, and choose Product > Run. Xcode doesn’t run the Helper Tool, and an error appears in the debugger’s output:
```
Message from debugger: Terminated due to code signing error
Program ended with exit code: 9

```

This error indicates that the Helper Tool’s launch constraint, defined in `helper_parent.coderequirement` was violated, and the operating system didn’t allow it to run. In this situation, the parent process of the Helper Tool is the debugger (`lldb`), which doesn’t have the signing identifier expressed in the parent process launch constraint, and is signed by a different Apple Developer team.
Current page is Constraining a tool’s launch environment 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Fsecurity%2Fconstraining-a-tool's-launch-environment).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
