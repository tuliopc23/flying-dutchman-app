Source: https://developer.apple.com/documentation/avfoundation/requesting-authorization-to-capture-and-save-media

[ Skip Navigation ](https://developer.apple.com/documentation/avfoundation/requesting-authorization-to-capture-and-save-media#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/avfoundation/requesting-authorization-to-capture-and-save-media#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/avfoundation/requesting-authorization-to-capture-and-save-media)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/avfoundation/requesting-authorization-to-capture-and-save-media)
  * SwiftLanguage:  Swift  Objective-C 
Language: 
    * Swift 
    * [ Objective-C ](https://developer.apple.com/documentation/avfoundation/requesting-authorization-to-capture-and-save-media)


[](https://developer.apple.com/documentation/avfoundation/requesting-authorization-to-capture-and-save-media)
## [ AVFoundation  ](https://developer.apple.com/documentation/avfoundation)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
13 of 54 symbols inside 1551724969 containing 11 symbols[AVCaptureOutput](https://developer.apple.com/documentation/avfoundation/avcaptureoutput)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
10 of 31 symbols inside <root> containing 71 symbols[Media playback](https://developer.apple.com/documentation/avfoundation/media-playback)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
11 of 31 symbols inside <root> containing 11 symbols[Offline playback and storage](https://developer.apple.com/documentation/avfoundation/offline-playback-and-storage)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
12 of 31 symbols inside <root> containing 26 symbols[Streaming and AirPlay](https://developer.apple.com/documentation/avfoundation/streaming-and-airplay)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
13 of 31 symbols inside <root> containing 11 symbols[Sample buffer playback](https://developer.apple.com/documentation/avfoundation/sample-buffer-playback)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
14 of 31 symbols inside <root>
Capture
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
15 of 31 symbols inside <root> containing 54 symbols[Capture setup](https://developer.apple.com/documentation/avfoundation/capture-setup)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 54 symbols inside 1551724969 
Essentials
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
2 of 54 symbols inside 1551724969 [Requesting authorization to capture and save media](https://developer.apple.com/documentation/avfoundation/requesting-authorization-to-capture-and-save-media)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
3 of 54 symbols inside 1551724969 
Capture sessions
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
4 of 54 symbols inside 1551724969 [Setting up a capture session](https://developer.apple.com/documentation/avfoundation/setting-up-a-capture-session)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
5 of 54 symbols inside 1551724969 [Accessing the camera while multitasking on iPad](https://developer.apple.com/documentation/avkit/accessing-the-camera-while-multitasking-on-ipad)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
6 of 54 symbols inside 1551724969 [AVCam: Building a camera app](https://developer.apple.com/documentation/avfoundation/avcam-building-a-camera-app)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
7 of 54 symbols inside 1551724969 [Capturing Cinematic video](https://developer.apple.com/documentation/avfoundation/capturing-cinematic-video)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
8 of 54 symbols inside 1551724969 [AVMultiCamPiP: Capturing from Multiple Cameras](https://developer.apple.com/documentation/avfoundation/avmulticampip-capturing-from-multiple-cameras)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
9 of 54 symbols inside 1551724969 [AVCamBarcode: detecting barcodes and faces](https://developer.apple.com/documentation/avfoundation/avcambarcode-detecting-barcodes-and-faces)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
10 of 54 symbols inside 1551724969 containing 70 symbols[AVCaptureSession](https://developer.apple.com/documentation/avfoundation/avcapturesession)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
11 of 54 symbols inside 1551724969 containing 5 symbols[AVCaptureMultiCamSession](https://developer.apple.com/documentation/avfoundation/avcapturemulticamsession)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
12 of 54 symbols inside 1551724969 containing 3 symbols[AVCaptureInput](https://developer.apple.com/documentation/avfoundation/avcaptureinput)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
13 of 54 symbols inside 1551724969 containing 11 symbols[AVCaptureOutput](https://developer.apple.com/documentation/avfoundation/avcaptureoutput)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
14 of 54 symbols inside 1551724969 containing 43 symbols[AVCaptureConnection](https://developer.apple.com/documentation/avfoundation/avcaptureconnection)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
15 of 54 symbols inside 1551724969 
Capture devices
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
16 of 54 symbols inside 1551724969 [Choosing a capture device](https://developer.apple.com/documentation/avfoundation/choosing-a-capture-device)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
17 of 54 symbols inside 1551724969 [Adopting smart framing in your camera app](https://developer.apple.com/documentation/avfoundation/adopting-smart-framing-in-your-camera-app)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
18 of 54 symbols inside 1551724969 containing 112 symbols[AVCaptureDevice](https://developer.apple.com/documentation/avfoundation/avcapturedevice)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
19 of 54 symbols inside 1551724969 containing 27 symbols[AVCaptureDeviceInput](https://developer.apple.com/documentation/avfoundation/avcapturedeviceinput)
85 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ AVFoundation ](https://developer.apple.com/documentation/avfoundation)
  * [ Capture setup ](https://developer.apple.com/documentation/avfoundation/capture-setup)
  * [ Requesting authorization to capture and save media ](https://developer.apple.com/documentation/avfoundation/requesting-authorization-to-capture-and-save-media)
  *     * [ Capture setup ](https://developer.apple.com/documentation/avfoundation/capture-setup)
    * Requesting authorization to capture and save media 


Article
# Requesting authorization to capture and save media
Prompt the user to authorize access to the camera, microphone, and photo library.
## [Overview](https://developer.apple.com/documentation/avfoundation/requesting-authorization-to-capture-and-save-media#overview)
In iOS and macOS 10.14 and later, the user must explicitly grant permission for each app to access the camera and microphone. Before your app can use a capture device for the first time, the system presents an alert with an app-specific message that you specify, to ask the user to grant your app access to the capture device. For example, the following screenshots show the camera access alert in iOS and macOS 10.14 and later:
![A screenshot of the iOS camera access alert, with an app-specific message to request access to the camera, with two buttons: Don’t Allow and OK.](https://docs-assets.developer.apple.com/published/a3149daf6d169ca33f1aa814df914b62/media-4132752%402x.png)
![A screenshot of the macOS 10.14 and later camera access alert, with an app-specific message to request access to the camera, with two buttons: Don’t Allow and OK.](https://docs-assets.developer.apple.com/published/b1a769bbc026235505922c7c096b89d9/media-4132753%402x.png)
The system remembers the user’s response to each access alert, so subsequent uses of the corresponding capture device don’t cause the alert to appear again. The user can change permission settings for your app in Settings > Privacy in iOS and in System Preferences > Security & Privacy in macOS.
This article outlines the steps you can take to ensure your app has permission before it attempts to capture media.
### [Configure access alerts](https://developer.apple.com/documentation/avfoundation/requesting-authorization-to-capture-and-save-media#Configure-access-alerts)
The system requires that your app provides static messages to display to the user when the system asks for permission to access the camera or microphone:
  * If your app uses device cameras, include the [`NSCameraUsageDescription`](https://developer.apple.com/documentation/BundleResources/Information-Property-List/NSCameraUsageDescription) key in your app’s `Info.plist` file.
  * If your app uses device microphones, include the [`NSMicrophoneUsageDescription`](https://developer.apple.com/documentation/BundleResources/Information-Property-List/NSMicrophoneUsageDescription) key in your app’s `Info.plist` file.


For each key, provide a message that explains to the user why your app needs to capture media so the user can feel confident granting permission to your app.
![A screenshot showing the Camera and Microphone usage descriptions in the Info tab of the app target.](https://docs-assets.developer.apple.com/published/d6a61907f312b1bf97225e3102e0fedc/media-4132754%402x.png)
### [Enable entitlements in macOS](https://developer.apple.com/documentation/avfoundation/requesting-authorization-to-capture-and-save-media#Enable-entitlements-in-macOS)
In macOS, you also need to enable the following entitlements in Signing & Capabilities for your app targets:
  * If your app uses device cameras, enable the [`Camera entitlement`](https://developer.apple.com/documentation/BundleResources/Entitlements/com.apple.security.device.camera).
  * If your app uses device microphones, enable the [`Audio Input Entitlement`](https://developer.apple.com/documentation/BundleResources/Entitlements/com.apple.security.device.audio-input).


![A screenshot showing the macOS Camera and Audio Input entitlements enabled in the Signing & Capabilities tab of the app target.](https://docs-assets.developer.apple.com/published/b056f4dfa4048bbbf0d8fd4ae056679e/media-4140079%402x.png)
Important
Your app needs to contain the appropriate key in its `Info.plist` file, and the appropriate entitlement enabled in macOS, before it requests authorization or attempts to use a capture device. Otherwise, the system terminates your app.
### [Verify and request authorization for capture](https://developer.apple.com/documentation/avfoundation/requesting-authorization-to-capture-and-save-media#Verify-and-request-authorization-for-capture)
Always test the [`AVCaptureDevice`](https://developer.apple.com/documentation/avfoundation/avcapturedevice) [`authorizationStatus(for:)`](https://developer.apple.com/documentation/avfoundation/avcapturedevice/authorizationstatus\(for:\)) method before setting up a capture session. If the user hasn’t granted or denied capture permission, the authorization status is [`AVAuthorizationStatus.notDetermined`](https://developer.apple.com/documentation/avfoundation/avauthorizationstatus/notdetermined). In this case, use the [`requestAccess(for:completionHandler:)`](https://developer.apple.com/documentation/avfoundation/avcapturedevice/requestaccess\(for:completionhandler:\)) method to tell the system to prompt the user.
Call [`requestAccess(for:completionHandler:)`](https://developer.apple.com/documentation/avfoundation/avcapturedevice/requestaccess\(for:completionhandler:\)) before starting capture, but only at a time that’s appropriate for your app. For example, if photo or video capture isn’t the main focus of your app, check for permission only when the user invokes your app’s camera-related features. Here’s an example:
```
var isAuthorized: Bool {
    get async {
        let status = AVCaptureDevice.authorizationStatus(for: .video)
        
        // Determine if the user previously authorized camera access.
        var isAuthorized = status == .authorized
        
        // If the system hasn't determined the user's authorization status,
        // explicitly prompt them for approval.
        if status == .notDetermined {
            isAuthorized = await AVCaptureDevice.requestAccess(for: .video)
        }
        
        return isAuthorized
    }
}


func setUpCaptureSession() async {
    guard await isAuthorized else { return }
    // Set up the capture session.
}

```

### [Request authorization to save captured media](https://developer.apple.com/documentation/avfoundation/requesting-authorization-to-capture-and-save-media#Request-authorization-to-save-captured-media)
Your app must get permission to access the photo library before it attempts to save photos or videos; otherwise the system terminates your app. Which permission you request depends on the types of media you want to save:
  * For most photo and video capture workflows, including Live Photos and RAW format capture, use the [`PHPhotoLibrary`](https://developer.apple.com/documentation/Photos/PHPhotoLibrary) and [`PHAssetCreationRequest`](https://developer.apple.com/documentation/Photos/PHAssetCreationRequest) classes. These classes require read/write access to the photo library, so you need to use the [`NSPhotoLibraryUsageDescription`](https://developer.apple.com/documentation/BundleResources/Information-Property-List/NSPhotoLibraryUsageDescription) key in your `Info.plist` file to provide the user a message to request access. For additional information, see [Delivering an Enhanced Privacy Experience in Your Photos App](https://developer.apple.com/documentation/PhotoKit/delivering-an-enhanced-privacy-experience-in-your-photos-app).
  * If your app only needs to save video to the photo library, the [`UISaveVideoAtPathToSavedPhotosAlbum(_:_:_:_:)`](https://developer.apple.com/documentation/UIKit/UISaveVideoAtPathToSavedPhotosAlbum\(_:_:_:_:\)) function is a simpler alternative to [`PHPhotoLibrary`](https://developer.apple.com/documentation/Photos/PHPhotoLibrary). This function only requires write access to the library. Use the [`NSPhotoLibraryAddUsageDescription`](https://developer.apple.com/documentation/BundleResources/Information-Property-List/NSPhotoLibraryAddUsageDescription) key in your `Info.plist` file to provide the user a message to request permission to save to the photo library.


Note
The [`UIImageWriteToSavedPhotosAlbum(_:_:_:_:)`](https://developer.apple.com/documentation/UIKit/UIImageWriteToSavedPhotosAlbum\(_:_:_:_:\)) function isn’t recommended for use with photos captured with [`AVCapturePhotoOutput`](https://developer.apple.com/documentation/avfoundation/avcapturephotooutput) because [`UIImage`](https://developer.apple.com/documentation/UIKit/UIImage) doesn’t support the features and metadata included in photo output.
Current page is Requesting authorization to capture and save media 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Favfoundation%2Frequesting-authorization-to-capture-and-save-media).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
