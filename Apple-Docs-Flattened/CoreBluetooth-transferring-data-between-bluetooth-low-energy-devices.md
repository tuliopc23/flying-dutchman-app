Source: https://developer.apple.com/documentation/corebluetooth/transferring-data-between-bluetooth-low-energy-devices

[ Skip Navigation ](https://developer.apple.com/documentation/corebluetooth/transferring-data-between-bluetooth-low-energy-devices#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/corebluetooth/transferring-data-between-bluetooth-low-energy-devices#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/corebluetooth/transferring-data-between-bluetooth-low-energy-devices)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/corebluetooth/transferring-data-between-bluetooth-low-energy-devices)
  * SwiftLanguage: Swift


[](https://developer.apple.com/documentation/corebluetooth/transferring-data-between-bluetooth-low-energy-devices)
## [ Core Bluetooth  ](https://developer.apple.com/documentation/corebluetooth)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
6 of 41 symbols inside <root> containing 33 symbols[CBPeripheral](https://developer.apple.com/documentation/corebluetooth/cbperipheral)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
7 of 41 symbols inside <root> containing 23 symbols[CBPeripheralDelegate](https://developer.apple.com/documentation/corebluetooth/cbperipheraldelegate)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
8 of 41 symbols inside <root> containing 29 symbols[CBPeripheralManager](https://developer.apple.com/documentation/corebluetooth/cbperipheralmanager)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
9 of 41 symbols inside <root> containing 19 symbols[CBPeripheralManagerDelegate](https://developer.apple.com/documentation/corebluetooth/cbperipheralmanagerdelegate)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
10 of 41 symbols inside <root> containing 2 symbols[CBAttribute](https://developer.apple.com/documentation/corebluetooth/cbattribute)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
11 of 41 symbols inside <root> containing 7 symbols[CBAttributePermissions](https://developer.apple.com/documentation/corebluetooth/cbattributepermissions)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
12 of 41 symbols inside <root>
Data Transfer
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
13 of 41 symbols inside <root> [Transferring Data Between Bluetooth Low Energy Devices](https://developer.apple.com/documentation/corebluetooth/transferring-data-between-bluetooth-low-energy-devices)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
14 of 41 symbols inside <root>
Services
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
15 of 41 symbols inside <root> containing 6 symbols[CBService](https://developer.apple.com/documentation/corebluetooth/cbservice)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
16 of 41 symbols inside <root> containing 5 symbols[CBMutableService](https://developer.apple.com/documentation/corebluetooth/cbmutableservice)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
17 of 41 symbols inside <root> containing 9 symbols[CBCharacteristic](https://developer.apple.com/documentation/corebluetooth/cbcharacteristic)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
18 of 41 symbols inside <root> containing 9 symbols[CBMutableCharacteristic](https://developer.apple.com/documentation/corebluetooth/cbmutablecharacteristic)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
19 of 41 symbols inside <root> containing 4 symbols[CBDescriptor](https://developer.apple.com/documentation/corebluetooth/cbdescriptor)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
20 of 41 symbols inside <root> containing 2 symbols[CBMutableDescriptor](https://developer.apple.com/documentation/corebluetooth/cbmutabledescriptor)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
21 of 41 symbols inside <root>
Supporting Types
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
22 of 41 symbols inside <root> containing 8 symbols[CBManager](https://developer.apple.com/documentation/corebluetooth/cbmanager)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
23 of 41 symbols inside <root> containing 5 symbols[CBATTRequest](https://developer.apple.com/documentation/corebluetooth/cbattrequest)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
24 of 41 symbols inside <root> containing 2 symbols[CBPeer](https://developer.apple.com/documentation/corebluetooth/cbpeer)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
25 of 41 symbols inside <root> containing 10 symbols[CBUUID](https://developer.apple.com/documentation/corebluetooth/cbuuid)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
26 of 41 symbols inside <root>
Bluetooth Classic Support
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
27 of 41 symbols inside <root> [Using Core Bluetooth Classic](https://developer.apple.com/documentation/corebluetooth/using-core-bluetooth-classic)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
28 of 41 symbols inside <root>
Errors
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
29 of 41 symbols inside <root> containing 25 symbols[CBError](https://developer.apple.com/documentation/corebluetooth/cberror-swift.struct)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
V
30 of 41 symbols inside <root> [let CBErrorDomain: String](https://developer.apple.com/documentation/corebluetooth/cberrordomain)
41 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ Core Bluetooth ](https://developer.apple.com/documentation/corebluetooth)
  * [ Transferring Data Between Bluetooth Low Energy Devices ](https://developer.apple.com/documentation/corebluetooth/transferring-data-between-bluetooth-low-energy-devices)
  *     * Transferring Data Between Bluetooth Low Energy Devices 


Sample Code
# Transferring Data Between Bluetooth Low Energy Devices
Create a Bluetooth low energy central and peripheral device, and allow them to discover each other and exchange data.
[ Download ](https://docs-assets.developer.apple.com/published/68b84653b34e/TransferringDataBetweenBluetoothLowEnergyDevices.zip)
iOS 12.0+iPadOS 12.0+Xcode 11.1+
## [Overview](https://developer.apple.com/documentation/corebluetooth/transferring-data-between-bluetooth-low-energy-devices#Overview)
This sample shows how to transfer data between two iOS devices, with one acting as a Bluetooth central and the other as a peripheral, by using a [`CBCharacteristic`](https://developer.apple.com/documentation/CoreBluetooth/CBCharacteristic) on the peripheral side that changes its value. The value change is automatically picked up on the central side. The sample also shows how the central side can write data to a [`CBCharacteristic`](https://developer.apple.com/documentation/CoreBluetooth/CBCharacteristic) on the peripheral side.
This sample shows how to handle flow control in this scenario. It also covers a rudimentary way to use the Received Signal Strength Indicator (RSSI) value to determine whether data transfer is feasible.
### [Configure the Sample Code Project](https://developer.apple.com/documentation/corebluetooth/transferring-data-between-bluetooth-low-energy-devices#Configure-the-Sample-Code-Project)
  1. Run the sample on two devices that support Bluetooth LE.
  2. On one device, tap the “Central” button. This device will be the central mode device. The device will begin scanning for a peripheral device that is advertising the Transfer Service.
  3. On the other device, tap the “Peripheral” button. This device will be the peripheral mode device.
  4. On the peripheral mode device, tap the advertise on/off switch, to enable peripheral mode advertising of the data in the text field.
  5. Bring the two devices close to each other.


### [Discover Bluetooth Peripherals and Connect to Them](https://developer.apple.com/documentation/corebluetooth/transferring-data-between-bluetooth-low-energy-devices#Discover-Bluetooth-Peripherals-and-Connect-to-Them)
The device running in central mode creates a [`CBCentralManager`](https://developer.apple.com/documentation/CoreBluetooth/CBCentralManager), assigning the `CentralViewController` as the manager’s delegate. It calls [`scanForPeripherals`](https://developer.apple.com/documentation/CoreBluetooth/CBCentralManager/scanForPeripherals\(withServices:options:\)) to discover other Bluetooth devices, passing in the UUID of the service it’s searching for.
```
centralManager.scanForPeripherals(withServices: [TransferService.serviceUUID],
                                   options: [CBCentralManagerScanOptionAllowDuplicatesKey: true])

```

When the central manager discovers a peripheral with a matching service UUID, it calls [`centralManager(_:didDiscover:advertisementData:rssi:)`](https://developer.apple.com/documentation/CoreBluetooth/CBCentralManagerDelegate/centralManager\(_:didDiscover:advertisementData:rssi:\)). The sample’s implementation of this method uses the `rssi` (Received Signal Strength Indicator) parameter to determine whether the signal is strong enough to transfer data. RSSI values are provided as negative numbers, with a theortetical maximum of `0`. The sample proceeds with transfer if the `rssi` is greater than or equal to `-50`. If the peripheral’s signal is strong enough, the method saves the peripheral as the property `discoveredPeripheral` and calls [`connect`](https://developer.apple.com/documentation/CoreBluetooth/CBCentralManager/connect\(_:options:\)) to connect to it.
```
func centralManager(_ central: CBCentralManager, didDiscover peripheral: CBPeripheral,
                    advertisementData: [String: Any], rssi RSSI: NSNumber) {
    
    // Reject if the signal strength is too low to attempt data transfer.
    // Change the minimum RSSI value depending on your app’s use case.
    guard RSSI.intValue >= -50
        else {
            os_log("Discovered perhiperal not in expected range, at %d", RSSI.intValue)
            return
    }
    
    os_log("Discovered %s at %d", String(describing: peripheral.name), RSSI.intValue)
    
    // Device is in range - have we already seen it?
    if discoveredPeripheral != peripheral {
        
        // Save a local copy of the peripheral, so CoreBluetooth doesn't get rid of it.
        discoveredPeripheral = peripheral
        
        // And finally, connect to the peripheral.
        os_log("Connecting to perhiperal %@", peripheral)
        centralManager.connect(peripheral, options: nil)
    }
}

```

### [When the Peripheral Receives a Connection, Send the Data](https://developer.apple.com/documentation/corebluetooth/transferring-data-between-bluetooth-low-energy-devices#When-the-Peripheral-Receives-a-Connection-Send-the-Data)
The device running in peripheral mode creates a [`CBPeripheralManager`](https://developer.apple.com/documentation/CoreBluetooth/CBPeripheralManager) and assigns its `PeripheralViewController` as the manager’s delegate.
When the [`peripheralManagerDidUpdateState`](https://developer.apple.com/documentation/CoreBluetooth/CBPeripheralManagerDelegate/peripheralManagerDidUpdateState\(_:\)) method indicates that Bluetooth has powered on, the sample calls a private `setupPeripheral()` method to create a [`CBMutableCharacteristic`](https://developer.apple.com/documentation/CoreBluetooth/CBMutableCharacteristic) called `transferCharacteristic`. It then creates a [`CBMutableService`](https://developer.apple.com/documentation/CoreBluetooth/CBMutableService) from the characteristic and adds the service to the [`CBPeripheralManager`](https://developer.apple.com/documentation/CoreBluetooth/CBPeripheralManager).
```
private func setupPeripheral() {
    
    // Build our service.
    
    // Start with the CBMutableCharacteristic.
    let transferCharacteristic = CBMutableCharacteristic(type: TransferService.characteristicUUID,
                                                     properties: [.notify, .writeWithoutResponse],
                                                     value: nil,
                                                     permissions: [.readable, .writeable])
    
    // Create a service from the characteristic.
    let transferService = CBMutableService(type: TransferService.serviceUUID, primary: true)
    
    // Add the characteristic to the service.
    transferService.characteristics = [transferCharacteristic]
    
    // And add it to the peripheral manager.
    peripheralManager.add(transferService)
    
    // Save the characteristic for later.
    self.transferCharacteristic = transferCharacteristic


}

```

The user interface provides a [`UISwitch`](https://developer.apple.com/documentation/UIKit/UISwitch) that starts or stops advertising of the peripheral’s service UUID.
```
@IBAction func switchChanged(_ sender: Any) {
    // All we advertise is our service's UUID.
    if advertisingSwitch.isOn {
        peripheralManager.startAdvertising([CBAdvertisementDataServiceUUIDsKey: [TransferService.serviceUUID]])
    } else {
        peripheralManager.stopAdvertising()
    }
}

```

Once the central device discovers and connects to the peripheral, the peripheral side sends the data from the text field to the central. `PeripheralViewController` sends the data in chunks — each sized to the maximum value the central can receive — by setting the value of its `transferCharacteristic` property to the latest chunk. When finished, it sends the value `EOM` (for “end of message”).
### [When the Central Receives the Data, Update the User Interface](https://developer.apple.com/documentation/corebluetooth/transferring-data-between-bluetooth-low-energy-devices#When-the-Central-Receives-the-Data-Update-the-User-Interface)
Back on the central device, a call to the central manager delegate’s [`peripheral(_:didDiscoverCharacteristicsFor:Error:`](https://developer.apple.com/documentation/CoreBluetooth/CBPeripheralDelegate/peripheral\(_:didDiscoverCharacteristicsFor:error:\)) tells the app that it has discovered the peripheral’s transfer characteristic. The sample’s implementation of this method calls [`setNotifyValue(_:for:)`](https://developer.apple.com/documentation/CoreBluetooth/CBPeripheral/setNotifyValue\(_:for:\)) to start receiving updates to the characteristic’s value.
When the value does update — meaning text is available — the central manager calls the delegate method [`peripheral(_:didUpdateValueFor:error)`](https://developer.apple.com/documentation/CoreBluetooth/CBPeripheralDelegate/peripheral\(_:didUpdateValueFor:error:\)-1xyna). The sample looks to see if the data is a chunk or an end-of-message marker. If the data is a chunk, the code appends the chunk to an internal buffer containing the peripheral’s message. If the data is an end-of-message marker, it converts the buffer to a string and sets it as the contents of the text field.
```
func peripheral(_ peripheral: CBPeripheral, didUpdateValueFor characteristic: CBCharacteristic, error: Error?) {
    // Deal with errors (if any)
    if let error = error {
        os_log("Error discovering characteristics: %s", error.localizedDescription)
        cleanup()
        return
    }
    
    guard let characteristicData = characteristic.value,
        let stringFromData = String(data: characteristicData, encoding: .utf8) else { return }
    
    os_log("Received %d bytes: %s", characteristicData.count, stringFromData)
    
    // Have we received the end-of-message token?
    if stringFromData == "EOM" {
        // End-of-message case: show the data.
        // Dispatch the text view update to the main queue for updating the UI, because
        // we don't know which thread this method will be called back on.
        DispatchQueue.main.async() {
            self.textView.text = String(data: self.data, encoding: .utf8)
        }
        
        // Write test data
        writeData()
    } else {
        // Otherwise, just append the data to what we have previously received.
        data.append(characteristicData)
    }
}

```

Once the transfer is complete, you can press the “Back” button on each device and reassign the central and peripheral roles, to perform the transfer in the opposite direction.
Current page is Transferring Data Between Bluetooth Low Energy Devices 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Fcorebluetooth%2Ftransferring-data-between-bluetooth-low-energy-devices).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
