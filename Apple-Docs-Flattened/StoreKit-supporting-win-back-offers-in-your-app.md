Source: https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app

[ Skip Navigation ](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app)
  * SwiftLanguage:  Swift  Objective-C 
Language: 
    * Swift 
    * [ Objective-C ](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app)


[](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app)
## [ StoreKit  ](https://developer.apple.com/documentation/storekit)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 33 symbols inside <root>
In-App Purchase
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
2 of 33 symbols inside <root> containing 60 symbols[In-App Purchase](https://developer.apple.com/documentation/storekit/in-app-purchase)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 60 symbols inside -1505352393 
In-App Purchase merchandising
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
2 of 60 symbols inside -1505352393 containing 83 symbols[StoreKit views](https://developer.apple.com/documentation/storekit/storekit-views)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
3 of 60 symbols inside -1505352393 
Product and subscription information
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
4 of 60 symbols inside -1505352393 [Implementing a store in your app using the StoreKit API](https://developer.apple.com/documentation/storekit/implementing-a-store-in-your-app-using-the-storekit-api)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
5 of 60 symbols inside -1505352393 containing 45 symbols[Product](https://developer.apple.com/documentation/storekit/product)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
6 of 60 symbols inside -1505352393 containing 24 symbols[Product.SubscriptionInfo](https://developer.apple.com/documentation/storekit/product/subscriptioninfo)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
T
7 of 60 symbols inside -1505352393 [SubscriptionInfo](https://developer.apple.com/documentation/storekit/subscriptioninfo)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
T
8 of 60 symbols inside -1505352393 [SubscriptionStatus](https://developer.apple.com/documentation/storekit/subscriptionstatus)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
9 of 60 symbols inside -1505352393 
Purchase requests and results
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
10 of 60 symbols inside -1505352393 containing 4 symbols[PurchaseAction](https://developer.apple.com/documentation/storekit/purchaseaction)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
11 of 60 symbols inside -1505352393 [func purchase(options: Set<Product.PurchaseOption>) async throws -> Product.PurchaseResult](https://developer.apple.com/documentation/storekit/product/purchase\(options:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
E
12 of 60 symbols inside -1505352393 containing 4 symbols[Product.PurchaseResult](https://developer.apple.com/documentation/storekit/product/purchaseresult)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
13 of 60 symbols inside -1505352393 
Transaction history and entitlements
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
14 of 60 symbols inside -1505352393 containing 41 symbols[Transaction](https://developer.apple.com/documentation/storekit/transaction)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
15 of 60 symbols inside -1505352393 [static var updates: Transaction.Transactions](https://developer.apple.com/documentation/storekit/transaction/updates)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
16 of 60 symbols inside -1505352393 [static var all: Transaction.Transactions](https://developer.apple.com/documentation/storekit/transaction/all)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
22 of 60 symbols inside -1505352393 containing 10 symbols[Product.SubscriptionInfo.Status](https://developer.apple.com/documentation/storekit/product/subscriptioninfo/status-swift.struct)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
23 of 60 symbols inside -1505352393 containing 48 symbols[Product.SubscriptionInfo.RenewalInfo](https://developer.apple.com/documentation/storekit/product/subscriptioninfo/renewalinfo)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
23 of 60 symbols inside -1505352393 containing 48 symbols[Product.SubscriptionInfo.RenewalInfo](https://developer.apple.com/documentation/storekit/product/subscriptioninfo/renewalinfo)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
T
24 of 60 symbols inside -1505352393 [SubscriptionRenewalInfo](https://developer.apple.com/documentation/storekit/subscriptionrenewalinfo)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
25 of 60 symbols inside -1505352393 containing 8 symbols[Product.SubscriptionInfo.RenewalState](https://developer.apple.com/documentation/storekit/product/subscriptioninfo/renewalstate)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
T
26 of 60 symbols inside -1505352393 [SubscriptionRenewalState](https://developer.apple.com/documentation/storekit/subscriptionrenewalstate)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
T
27 of 60 symbols inside -1505352393 [SubscriptionPeriod](https://developer.apple.com/documentation/storekit/subscriptionperiod)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
28 of 60 symbols inside -1505352393 
Offers
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
29 of 60 symbols inside -1505352393 [Supporting offer codes in your app](https://developer.apple.com/documentation/storekit/supporting-offer-codes-in-your-app)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
30 of 60 symbols inside -1505352393 [Supporting win-back offers in your app](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
31 of 60 symbols inside -1505352393 [Merchandising win-back offers in your app](https://developer.apple.com/documentation/storekit/merchandising-win-back-offers-in-your-app)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
32 of 60 symbols inside -1505352393 containing 15 symbols[Product.SubscriptionOffer](https://developer.apple.com/documentation/storekit/product/subscriptionoffer)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
33 of 60 symbols inside -1505352393 containing 6 symbols[Product.SubscriptionOffer.OfferType](https://developer.apple.com/documentation/storekit/product/subscriptionoffer/offertype)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
34 of 60 symbols inside -1505352393 
Promoted In-App Purchases
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
35 of 60 symbols inside -1505352393 [Supporting promoted In-App Purchases in your app](https://developer.apple.com/documentation/storekit/supporting-promoted-in-app-purchases-in-your-app)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
36 of 60 symbols inside -1505352393 containing 8 symbols[PurchaseIntent](https://developer.apple.com/documentation/storekit/purchaseintent)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
37 of 60 symbols inside -1505352393 containing 13 symbols[Product.PromotionInfo](https://developer.apple.com/documentation/storekit/product/promotioninfo)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
38 of 60 symbols inside -1505352393 [Testing promoted In-App Purchases](https://developer.apple.com/documentation/storekit/testing-promoted-in-app-purchases)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
39 of 60 symbols inside -1505352393 
App Store interactions
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
E
40 of 60 symbols inside -1505352393 containing 29 symbols[AppStore](https://developer.apple.com/documentation/storekit/appstore)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
41 of 60 symbols inside -1505352393 containing 29 symbols[AppTransaction](https://developer.apple.com/documentation/storekit/apptransaction)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
42 of 60 symbols inside -1505352393 
Storefront information
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
43 of 60 symbols inside -1505352393 containing 9 symbols[Storefront](https://developer.apple.com/documentation/storekit/storefront)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
44 of 60 symbols inside -1505352393 [static var current: Storefront?](https://developer.apple.com/documentation/storekit/storefront/current)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
45 of 60 symbols inside -1505352393 [static var updates: Storefront.Storefronts](https://developer.apple.com/documentation/storekit/storefront/updates)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
46 of 60 symbols inside -1505352393 
In-App Purchase Testing
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
47 of 60 symbols inside -1505352393 [Testing at all stages of development with Xcode and the sandbox](https://developer.apple.com/documentation/storekit/testing-at-all-stages-of-development-with-xcode-and-the-sandbox)
93 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ StoreKit ](https://developer.apple.com/documentation/storekit)
  * [ In-App Purchase ](https://developer.apple.com/documentation/storekit/in-app-purchase)
  * [ Supporting win-back offers in your app ](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app)
  *     * [ In-App Purchase ](https://developer.apple.com/documentation/storekit/in-app-purchase)
    * Supporting win-back offers in your app 


Article
# Supporting win-back offers in your app
Re-engage previous subscribers with a free or discounted offer for an auto-renewable subscription, for a specific duration.
## [Overview](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app#overview)
A win-back offer is a free or discounted offer for an auto-renewable subscription for eligible customers whose subscription is _churned_. A churned subscription is one that has an [`expirationDate`](https://developer.apple.com/documentation/storekit/transaction/expirationdate) in the past, and a [`willAutoRenew`](https://developer.apple.com/documentation/storekit/product/subscriptioninfo/renewalinfo/willautorenew) value of `false`. You set up win-back offers in App Store Connect, including the criteria that determines whether a customer is eligible. You can base eligibility on the duration of the customer’s paid subscription, the time since the subscription expired, and the time that must pass between redeemed offers. You also set the discount type, and specify the regions or countries in which the offer is available.
Related sessions from WWDC24
Session 10110: [Implement App Store Offers](https://developer.apple.com/wwdc24/10110)
You can merchandise win-back offers in multiple ways. App Store Connect provides a direct link that you can share through your own channels, such as email. Customers can also discover and redeem win-back offers in the App Store, in their Apple account in the Subscription settings, and in your app.
Within your app, you can merchandise win-back offers with the win-back offer sheet, using StoreKit views, or by using other StoreKit APIs to fully customize your own merchandising.
Your app needs to handle win-back offers that customers redeem outside the app. By default, your app receives a completed purchase transaction when someone redeems the offer outside of the app. This workflow results when the Streamlined Purchasing option in App Store Connect is on, its default state. You can choose to turn off Streamlined Purchasing to enable the customer to complete the purchase within your app. For more information, see [Handle win-back offers redeemed outside of your app](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app#Handle-win-back-offers-redeemed-outside-of-your-app) below.
### [Configure win-back offers in App Store Connect](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app#Configure-win-back-offers-in-App-Store-Connect)
Set up win-back offers in App Store Connect by following the instructions in [Set up win-back offers](https://developer.apple.com/help/app-store-connect/manage-subscriptions/set-up-win-back-offers). As you set up a win-back offer, consider the following:
  * You create the win-back offer identifier. This alphanumeric string appears in transaction information and subscription renewal information.
  * After you confirm the win-back offer details, App Store Connect creates a numeric win-back offer Apple ID for the offer, and a direct link. The direct link uses the offer’s Apple ID, and has the format `https://apps.apple.com/win-back/<win-back offer Apple ID>`.
  * Add an approved subscription image in App Store Connect. The App Store requires the image if you choose to promote the win-back offer on the App Store. The win-back offer sheet and the direct link also use the image, if it’s available. For more information, see [Add or remove an image](https://developer.apple.com/help/app-store-connect/manage-in-app-purchases/view-and-edit-in-app-purchase-information#add-or-remove-an-image).


Tip
Store the win-back offer identifier and its corresponding direct link on your server, for easy access later.
### [Configure Streamlined Purchasing in App Store Connect](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app#Configure-Streamlined-Purchasing-in-App-Store-Connect)
When you set up your win-back offer, you can also set the Streamlined Purchasing option in App Store Connect. This setting applies to all win-back offers and contingent pricing in your app. It affects how your app handles a win-back offer redemption, as follows:
  * With Streamlined Purchasing on (default), the customer completes the win-back offer purchase outside of your app. Your app receives a completed purchase transaction in the [`updates`](https://developer.apple.com/documentation/storekit/transaction/updates) sequence if it’s running, and in the [`all`](https://developer.apple.com/documentation/storekit/transaction/all) or [`currentEntitlements`](https://developer.apple.com/documentation/storekit/transaction/currententitlements) sequences otherwise. Your app is responsible for unlocking the purchased product, as usual.
  * With Streamlined Purchasing turned off, your app has the opportunity to perform processing related to the win-back offer before it enables the customer to complete the purchase. The workflow starts when the customer initiates the purchase outside of your app. The system prompts them to install the app if it isn’t already installed. Your app receives a_ _purchase intent in the [`intents`](https://developer.apple.com/documentation/storekit/purchaseintent/intents) sequence, instead of a transaction, and must use the [`PurchaseIntent`](https://developer.apple.com/documentation/storekit/purchaseintent) API to complete the purchase.
  * If customers redeem a win-back offer through the manage subscriptions page in their Apple account, the redemption always behaves as if Streamline Purchasing is on, and your app receives a completed purchase transaction.


Important
Before you can turn off the Streamlined Purchasing option in App Store Connect, your lastest approved app binary must use the [`PurchaseIntent`](https://developer.apple.com/documentation/storekit/purchaseintent) API.
For more information on configuring this setting in App Store Connect, see [Manage Streamlined Purchasing](https://developer.apple.com/help/app-store-connect/manage-subscriptions/manage-streamlined-purchasing).
### [Merchandise win-back offers in your app](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app#Merchandise-win-back-offers-in-your-app)
StoreKit provides several ways to merchandise win-back offers to eligible customers in your app. By default, StoreKit displays a win-back offer sheet when it receives a [`winBackOffer`](https://developer.apple.com/documentation/storekit/message/reason-swift.struct/winbackoffer) message from the App Store. You can also merchandise the win-back offer using StoreKit views, or other StoreKit APIs to fully customize the experience.
For information on implementing each of these options, see [Merchandising win-back offers in your app](https://developer.apple.com/documentation/storekit/merchandising-win-back-offers-in-your-app).
### [Merchandise win-back offers outside your app using the direct link](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app#Merchandise-win-back-offers-outside-your-app-using-the-direct-link)
After you create a win-back offer, App Store Connect provides a direct link. Use the direct link to merchandise the win-back offer through your own channels.
Before you send a direct link to a customer, check whether the customer is eligible to redeem the offer by calling the [`Get All Subscription Statuses`](https://developer.apple.com/documentation/AppStoreServerAPI/Get-All-Subscription-Statuses) endpoint from your server. The [`JWSRenewalInfoDecodedPayload`](https://developer.apple.com/documentation/AppStoreServerAPI/JWSRenewalInfoDecodedPayload) from the response contains the [`eligibleWinBackOfferIds`](https://developer.apple.com/documentation/AppStoreServerAPI/eligibleWinBackOfferIds) array, which lists the eligible offers. Send the direct link to eligible customers only.
If the [`eligibleWinBackOfferIds`](https://developer.apple.com/documentation/AppStoreServerAPI/eligibleWinBackOfferIds) array has multiple entries, the customer is eligible for more than one offer. The App Store sets the order of the win-back offer IDs with the best offer first. The order takes into account the available offers you configure in App Store Connect for the customer’s most recent subscription in the subscription group.
### [Handle offers redeemed through the win-back offer sheet](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app#Handle-offers-redeemed-through-the-win-back-offer-sheet)
When customers redeem a win-back offer using the win-back offer sheet, StoreKit treats this transaction the same as a purchase that occurs outside of the app. Specifically, the app receives the transaction in the [`updates`](https://developer.apple.com/documentation/storekit/transaction/updates) sequence of [`Transaction`](https://developer.apple.com/documentation/storekit/transaction). Be sure your app creates a task to iterate through [`updates`](https://developer.apple.com/documentation/storekit/transaction/updates) as soon as it launches. For more information and sample code, see [`updates`](https://developer.apple.com/documentation/storekit/transaction/updates).
### [Handle win-back offers redeemed outside of your app](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app#Handle-win-back-offers-redeemed-outside-of-your-app)
Customers can discover and redeem win-back offers outside of your app in several ways: through the direct link that you merchandise, in the App Store, and when they manage their subscriptions in their Apple account. How your app handles the redemption depends on the whether the Streamlined Purchasing setting is on or off in App Store Connect.
If Streamlined Purchasing is on (the default setting), customers complete the win-back offer purchase outside of your app. Your app receives the completed purchase transaction the next time they open the app. Treat this transaction the same as any purchase that completes outside of your app, and unlock the purchased content. Specifically:
  * To get the transactions that occurred in the past, including while your app wasn’t running, iterate the [`all`](https://developer.apple.com/documentation/storekit/transaction/all) or [`currentEntitlements`](https://developer.apple.com/documentation/storekit/transaction/currententitlements) sequences on [`Transaction`](https://developer.apple.com/documentation/storekit/transaction) when the app launches.
  * To observe transactions that occur outside of the app while the app is running, iterate [`updates`](https://developer.apple.com/documentation/storekit/transaction/updates) on [`Transaction`](https://developer.apple.com/documentation/storekit/transaction). Create a [`Task`](https://developer.apple.com/documentation/Swift/Task) to iterate through the transactions from the listener as soon as your app launches. For more information and sample code, see [`updates`](https://developer.apple.com/documentation/storekit/transaction/updates).


The transaction entitles the customer to the auto-renewable subscription. Your app unlocks the purchased content and finishes the transaction with [`finish()`](https://developer.apple.com/documentation/storekit/transaction/finish\(\)).
If you turn off Streamlined Purchasing in App Store Connect, your app receives a purchase intent instead of a completed transaction. When a customer initiates a redemption outside your app, with Streamlined Purchasing off, the flow is as follows:
  1. The system opens your app if it isn’t already running. StoreKit doesn’t display the win-back offer sheet when a purchase intent is in progress.
  2. StoreKit sends the win-back offer information to the [`intents`](https://developer.apple.com/documentation/storekit/purchaseintent/intents) asynchronous sequence of [`PurchaseIntent`](https://developer.apple.com/documentation/storekit/purchaseintent).
  3. Your app has the opportunity to perform any actions related to the purchase before it prompts the customer to complete the purchase. For example, your app might ask the customer to log in.
  4. Your app calls the [`purchase(options:)`](https://developer.apple.com/documentation/storekit/product/purchase\(options:\)) method on the [`product`](https://developer.apple.com/documentation/storekit/purchaseintent/product) of the [`PurchaseIntent`](https://developer.apple.com/documentation/storekit/purchaseintent) to enable the customer to complete the purchase. Be sure to add the win-back offer to the purchase options.


The following example checks the [`offer`](https://developer.apple.com/documentation/storekit/purchaseintent/offer) property of [`PurchaseIntent`](https://developer.apple.com/documentation/storekit/purchaseintent) to detect whether the purchase intent is for a win-back offer, and adds the offer to the purchase options:
```
// Prepare the purchase options.
var purchaseOptions: Set<Product.PurchaseOption> = []


// Add the win-back offer to the purchase.
if let offer = purchaseIntent.offer, offer.type == .winBack {
    purchaseOptions.insert(.winBackOffer(offer))
}


// Present the purchase.
let result = try await purchaseIntent.product.purchase(options: purchaseOptions)

```

Finally, follow the same workflow your app uses for any successful purchase, such as unlocking the purchased content and finishing the transaction with [`finish()`](https://developer.apple.com/documentation/storekit/transaction/finish\(\)).
Note
If your app uses the [`PurchaseIntent`](https://developer.apple.com/documentation/storekit/purchaseintent) API but doesn’t explicitly add support for win-back offers using [`offer`](https://developer.apple.com/documentation/storekit/purchaseintent/offer), StoreKit adds the win-back offer to the purchase options on devices running iOS 18 and later and visionOS 2 and later.
### [Identify subscriptions purchased with a win-back offer](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app#Identify-subscriptions-purchased-with-a-win-back-offer)
When customers successfully redeem subscription offers, including win-back offers, the transaction information contains the offer details. Find those details in the app and on your server, as follows:
  * In your app, check the [`Transaction`](https://developer.apple.com/documentation/storekit/transaction) property, [`offer`](https://developer.apple.com/documentation/storekit/transaction/offer-swift.property). An offer type value of `winback` indicates the customer redeemed a win-back offer.
  * On your server, check the [`JWSTransactionDecodedPayload`](https://developer.apple.com/documentation/AppStoreServerAPI/JWSTransactionDecodedPayload) that you receive in [`App Store Server Notifications V2`](https://developer.apple.com/documentation/AppStoreServerNotifications/App-Store-Server-Notifications-V2) notifications or [App Store Server API](https://developer.apple.com/documentation/AppStoreServerAPI) responses. The [`offerIdentifier`](https://developer.apple.com/documentation/AppStoreServerAPI/offerIdentifier) represents the offer that’s applied to the transaction. An [`offerType`](https://developer.apple.com/documentation/AppStoreServerAPI/offerType) of `4` indicates a win-back offer.


### [Testing win-back offers](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app#Testing-win-back-offers)
You can test win-back offers early in your development using StoreKit Testing in Xcode, and in the sandbox environment. For more information, see [Testing win-back offers in Xcode](https://developer.apple.com/documentation/storekit/testing-win-back-offers-in-xcode) and [Testing win-back offers in the sandbox environment](https://developer.apple.com/documentation/storekit/testing-win-back-offers-in-the-sandbox-environment).
## [See Also](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app#see-also)
### [Offers](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app#Offers)
[Supporting offer codes in your app](https://developer.apple.com/documentation/storekit/supporting-offer-codes-in-your-app)
Enable customers to redeem offer codes through the App Store or within your app.
[Merchandising win-back offers in your app](https://developer.apple.com/documentation/storekit/merchandising-win-back-offers-in-your-app)
Present win-back offers to eligible customers in your app with the win-back offer sheet or by implementing custom merchandising.
[`struct SubscriptionOffer`](https://developer.apple.com/documentation/storekit/product/subscriptionoffer)
Information about a subscription offer that you configure in App Store Connect.
[`struct OfferType`](https://developer.apple.com/documentation/storekit/product/subscriptionoffer/offertype)
The types of offers for auto-renewable subscriptions.
Current page is Supporting win-back offers in your app 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Fstorekit%2Fsupporting-win-back-offers-in-your-app).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
