Source: https://developer.apple.com/documentation/appkit/developing-a-document-based-app

[ Skip Navigation ](https://developer.apple.com/documentation/appkit/developing-a-document-based-app#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/appkit/developing-a-document-based-app#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/appkit/developing-a-document-based-app)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/appkit/developing-a-document-based-app)
  * SwiftLanguage:  Swift  Objective-C 
Language: 
    * Swift 
    * [ Objective-C ](https://developer.apple.com/documentation/appkit/developing-a-document-based-app)


[](https://developer.apple.com/documentation/appkit/developing-a-document-based-app)
## [ AppKit  ](https://developer.apple.com/documentation/appkit)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
3 of 44 symbols inside <root> [AppKit updates](https://developer.apple.com/documentation/updates/appkit)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
4 of 44 symbols inside <root> [Protecting the User’s Privacy](https://developer.apple.com/documentation/uikit/protecting-the-user-s-privacy)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
5 of 44 symbols inside <root> [Porting your macOS apps to Apple silicon](https://developer.apple.com/documentation/apple-silicon/porting-your-macos-apps-to-apple-silicon)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
6 of 44 symbols inside <root>
App Structure
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
7 of 44 symbols inside <root> containing 26 symbols[App and Environment](https://developer.apple.com/documentation/appkit/app-and-environment)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
8 of 44 symbols inside <root> containing 26 symbols[Documents, Data, and Pasteboard](https://developer.apple.com/documentation/appkit/documents-data-and-pasteboard)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 26 symbols inside 955518975 
Documents
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
2 of 26 symbols inside 955518975 [Developing a Document-Based App](https://developer.apple.com/documentation/appkit/developing-a-document-based-app)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
3 of 26 symbols inside 955518975 containing 181 symbols[NSDocument](https://developer.apple.com/documentation/appkit/nsdocument)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
4 of 26 symbols inside 955518975 containing 57 symbols[NSDocumentController](https://developer.apple.com/documentation/appkit/nsdocumentcontroller)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
5 of 26 symbols inside 955518975 containing 9 symbols[NSPersistentDocument](https://developer.apple.com/documentation/appkit/nspersistentdocument)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
6 of 26 symbols inside 955518975 
User Preferences
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
7 of 26 symbols inside 955518975 containing 14 symbols[NSUserDefaultsController](https://developer.apple.com/documentation/appkit/nsuserdefaultscontroller)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
8 of 26 symbols inside 955518975 [NSUbiquitousKeyValueStore](https://developer.apple.com/documentation/foundation/nsubiquitouskeyvaluestore)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
9 of 26 symbols inside 955518975 
Pasteboard
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
10 of 26 symbols inside 955518975 containing 59 symbols[NSPasteboard](https://developer.apple.com/documentation/appkit/nspasteboard)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
11 of 26 symbols inside 955518975 containing 21 symbols[NSPasteboardItem](https://developer.apple.com/documentation/appkit/nspasteboarditem)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
12 of 26 symbols inside 955518975 containing 6 symbols[NSPasteboardReading](https://developer.apple.com/documentation/appkit/nspasteboardreading)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
13 of 26 symbols inside 955518975 containing 9 symbols[NSPasteboardWriting](https://developer.apple.com/documentation/appkit/nspasteboardwriting)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
14 of 26 symbols inside 955518975 containing 3 symbols[NSPasteboardItemDataProvider](https://developer.apple.com/documentation/appkit/nspasteboarditemdataprovider)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
15 of 26 symbols inside 955518975 containing 4 symbols[NSPasteboard.ContentsOptions](https://developer.apple.com/documentation/appkit/nspasteboard/contentsoptions)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
16 of 26 symbols inside 955518975 containing 4 symbols[NSPasteboardTypeOwner](https://developer.apple.com/documentation/appkit/nspasteboardtypeowner)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
17 of 26 symbols inside 955518975 
File Promises
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
18 of 26 symbols inside 955518975 [Supporting Drag and Drop Through File Promises](https://developer.apple.com/documentation/appkit/supporting-drag-and-drop-through-file-promises)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
19 of 26 symbols inside 955518975 [Supporting Table View Drag and Drop Through File Promises](https://developer.apple.com/documentation/appkit/supporting-table-view-drag-and-drop-through-file-promises)
70 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ AppKit ](https://developer.apple.com/documentation/appkit)
  * [ Documents, Data, and Pasteboard ](https://developer.apple.com/documentation/appkit/documents-data-and-pasteboard)
  * [ Developing a Document-Based App ](https://developer.apple.com/documentation/appkit/developing-a-document-based-app)
  *     * [ Documents, Data, and Pasteboard ](https://developer.apple.com/documentation/appkit/documents-data-and-pasteboard)
    * Developing a Document-Based App 


Sample Code
# Developing a Document-Based App
Write an app that creates, manages, edits, and saves text documents.
[ Download ](https://docs-assets.developer.apple.com/published/493c3c9bab1a/DevelopingADocumentBasedApp.zip)
macOS 10.10+Xcode 11.3+
## [Overview](https://developer.apple.com/documentation/appkit/developing-a-document-based-app#Overview)
This sample shows how to use the Cocoa document architecture to manage documents. A document is a body of information, such as pages of text, stored in a file locally or in iCloud.
In the Cocoa document architecture, your document is represented by a custom subclass of [`NSDocument`](https://developer.apple.com/documentation/appkit/nsdocument). The `NSDocument` class provides most of the behavior for managing your document. In your subclass, you override or fine-tune this behavior by providing custom code for reading and writing document data. A document’s data is called the _data model_. Each `NSDocument` has its own [`NSWindowController`](https://developer.apple.com/documentation/appkit/nswindowcontroller), which in turn creates an [`NSWindow`](https://developer.apple.com/documentation/appkit/nswindow) object for displaying the document content.
Because a document-based app handles multiple documents that are open at the same time, it uses [`NSDocumentController`](https://developer.apple.com/documentation/appkit/nsdocumentcontroller) to manage them. Cocoa provides most of the infrastructure for managing your documents. With file coordination, version management, and conflict resolution among other documents, it provides the easiest path to using iCloud.
![Cocoa document architecture diagram showing the relationships between NSDocumentController and its list of NSDocument objects, and between NSDocument and its NSWindowController.](https://docs-assets.developer.apple.com/published/091174066bde587c3b6954d1ab290902/documentbasedapp-diagram1%402x.png)
### [Declare the Document Type](https://developer.apple.com/documentation/appkit/developing-a-document-based-app#Declare-the-Document-Type)
Apps must use Xcode’s Document Types editor to define the types of documents they can open. When Xcode builds your app, it places the document type information in your app’s information property list (`Info.plist`) file. When users install your app, the system uses that information to determine how to send your app the files to be opened.
Your app declares its document type as a uniform type identifier (UTI), which is a name that identifies a data format. There are two types of UTIs: system UTIs, which are predefined identifiers known to all systems, and user-defined UTIs, which are custom identifiers you can provide for your custom data formats.
The DocumentBasedApp sample has one document type for files containing plain text. Because text is a standard data format, the sample uses the `public.plain-text` system UTI.
The values in the Document Types editor for this sample as follows:
  * Name = Plain Text
  * Identifier = `public.plain-text`
  * Class = `$(PRODUCT_MODULE_NAME).Document`
  * Role = Editor
  * Bundle = Unchecked


`Name` is a human-readable description of the document type, shown in the Finder when users inspect your document type. `Class` is the name of the `NSDocument` subclass that handles this document type. Because this sample edits plain-text documents, its `Role` for this document type is an editor. `Bundle` is turned off because plain-text files aren’t distributed as bundles or packages.
A UTI also specifies which file extension is used by files of this type. The `public.plain-text` UTI specifies extension `.txt`, so the document files that this sample opens or creates have the `.txt` extension at the end of the filename.
### [Design the Document Content](https://developer.apple.com/documentation/appkit/developing-a-document-based-app#Design-the-Document-Content)
This sample app is a text editor, implementing a subclass of `NSDocument` called `Document` with a data model called `Content`.
The `Content` object encapsulates the document’s data into a single package. Putting all of the document’s data into a single `Content` object simplifies data management. For example, it’s easier to add new data elements to the document later.
The `Content` object contains a single attribute called `contentString`, which is made up of a single `String`.
```
class Content: NSObject {
    @objc dynamic var contentString = ""
    
    public init(contentString: String) {
        self.contentString = contentString
    }
    
}

```

Note
The Cocoa document architecture uses the Objective-C runtime, and document-based apps often use Objective-C technologies such as key-value coding (KVC), key-value observing (KVO), Cocoa bindings, and Cocoa archiving (`NSCoding`). Therefore, the model classes in your app should be Objective-C classes (subclasses of `NSObject`), and the properties and methods in those classes should be Objective-C compatible (declared `@objc`). In addition, their properties should be declared `dynamic` in Swift, which tells the compiler to use dynamic dispatch to access that attribute.
Using a centralized `Content` object encapsulates the document’s data model into a single package. If you need to add new data elements to your data model later, you’ll also place them within the `Content` model. The model object is therefore responsible for encoding and decoding its content for reading and writing to disk.
### [Design the Document User Interface](https://developer.apple.com/documentation/appkit/developing-a-document-based-app#Design-the-Document-User-Interface)
This sample follows the Model–View–Controller design pattern by separating its data from the user interface. The _model_ portion is the `Content` object, the _view_ portion is document’s `NSWindow` plus the `NSView` hierarchy it contains, and the _controller_ portion is divided among various controller objects, including your `Document` object. The document’s `NSWindowController` object and the view hierarchy of `NSViewController` objects descend from the window controller’s `contentViewController`.
When you create your `Document` subclass, you determine which window controller the document will use by implementing the `makeWindowControllers()` function. This function also sets a reference to the document object as the `contentViewController`‘s `representedObject`, allowing the user interface elements to bind the document’s data model. Hence the user interface elements get their values through the `representedObject`.
```
override func makeWindowControllers() {
    // Returns the storyboard that contains your document window.
    let storyboard = NSStoryboard(name: NSStoryboard.Name("Main"), bundle: nil)
    if let windowController =
        storyboard.instantiateController(
            withIdentifier: NSStoryboard.SceneIdentifier("Document Window Controller")) as? NSWindowController {
        addWindowController(windowController)
        
        // Set the view controller's represented object as your document.
        if let contentVC = windowController.contentViewController as? ViewController {
            contentVC.representedObject = content
            contentViewController = contentVC
        }
    }
}

```

When you organize the user interface into groups of view controllers called _child view controllers_ , `NSViewController` passes down its `representedObject` to all of its children.
```
override var representedObject: Any? {
    didSet {
        // Pass down the represented object to all of the child view controllers.
        for child in children {
            child.representedObject = representedObject
        }
    }
}

```

As a result, the `NSTextView` containing the plain text is bound to the document’s data model using [Cocoa Bindings](https://developer.apple.com/documentation/appkit/cocoa-bindings) to keep the text view’s data in sync with the data model. The `Value` binding of the `NSTextView` is set to the following key path of its view controller:
`representedObject.contentString`
![Cocoa document architecture diagram showing how text view data is synced with the data model object through its view controller’s representedObject.](https://docs-assets.developer.apple.com/published/4214157cfa8878403b1f09489234f939/documentbasedapp-diagram2%402x.png)
### [Read the Document Content](https://developer.apple.com/documentation/appkit/developing-a-document-based-app#Read-the-Document-Content)
At runtime, the `Document` calls `read(from:ofType:)` function to read in the data of a specified type from a file. This overridden function ignores the `typeName` parameter because this sample handles documents of a single known type.
```
override func read(from data: Data, ofType typeName: String) throws {
    content.read(from: data)
}

```

### [Write the Document Content](https://developer.apple.com/documentation/appkit/developing-a-document-based-app#Write-the-Document-Content)
At runtime, the `Document` calls `data(ofType:)` function to write the plain text to a file. This overridden function ignores the `typeName` parameter because this sample handles documents of a single known type.
```
override func data(ofType typeName: String) throws -> Data {
    return content.data()!
}

```

## [See Also](https://developer.apple.com/documentation/appkit/developing-a-document-based-app#see-also)
### [Documents](https://developer.apple.com/documentation/appkit/developing-a-document-based-app#Documents)
[`class NSDocument`](https://developer.apple.com/documentation/appkit/nsdocument)
An abstract class that defines the interface for macOS documents.
[`class NSDocumentController`](https://developer.apple.com/documentation/appkit/nsdocumentcontroller)
An object that manages an app’s documents.
[`class NSPersistentDocument`](https://developer.apple.com/documentation/appkit/nspersistentdocument)
A document object that can integrate with Core Data.
Current page is Developing a Document-Based App 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Fappkit%2Fdeveloping-a-document-based-app).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
