Source: https://developer.apple.com/documentation/CoreData/NSManagedObjectContext

[ Skip Navigation ](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext)
  * SwiftLanguage:  Swift  Objective-C 
Language: 
    * Swift 
    * [ Objective-C ](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext)


[](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext)
## [ Core Data  ](https://developer.apple.com/documentation/coredata)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
11 of 83 symbols inside -1624984740 
Registering and fetching objects
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
4 of 25 symbols inside -74198933 containing 35 symbols[NSManagedObjectModel](https://developer.apple.com/documentation/coredata/nsmanagedobjectmodel)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
5 of 25 symbols inside -74198933 containing 30 symbols[NSEntityDescription](https://developer.apple.com/documentation/coredata/nsentitydescription)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
6 of 25 symbols inside -74198933 containing 18 symbols[NSPropertyDescription](https://developer.apple.com/documentation/coredata/nspropertydescription)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
7 of 25 symbols inside -74198933 containing 16 symbols[NSAttributeDescription](https://developer.apple.com/documentation/coredata/nsattributedescription)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
8 of 25 symbols inside -74198933 containing 2 symbols[NSDerivedAttributeDescription](https://developer.apple.com/documentation/coredata/nsderivedattributedescription)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
9 of 25 symbols inside -74198933 containing 13 symbols[NSRelationshipDescription](https://developer.apple.com/documentation/coredata/nsrelationshipdescription)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
10 of 25 symbols inside -74198933 
Object Management
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
11 of 25 symbols inside -74198933 containing 83 symbols[NSManagedObjectContext](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 83 symbols inside -1624984740 
Creating a context
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
2 of 83 symbols inside -1624984740 [convenience init(NSManagedObjectContext.ConcurrencyType)](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/init\(_:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
3 of 83 symbols inside -1624984740 containing 3 symbols[NSManagedObjectContext.ConcurrencyType](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/concurrencytype-swift.struct)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
4 of 83 symbols inside -1624984740 [init(concurrencyType: NSManagedObjectContextConcurrencyType)](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/init\(concurrencytype:\))Deprecated
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
E
5 of 83 symbols inside -1624984740 containing 6 symbols[NSManagedObjectContextConcurrencyType](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontextconcurrencytype)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
6 of 83 symbols inside -1624984740 
Configuring a context
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
7 of 83 symbols inside -1624984740 [var persistentStoreCoordinator: NSPersistentStoreCoordinator?](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/persistentstorecoordinator)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
8 of 83 symbols inside -1624984740 [var parent: NSManagedObjectContext?](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/parent)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
9 of 83 symbols inside -1624984740 [var name: String?](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/name)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
10 of 83 symbols inside -1624984740 [var userInfo: NSMutableDictionary](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/userinfo)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
11 of 83 symbols inside -1624984740 
Registering and fetching objects
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
12 of 83 symbols inside -1624984740 [func fetch(NSFetchRequest<any NSFetchRequestResult>) throws -> [Any]](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/fetch\(_:\)-38ys1)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
13 of 83 symbols inside -1624984740 [func fetch<T>(NSFetchRequest<T>) throws -> [T]](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/fetch\(_:\)-4xeoz)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
14 of 83 symbols inside -1624984740 [func count(for: NSFetchRequest<any NSFetchRequestResult>) throws -> Int](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/count\(for:\)-93zbm)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
15 of 83 symbols inside -1624984740 [func registeredObject(for: NSManagedObjectID) -> NSManagedObject?](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/registeredobject\(for:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
16 of 83 symbols inside -1624984740 [func object(with: NSManagedObjectID) -> NSManagedObject](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/object\(with:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
17 of 83 symbols inside -1624984740 [func existingObject(with: NSManagedObjectID) throws -> NSManagedObject](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/existingobject\(with:\))
145 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ Core Data ](https://developer.apple.com/documentation/coredata)
  * [ NSManagedObjectContext ](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext)
  *     * NSManagedObjectContext 


Class
# NSManagedObjectContext
An object space to manipulate and track changes to managed objects.
iOS 3.0+iPadOS 3.0+Mac Catalyst 13.1+macOS 10.4+tvOSvisionOS 1.0+watchOS 2.0+
```
nonisolated
class NSManagedObjectContext
```

## [ Mentioned in ](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#mentions)
[](https://developer.apple.com/documentation/coredata/setting-up-a-core-data-stack-manually)
[](https://developer.apple.com/documentation/coredata/using-core-data-in-the-background)
[](https://developer.apple.com/documentation/coredata/setting-up-a-core-data-stack)
## [Overview](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#overview)
A context consists of a group of related model objects that represent an internally consistent view of one or more persistent stores. Changes to managed objects remain in memory in the associated context until Core Data saves that context to one or more persistent stores. A single managed object instance exists in one and only one context, but multiple copies of an object can exist in different contexts. Therefore, an object is unique to a particular context.
### [Life cycle management](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#Life-cycle-management)
The context is a powerful object with a central role in the life cycle of managed objects, with responsibilities from life cycle management (including faulting) to validation, inverse relationship handling, and undo/redo. Through a context you can retrieve or “fetch” objects from a persistent store, make changes to those objects, and then either discard the changes or—again through the context—commit them back to the persistent store. The context is responsible for watching for changes in its objects and maintains an undo manager so you can have finer-grained control over undo and redo. You can insert new objects and delete ones you have fetched, and commit these modifications to the persistent store.
All objects fetched from an external store are registered in a context together with a global identifier (an instance of `NSManagedObjectID`) that’s used to uniquely identify each object to the external store.
### [Parent store](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#Parent-store)
Managed object contexts have a parent store from which they retrieve data representing managed objects and through which they commit changes to managed objects.
Prior to OS X v10.7 and iOS v5.0, the parent store is always a persistent store coordinator. In macOS 10.7 and later and iOS v5.0 and later, the parent store may be another managed object context. Ultimately the root of a context’s ancestry must be a persistent store coordinator. The coordinator provides the managed object model and dispatches requests to the various persistent stores containing the data.
If a context’s parent store is another managed object context, fetch and save operations are mediated by the parent context instead of a coordinator. This pattern has a number of usage scenarios, including:
  * Performing background operations on a second thread or queue.
  * Managing discardable edits, such as in an inspector window or view.


As the first scenario implies, a parent context can service requests from children on different threads. You cannot, therefore, use parent contexts created with the thread confinement type (see [Concurrency](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext#Concurrency)).
When you save changes in a context, the changes are only committed “one store up.” If you save a child context, changes are pushed to its parent. Changes are not saved to the persistent store until the root context is saved. (A root managed object context is one whose parent context is `nil`.) In addition, a parent does not pull changes from children before it saves. You must save a child context if you want ultimately to commit the changes.
### [Notifications](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#Notifications)
A context posts notifications at various points—see [`NSManagedObjectContextObjectsDidChange`](https://developer.apple.com/documentation/Foundation/NSNotification/Name-swift.struct/NSManagedObjectContextObjectsDidChange) for example. Typically, you should register to receive these notifications only from known contexts:
  * [ Swift ](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext)
  * [ Objective-C ](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext)


```
NotificationCenter.default.addObserver(self,
                                       selector: #selector(<#methodToCall#>),
                                       name: .NSManagedObjectContextDidSave,
                                       object: <#managedObjectContext#>)

```

```
[[NSNotificationCenter defaultCenter] addObserver:self
                                      selector:@selector(<#Selector name#>)
                                      name:NSManagedObjectContextDidSaveNotification
                                      object:<#A managed object context#>];

```

Several system frameworks use Core Data internally. If you register to receive these notifications from all contexts (by passing `nil` as the object parameter to a method such as [`addObserver(_:selector:name:object:)`](https://developer.apple.com/documentation/Foundation/NotificationCenter/addObserver\(_:selector:name:object:\))), then you may receive unexpected notifications that are difficult to handle.
### [Concurrency](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#Concurrency)
Core Data uses thread (or serialized queue) confinement to protect managed objects and managed object contexts (see [Core Data Programming Guide](https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CoreData/index.html#//apple_ref/doc/uid/TP40001075)). A consequence of this is that a context assumes the default owner is the thread or queue that creates it. Don’t, therefore, initialize a context on one thread then pass it to another. Instead, pass a reference to a persistent store coordinator and have the receiving thread or queue create a new context using that. If you use [`Operation`](https://developer.apple.com/documentation/Foundation/Operation), you must create the context in [`main()`](https://developer.apple.com/documentation/Foundation/Operation/main\(\)) (for a serial queue) or [`start()`](https://developer.apple.com/documentation/Foundation/Operation/start\(\)) (for a concurrent queue).
When you create a context you specify the concurrency type with which you’ll use it. When you create a managed object context, you have two options for its thread (queue) association:
  * Private: The context creates and manages a private queue.
  * Main: The context associates with the main queue and is dependent on the application’s event loop; otherwise, it’s similar to a private context. Use this type for contexts that update view controllers and other user interface elements.


You use contexts using the queue-based concurrency types in conjunction with [`perform(_:)`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/perform\(_:\)) and [`performAndWait(_:)`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/performandwait\(_:\)-ypye). You group “standard” messages to send to the context within a block to pass to one of these methods. There are two exceptions:
  * Setter methods on queue-based managed object contexts are thread-safe. You can invoke these methods directly on any thread.
  * If your code executes on the main thread, you can invoke methods on the main queue style contexts directly instead of using the block based API.


[`perform(_:)`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/perform\(_:\)) and [`performAndWait(_:)`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/performandwait\(_:\)-ypye) ensure the block operations execute on the correct queue for the context. The [`perform(_:)`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/perform\(_:\)) method returns immediately and the context executes the block methods on its own thread. With the [`performAndWait(_:)`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/performandwait\(_:\)-ypye) method, the context still executes the block methods on its own thread, but the method doesn’t return until the block completes.
It’s important to appreciate that blocks execute as a distinct body of work. As soon as your block ends, anyone else can enqueue another block, undo changes, reset the context, and so on. Thus blocks may be quite large, and typically end by invoking [`save()`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/save\(\)).
  * [ Swift ](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext)
  * [ Objective-C ](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext)


```
var savedOK = false
managedObjectContext.performAndWait() {


    // Perform operations with the context.


    do {
        try managedObjectContext.save()
        savedOK = true
    } catch {
        print("Error saving context: \(error)")
    }
}

```

```
__block BOOL savedOK = NO;
[managedObjectContext performBlockAndWait:^{


    // Perform operations with the context.


    NSError *error = nil;
    if ([managedObjectContext save:&error]) {
        savedOK = YES;
    } else {
        NSLog(@"Error saving: %@", error);
    }
}];

```

You can also perform other operations, such as:
  * [ Swift ](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext)
  * [ Objective-C ](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext)


```
let fetchRequest: NSFetchRequest<Entity> = NSFetchRequest(entityName: "Entity")
var count = 0


managedObjectContext.performAndWait() {
    do {
        count = try managedObjectContext.count(for: fetchRequest)
    } catch {
        print("Error counting objects: \(error)")
    }
}


print("The fetch request would return \(count) objects")

```

```
NSFetchRequest *fetchRequest = [NSFetchRequest fetchRequestWithEntityName:@"Entity"];
__block NSUInteger count = 0;


[managedObjectContext performBlockAndWait:^() {
    NSError *error;
    count = [managedObjectContext countForFetchRequest:fetchRequest error:&error];
    if (count == NSNotFound) {
        NSLog(@"Error counting objects: %@", error);
    }
}];


NSLog(@"The fetch request would return %lu objects", count);

```

### [Subclassing notes](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#Subclassing-notes)
You are strongly discouraged from subclassing `NSManagedObjectContext`. The change tracking and undo management mechanisms are highly optimized and hence intricate and delicate. Interposing your own additional logic that might impact [`processPendingChanges()`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/processpendingchanges\(\)) can have unforeseen consequences. In situations such as store migration, Core Data will create instances of `NSManagedObjectContext` for its own use. Under these circumstances, you cannot rely on any features of your custom subclass. Any `NSManagedObject` subclass must always be fully compatible with `NSManagedObjectContext` (that is, it cannot rely on features of a subclass of `NSManagedObjectContext`).
## [Topics](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#topics)
### [Creating a context](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#Creating-a-context)
[`convenience init(NSManagedObjectContext.ConcurrencyType)`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/init\(_:\))
Creates a context that uses the specified concurrency type.
[`struct ConcurrencyType`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/concurrencytype-swift.struct)
The concurrency types to use with a managed object context.
[`init(concurrencyType: NSManagedObjectContextConcurrencyType)`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/init\(concurrencytype:\))
Creates a context that uses the specified concurrency type.
Deprecated
[`enum NSManagedObjectContextConcurrencyType`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontextconcurrencytype)
The concurrency types you can use with a managed object context.
### [Configuring a context](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#Configuring-a-context)
[`var persistentStoreCoordinator: NSPersistentStoreCoordinator?`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/persistentstorecoordinator)
The persistent store coordinator of the context.
[`var parent: NSManagedObjectContext?`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/parent)
The parent of the context.
[`var name: String?`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/name)
The developer-provided name of the context.
[`var userInfo: NSMutableDictionary`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/userinfo)
The user information for the context.
### [Registering and fetching objects](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#Registering-and-fetching-objects)
[`func fetch(NSFetchRequest<any NSFetchRequestResult>) throws -> [Any]`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/fetch\(_:\)-38ys1)
Returns an array of objects that meet the criteria of the specified fetch request.
[`func fetch<T>(NSFetchRequest<T>) throws -> [T]`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/fetch\(_:\)-4xeoz)
Returns an array of items of the specified type that meet the fetch request’s critieria.
[`func count(for: NSFetchRequest<any NSFetchRequestResult>) throws -> Int`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/count\(for:\)-93zbm)
Returns the number of objects the specified request fetches when it executes.
[`func registeredObject(for: NSManagedObjectID) -> NSManagedObject?`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/registeredobject\(for:\))
Returns an object that exists in the context.
[`func object(with: NSManagedObjectID) -> NSManagedObject`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/object\(with:\))
Returns either an existing object from the context or a fault that represents that object.
[`func existingObject(with: NSManagedObjectID) throws -> NSManagedObject`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/existingobject\(with:\))
Returns an existing object from either the context or the persistent store.
[`var registeredObjects: Set<NSManagedObject>`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/registeredobjects)
The set of registered managed objects in the context.
[`func count<T>(for: NSFetchRequest<T>) throws -> Int`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/count\(for:\)-3r91z)
Returns a count of the objects the specified request fetches when it executes.
[`func execute(NSPersistentStoreRequest) throws -> NSPersistentStoreResult`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/execute\(_:\))
Passes a request to the persistent store without affecting the contents of the managed object context, and returns a persistent store result.
[`func refreshAllObjects()`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/refreshallobjects\(\))
Refreshes all of the registered managed objects in the context.
[`var retainsRegisteredObjects: Bool`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/retainsregisteredobjects)
A Boolean value that indicates whether the context keeps strong references to all registered managed objects.
### [Handling managed objects](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#Handling-managed-objects)
[`var shouldDeleteInaccessibleFaults: Bool`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/shoulddeleteinaccessiblefaults)
A Boolean value that determines whether the context turns inaccessible faults into deleted objects.
[`var insertedObjects: Set<NSManagedObject>`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/insertedobjects)
The set of objects that have been inserted into the context but not yet saved in a persistent store.
[`var updatedObjects: Set<NSManagedObject>`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/updatedobjects)
The set of objects registered with the context that have uncommitted changes.
[`var deletedObjects: Set<NSManagedObject>`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/deletedobjects)
The set of objects that will be removed from their persistent store during the next save operation.
[`func shouldHandleInaccessibleFault(NSManagedObject, for: NSManagedObjectID, triggeredByProperty: NSPropertyDescription?) -> Bool`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/shouldhandleinaccessiblefault\(_:for:triggeredbyproperty:\))
Creates a log of the inaccessible fault.
[`func insert(NSManagedObject)`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/insert\(_:\))
Registers an object to be inserted in the context’s persistent store the next time changes are saved.
[`func delete(NSManagedObject)`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/delete\(_:\))
Specifies an object that should be removed from its persistent store when changes are committed.
[`func assign(Any, to: NSPersistentStore)`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/assign\(_:to:\))
Specifies the store in which a newly inserted object will be saved.
[`func obtainPermanentIDs(for: [NSManagedObject]) throws`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/obtainpermanentids\(for:\))
Converts to permanent IDs the object IDs of the objects in a given array.
[`func detectConflicts(for: NSManagedObject)`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/detectconflicts\(for:\))
Marks an object for conflict detection.
[`func refresh(NSManagedObject, mergeChanges: Bool)`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/refresh\(_:mergechanges:\))
Updates the persistent properties of a managed object to use the latest values from the persistent store.
[`func processPendingChanges()`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/processpendingchanges\(\))
Forces the context to process changes to the object graph.
[`func observeValue(forKeyPath: String?, of: Any?, change: [String : Any]?, context: UnsafeMutableRawPointer?)`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/observevalue\(forkeypath:of:change:context:\))
Allows a context that has registered as an observer of a value to be notified of a change to that value.
### [Managing concurrency](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#Managing-concurrency)
[`let NSManagedObjectContextQueryGenerationKey: String`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontextquerygenerationkey)
Constant used to reference the query generation token.
[`class func mergeChanges(fromRemoteContextSave: [AnyHashable : Any], into: [NSManagedObjectContext])`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/mergechanges\(fromremotecontextsave:into:\))
Handles changes from other processes or from a serialized state.
[`var automaticallyMergesChangesFromParent: Bool`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/automaticallymergeschangesfromparent)
A Boolean value that indicates whether the context automatically merges changes saved to its persistent store coordinator or parent context.
[`var concurrencyType: NSManagedObjectContextConcurrencyType`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/concurrencytype-swift.property)
The concurrency type for the context.
[`var mergePolicy: Any`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/mergepolicy)
The merge policy of the context.
[`var queryGenerationToken: NSQueryGenerationToken?`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/querygenerationtoken)
Returns the token associated with the query generation currently in use by this context.
[`var transactionAuthor: String?`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/transactionauthor)
The author for the context that is used as an identifier in persistent history transactions.
[`func mergeChanges(fromContextDidSave: Notification)`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/mergechanges\(fromcontextdidsave:\))
Merges the changes specified in a given notification.
[`func setQueryGenerationFrom(NSQueryGenerationToken?) throws`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/setquerygenerationfrom\(_:\))
Sets the query generation this context should use.
### [Managing notifications](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#Managing-notifications)
[`static let didChangeObjectsNotification: Notification.Name`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/didchangeobjectsnotification)
A notification that posts when a context makes changes to its registered objects.
[`static let NSManagedObjectContextObjectsDidChange: NSNotification.Name`](https://developer.apple.com/documentation/Foundation/NSNotification/Name-swift.struct/NSManagedObjectContextObjectsDidChange)
A notification that posts when there are changes to context’s registered managed objects.
[`static let didSaveObjectsNotification: Notification.Name`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/didsaveobjectsnotification)
A notification that posts after a context completes a save.
[`static let NSManagedObjectContextDidSave: NSNotification.Name`](https://developer.apple.com/documentation/Foundation/NSNotification/Name-swift.struct/NSManagedObjectContextDidSave)
A notification that posts after a context finishes writing unsaved changes.
[`static let willSaveObjectsNotification: Notification.Name`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/willsaveobjectsnotification)
A notification that posts before a context writes pending changes to disk.
[`static let NSManagedObjectContextWillSave: NSNotification.Name`](https://developer.apple.com/documentation/Foundation/NSNotification/Name-swift.struct/NSManagedObjectContextWillSave)
A notification that posts before a context writes unsaved changes.
[`let NSInsertedObjectsKey: String`](https://developer.apple.com/documentation/coredata/nsinsertedobjectskey)
A key for the set of objects that were inserted into the context.
[`let NSUpdatedObjectsKey: String`](https://developer.apple.com/documentation/coredata/nsupdatedobjectskey)
A key for the set of objects that were updated.
[`let NSDeletedObjectsKey: String`](https://developer.apple.com/documentation/coredata/nsdeletedobjectskey)
A key for the set of objects that were marked for deletion during the previous event.
[`let NSRefreshedObjectsKey: String`](https://developer.apple.com/documentation/coredata/nsrefreshedobjectskey)
A key for the set of objects that were refreshed but were not dirtied in the scope of this context.
[`let NSInvalidatedObjectsKey: String`](https://developer.apple.com/documentation/coredata/nsinvalidatedobjectskey)
A key for the set of objects that were invalidated.
[`let NSInvalidatedAllObjectsKey: String`](https://developer.apple.com/documentation/coredata/nsinvalidatedallobjectskey)
A key that specifies that all objects in the context have been invalidated.
[`static let didMergeChangesObjectIDsNotification: Notification.Name`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/didmergechangesobjectidsnotification)
A notification that posts after a context finishes merging changes from another notification.
[`static let didSaveObjectIDsNotification: Notification.Name`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/didsaveobjectidsnotification)
A notification that posts after a context finishes saving changes to its managed objects.
[`enum NotificationKey`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/notificationkey)
Keys to access details in user info dictionaries of managed object context notifications.
### [Managing unsaved and uncommitted changes](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#Managing-unsaved-and-uncommitted-changes)
[`func save() throws`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/save\(\))
Attempts to commit unsaved changes to registered objects to the context’s parent store.
[`var hasChanges: Bool`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/haschanges)
A Boolean value that indicates whether the context has uncommitted changes.
### [Undoing changes](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#Undoing-changes)
[`var undoManager: UndoManager?`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/undomanager)
The object that provides undo support for the context.
[`func undo()`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/undo\(\))
Sends an undo message to the context’s undo manager, asking it to reverse the latest uncommitted changes applied to objects in the object graph.
[`func redo()`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/redo\(\))
Sends a redo message to the context’s undo manager, asking it to reverse the latest undo operation applied to objects in the object graph.
[`func reset()`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/reset\(\))
Returns the context to its base state.
[`func rollback()`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/rollback\(\))
Removes everything from the undo stack, discards all insertions and deletions, and restores updated objects to their last committed values.
### [Handling delete propagation](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#Handling-delete-propagation)
[`var propagatesDeletesAtEndOfEvent: Bool`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/propagatesdeletesatendofevent)
A Boolean value that indicates whether the context propagates deletes at the end of the event in which a change was made.
### [Managing the staleness interval](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#Managing-the-staleness-interval)
[`var stalenessInterval: TimeInterval`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/stalenessinterval)
The maximum length of time that may have elapsed since the store previously fetched data before fulfilling a fault issues a new fetch.
### [Performing block operations](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#Performing-block-operations)
[`func perform(() -> Void)`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/perform\(_:\))
Asynchronously performs the specified closure on the context’s queue.
[`func perform<T>(schedule: NSManagedObjectContext.ScheduledTaskType, () throws -> T) async rethrows -> T`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/perform\(schedule:_:\))
Submits a closure to the context’s queue for asynchronous execution.
[`func performAndWait(() -> Void)`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/performandwait\(_:\)-ypye)
Synchronously performs the specified closure on the context’s queue.
[`func performAndWait<T>(() throws -> T) rethrows -> T`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/performandwait\(_:\)-6aaf1)
Submits a closure to the context’s queue for synchronous execution.
[`enum ScheduledTaskType`](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext/scheduledtasktype)
The different types of scheduled tasks.
### [Deprecated](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#Deprecated)
[API Reference Deprecated symbols](https://developer.apple.com/documentation/coredata/nsmanagedobjectcontext-deprecated-symbols)
Review unsupported symbols and their replacements.
## [Relationships](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#relationships)
### [Inherits From](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#inherits-from)
  * [`NSObject`](https://developer.apple.com/documentation/ObjectiveC/NSObject-swift.class)


### [Conforms To](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#conforms-to)
  * [`CVarArg`](https://developer.apple.com/documentation/Swift/CVarArg)
  * [`Copyable`](https://developer.apple.com/documentation/Swift/Copyable)
  * [`CustomDebugStringConvertible`](https://developer.apple.com/documentation/Swift/CustomDebugStringConvertible)
  * [`CustomStringConvertible`](https://developer.apple.com/documentation/Swift/CustomStringConvertible)
  * [`Equatable`](https://developer.apple.com/documentation/Swift/Equatable)
  * [`Hashable`](https://developer.apple.com/documentation/Swift/Hashable)
  * [`NSCoding`](https://developer.apple.com/documentation/Foundation/NSCoding)
  * [`NSEditor`](https://developer.apple.com/documentation/AppKit/NSEditor)
  * [`NSEditorRegistration`](https://developer.apple.com/documentation/AppKit/NSEditorRegistration)
  * [`NSLocking`](https://developer.apple.com/documentation/Foundation/NSLocking)
  * [`NSObjectProtocol`](https://developer.apple.com/documentation/ObjectiveC/NSObjectProtocol)
  * [`Sendable`](https://developer.apple.com/documentation/Swift/Sendable)
  * [`SendableMetatype`](https://developer.apple.com/documentation/Swift/SendableMetatype)


## [See Also](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#see-also)
### [Object Management](https://developer.apple.com/documentation/CoreData/NSManagedObjectContext#Object-Management)
[`class NSManagedObject`](https://developer.apple.com/documentation/coredata/nsmanagedobject)
The base class that all Core Data model objects inherit from.
[`class NSManagedObjectID`](https://developer.apple.com/documentation/coredata/nsmanagedobjectid)
A compact, universal identifier for a managed object.
Current page is NSManagedObjectContext 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2FCoreData%2FNSManagedObjectContext).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
