Source: https://developer.apple.com/documentation/storekit/purchaseintent

[ Skip Navigation ](https://developer.apple.com/documentation/storekit/purchaseintent#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/storekit/purchaseintent#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/storekit/purchaseintent)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/storekit/purchaseintent)
  * SwiftLanguage: Swift


[](https://developer.apple.com/documentation/storekit/purchaseintent)
## [ StoreKit  ](https://developer.apple.com/documentation/storekit)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
28 of 60 symbols inside -1505352393 
Offers
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
16 of 60 symbols inside -1505352393 [static var all: Transaction.Transactions](https://developer.apple.com/documentation/storekit/transaction/all)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
15 of 60 symbols inside -1505352393 [static var updates: Transaction.Transactions](https://developer.apple.com/documentation/storekit/transaction/updates)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
14 of 60 symbols inside -1505352393 containing 41 symbols[Transaction](https://developer.apple.com/documentation/storekit/transaction)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
13 of 60 symbols inside -1505352393 
Transaction history and entitlements
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
E
12 of 60 symbols inside -1505352393 containing 4 symbols[Product.PurchaseResult](https://developer.apple.com/documentation/storekit/product/purchaseresult)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
11 of 60 symbols inside -1505352393 [func purchase(options: Set<Product.PurchaseOption>) async throws -> Product.PurchaseResult](https://developer.apple.com/documentation/storekit/product/purchase\(options:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
10 of 60 symbols inside -1505352393 containing 4 symbols[PurchaseAction](https://developer.apple.com/documentation/storekit/purchaseaction)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
9 of 60 symbols inside -1505352393 
Purchase requests and results
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
T
8 of 60 symbols inside -1505352393 [SubscriptionStatus](https://developer.apple.com/documentation/storekit/subscriptionstatus)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
T
7 of 60 symbols inside -1505352393 [SubscriptionInfo](https://developer.apple.com/documentation/storekit/subscriptioninfo)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
6 of 60 symbols inside -1505352393 containing 24 symbols[Product.SubscriptionInfo](https://developer.apple.com/documentation/storekit/product/subscriptioninfo)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
5 of 60 symbols inside -1505352393 containing 45 symbols[Product](https://developer.apple.com/documentation/storekit/product)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
4 of 60 symbols inside -1505352393 [Implementing a store in your app using the StoreKit API](https://developer.apple.com/documentation/storekit/implementing-a-store-in-your-app-using-the-storekit-api)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
3 of 60 symbols inside -1505352393 
Product and subscription information
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
2 of 60 symbols inside -1505352393 containing 83 symbols[StoreKit views](https://developer.apple.com/documentation/storekit/storekit-views)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 60 symbols inside -1505352393 
In-App Purchase merchandising
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
2 of 33 symbols inside <root> containing 60 symbols[In-App Purchase](https://developer.apple.com/documentation/storekit/in-app-purchase)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 33 symbols inside <root>
In-App Purchase
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
29 of 60 symbols inside -1505352393 [Supporting offer codes in your app](https://developer.apple.com/documentation/storekit/supporting-offer-codes-in-your-app)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
45 of 60 symbols inside -1505352393 [static var updates: Storefront.Storefronts](https://developer.apple.com/documentation/storekit/storefront/updates)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
44 of 60 symbols inside -1505352393 [static var current: Storefront?](https://developer.apple.com/documentation/storekit/storefront/current)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
43 of 60 symbols inside -1505352393 containing 9 symbols[Storefront](https://developer.apple.com/documentation/storekit/storefront)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
42 of 60 symbols inside -1505352393 
Storefront information
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
41 of 60 symbols inside -1505352393 containing 29 symbols[AppTransaction](https://developer.apple.com/documentation/storekit/apptransaction)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
E
40 of 60 symbols inside -1505352393 containing 29 symbols[AppStore](https://developer.apple.com/documentation/storekit/appstore)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
39 of 60 symbols inside -1505352393 
App Store interactions
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
38 of 60 symbols inside -1505352393 [Testing promoted In-App Purchases](https://developer.apple.com/documentation/storekit/testing-promoted-in-app-purchases)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
37 of 60 symbols inside -1505352393 containing 13 symbols[Product.PromotionInfo](https://developer.apple.com/documentation/storekit/product/promotioninfo)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
8 of 8 symbols inside -2051153788 [let offer: Product.SubscriptionOffer?](https://developer.apple.com/documentation/storekit/purchaseintent/offer)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
7 of 8 symbols inside -2051153788 
Identifying the offer
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
6 of 8 symbols inside -2051153788 [PurchaseIntent.PurchaseIntents](https://developer.apple.com/documentation/storekit/purchaseintent/purchaseintents)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
5 of 8 symbols inside -2051153788 [static var intents: PurchaseIntent.PurchaseIntents](https://developer.apple.com/documentation/storekit/purchaseintent/intents)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
4 of 8 symbols inside -2051153788 
Getting purchase intents
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
3 of 8 symbols inside -2051153788 [let product: Product](https://developer.apple.com/documentation/storekit/purchaseintent/product)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
2 of 8 symbols inside -2051153788 [var id: Product.ID](https://developer.apple.com/documentation/storekit/purchaseintent/id)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 8 symbols inside -2051153788 
Identifying the product
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
36 of 60 symbols inside -1505352393 containing 8 symbols[PurchaseIntent](https://developer.apple.com/documentation/storekit/purchaseintent)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
35 of 60 symbols inside -1505352393 [Supporting promoted In-App Purchases in your app](https://developer.apple.com/documentation/storekit/supporting-promoted-in-app-purchases-in-your-app)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
34 of 60 symbols inside -1505352393 
Promoted In-App Purchases
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
33 of 60 symbols inside -1505352393 containing 6 symbols[Product.SubscriptionOffer.OfferType](https://developer.apple.com/documentation/storekit/product/subscriptionoffer/offertype)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
32 of 60 symbols inside -1505352393 containing 15 symbols[Product.SubscriptionOffer](https://developer.apple.com/documentation/storekit/product/subscriptionoffer)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
31 of 60 symbols inside -1505352393 [Merchandising win-back offers in your app](https://developer.apple.com/documentation/storekit/merchandising-win-back-offers-in-your-app)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
30 of 60 symbols inside -1505352393 [Supporting win-back offers in your app](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
29 of 60 symbols inside -1505352393 [Supporting offer codes in your app](https://developer.apple.com/documentation/storekit/supporting-offer-codes-in-your-app)
101 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ StoreKit ](https://developer.apple.com/documentation/storekit)
  * [ PurchaseIntent ](https://developer.apple.com/documentation/storekit/purchaseintent)
  *     * PurchaseIntent 


Structure
# PurchaseIntent
An instance that emits purchase intents, which indicate that the customer initiated a purchase outside of your app, for your app to complete.
iOS 16.4+iPadOS 16.4+Mac Catalyst 16.4+macOS 14.4+
```
struct PurchaseIntent
```

## [ Mentioned in ](https://developer.apple.com/documentation/storekit/purchaseintent#mentions)
[](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app)
[](https://developer.apple.com/documentation/storekit/supporting-promoted-in-app-purchases-in-your-app)
[](https://developer.apple.com/documentation/storekit/promoting-in-app-purchases)
## [Overview](https://developer.apple.com/documentation/storekit/purchaseintent#overview)
Using `PurchaseIntent` is required in the following cases:
  * If you promote in-app purchases on the App Store
  * If you turn off the Streamlined Purchasing setting in App Store Connect and use win-back offers or contingent pricing


You set up these offers and settings in App Store Connect. For more information, see [Promote in-app purchases](https://developer.apple.com/help/app-store-connect/configure-in-app-purchase-settings/promote-in-app-purchases), [Set up win-back offers](https://developer.apple.com/help/app-store-connect/manage-subscriptions/set-up-win-back-offers), and [Manage Streamlined Purchasing](https://developer.apple.com/help/app-store-connect/manage-subscriptions/manage-streamlined-purchasing).
Important
To enable promoted in-app purchases, your app must use either [`PurchaseIntent`](https://developer.apple.com/documentation/storekit/purchaseintent) (starting in iOS 16.4) or [`paymentQueue(_:shouldAddStorePayment:for:)`](https://developer.apple.com/documentation/storekit/skpaymenttransactionobserver/paymentqueue\(_:shouldaddstorepayment:for:\)) (starting in iOS 11). Don’t use both at the same time. If necessary, use conditional compilation to identify the OS version the app is running in. For more information, see [Running code on a specific platform or OS version](https://developer.apple.com/documentation/Xcode/running-code-on-a-specific-version).
When a customer selects a promoted product on the App Store or a win-back offer outside of your app, it initiates a purchase that they complete in your app. If they don’t have your app installed, the system prompts them to download it. After the app downloads, the transaction continues in the app, which receives a purchase intent from the [`intents`](https://developer.apple.com/documentation/storekit/purchaseintent/intents) sequence.
The purchase intent identifies the [`product`](https://developer.apple.com/documentation/storekit/purchaseintent/product) the customer selected. To enable customers to complete the purchase, call [`purchase(options:)`](https://developer.apple.com/documentation/storekit/product/purchase\(options:\)) on this product instance. The following example code receives the purchase intent, and calls a method to complete the purchase workflow:
```
func purchaseProduct(_ product: Product) async {
    // Complete the purchase workflow.
    do {
        try await product.purchase()
    }
    catch {
        // Add your error handling here.
    }
    // Add your remaining purchase workflow here.
}


for await purchaseIntent in PurchaseIntent.intents {
    // Complete the purchase workflow.
    await purchaseProduct(purchaseIntent.product)
}



```

For more information, see [Supporting promoted In-App Purchases in your app](https://developer.apple.com/documentation/storekit/supporting-promoted-in-app-purchases-in-your-app) and [Supporting win-back offers in your app](https://developer.apple.com/documentation/storekit/supporting-win-back-offers-in-your-app).
In Mac apps built with Mac Catalyst, this instance doesn’t emit purchase intents for promoted in-app purchases because the Mac App Store doesn’t support this feature.
Note
`PurchaseIntent` and promoted in-app purchases aren’t available to compatible iPad or iPhone apps running in visionOS.
## [Topics](https://developer.apple.com/documentation/storekit/purchaseintent#topics)
### [Identifying the product](https://developer.apple.com/documentation/storekit/purchaseintent#Identifying-the-product)
[`var id: Product.ID`](https://developer.apple.com/documentation/storekit/purchaseintent/id)
The product identifier of the In-App Purchase that the customer selects to purchase outside of the app.
[`let product: Product`](https://developer.apple.com/documentation/storekit/purchaseintent/product)
The product information of the In-App Purchase the customer selects to purchase outside of the app.
### [Getting purchase intents](https://developer.apple.com/documentation/storekit/purchaseintent#Getting-purchase-intents)
[`static var intents: PurchaseIntent.PurchaseIntents`](https://developer.apple.com/documentation/storekit/purchaseintent/intents)
The asynchronous sequence that emits a purchase intent when customers initiate a purchase outside of the app.
[`struct PurchaseIntents`](https://developer.apple.com/documentation/storekit/purchaseintent/purchaseintents)
An asynchronous sequence of purchase intents for purchases that customers initiate outside of the app.
### [Identifying the offer](https://developer.apple.com/documentation/storekit/purchaseintent#Identifying-the-offer)
[`let offer: Product.SubscriptionOffer?`](https://developer.apple.com/documentation/storekit/purchaseintent/offer)
The subscription offer that the customer redeems outside of your app.
## [Relationships](https://developer.apple.com/documentation/storekit/purchaseintent#relationships)
### [Conforms To](https://developer.apple.com/documentation/storekit/purchaseintent#conforms-to)
  * [`Copyable`](https://developer.apple.com/documentation/Swift/Copyable)
  * [`Equatable`](https://developer.apple.com/documentation/Swift/Equatable)
  * [`Identifiable`](https://developer.apple.com/documentation/Swift/Identifiable)
  * [`Sendable`](https://developer.apple.com/documentation/Swift/Sendable)
  * [`SendableMetatype`](https://developer.apple.com/documentation/Swift/SendableMetatype)


## [See Also](https://developer.apple.com/documentation/storekit/purchaseintent#see-also)
### [Promoted In-App Purchases](https://developer.apple.com/documentation/storekit/purchaseintent#Promoted-In-App-Purchases)
[Supporting promoted In-App Purchases in your app](https://developer.apple.com/documentation/storekit/supporting-promoted-in-app-purchases-in-your-app)
Display promoted In-App Purchases on your product page and handle purchases that users initiate on the App Store.
[`struct PromotionInfo`](https://developer.apple.com/documentation/storekit/product/promotioninfo)
Information about a promoted In-App Purchase that customizes its order and visibility on the device.
[Testing promoted In-App Purchases](https://developer.apple.com/documentation/storekit/testing-promoted-in-app-purchases)
Test your In-App Purchases before making your app available in the App Store.
Current page is PurchaseIntent 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Fstorekit%2Fpurchaseintent).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
