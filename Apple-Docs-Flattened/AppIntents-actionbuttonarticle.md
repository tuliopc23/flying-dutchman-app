Source: https://developer.apple.com/documentation/appintents/actionbuttonarticle

[ Skip Navigation ](https://developer.apple.com/documentation/appintents/actionbuttonarticle#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/appintents/actionbuttonarticle#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/appintents/actionbuttonarticle)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/appintents/actionbuttonarticle)
  * SwiftLanguage: Swift


[](https://developer.apple.com/documentation/appintents/actionbuttonarticle)
## [ App Intents  ](https://developer.apple.com/documentation/appintents)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
27 of 63 symbols inside <root>
Actions
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
18 of 63 symbols inside <root> containing 4 symbols[SnippetIntent](https://developer.apple.com/documentation/appintents/snippetintent)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
17 of 63 symbols inside <root> [Displaying static and interactive snippets](https://developer.apple.com/documentation/appintents/displaying-static-and-interactive-snippets)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
18 of 63 symbols inside <root> containing 4 symbols[SnippetIntent](https://developer.apple.com/documentation/appintents/snippetintent)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
19 of 63 symbols inside <root>
Other system experiences
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
20 of 63 symbols inside <root> [Making app entities available in Spotlight](https://developer.apple.com/documentation/appintents/making-app-entities-available-in-spotlight)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
21 of 63 symbols inside <root> containing 7 symbols[Focus](https://developer.apple.com/documentation/appintents/focus)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
22 of 63 symbols inside <root> containing 7 symbols[Action button on iPhone and Apple Watch](https://developer.apple.com/documentation/appintents/actionbutton)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 7 symbols inside -1996598171 
Responding to the Action button
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
2 of 7 symbols inside -1996598171 [Responding to the Action button on Apple Watch Ultra](https://developer.apple.com/documentation/appintents/actionbuttonarticle)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
3 of 7 symbols inside -1996598171 containing 7 symbols[StartWorkoutIntent](https://developer.apple.com/documentation/appintents/startworkoutintent)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
4 of 7 symbols inside -1996598171 [PauseWorkoutIntent](https://developer.apple.com/documentation/appintents/pauseworkoutintent)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
5 of 7 symbols inside -1996598171 [ResumeWorkoutIntent](https://developer.apple.com/documentation/appintents/resumeworkoutintent)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
6 of 7 symbols inside -1996598171 [StartDiveIntent](https://developer.apple.com/documentation/appintents/startdiveintent)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
7 of 7 symbols inside -1996598171 containing 36 symbols[ConfirmationActionName](https://developer.apple.com/documentation/appintents/confirmationactionname)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
23 of 63 symbols inside <root> [Launching your voice-based conversational app from the side button of iPhone](https://developer.apple.com/documentation/appintents/launching-your-voice-based-conversational-app-from-the-side-button-of-iphone)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
24 of 63 symbols inside <root> [Developing a WidgetKit strategy](https://developer.apple.com/documentation/widgetkit/developing-a-widgetkit-strategy)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
25 of 63 symbols inside <root>
SiriKit migration
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
26 of 63 symbols inside <root> [Soup Chef with App Intents: Migrating custom intents](https://developer.apple.com/documentation/sirikit/soup-chef-with-app-intents-migrating-custom-intents)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
27 of 63 symbols inside <root>
Actions
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
28 of 63 symbols inside <root> containing 48 symbols[App intents](https://developer.apple.com/documentation/appintents/app-intents)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
29 of 63 symbols inside <root> containing 11 symbols[Intent discovery](https://developer.apple.com/documentation/appintents/intent-discovery)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
30 of 63 symbols inside <root> containing 30 symbols[App Shortcuts](https://developer.apple.com/documentation/appintents/app-shortcuts)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
31 of 63 symbols inside <root>
Parameters, custom data types, and queries
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
32 of 63 symbols inside <root> [Adding parameters to an app intent](https://developer.apple.com/documentation/appintents/adding-parameters-to-an-app-intent)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
33 of 63 symbols inside <root> [Integrating custom data types into your intents](https://developer.apple.com/documentation/appintents/integrating-custom-types-into-your-intents)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
34 of 63 symbols inside <root> containing 16 symbols[Parameter resolution](https://developer.apple.com/documentation/appintents/parameter-resolution)
70 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ App Intents ](https://developer.apple.com/documentation/appintents)
  * [ Action button on iPhone and Apple Watch ](https://developer.apple.com/documentation/appintents/actionbutton)
  * [ Responding to the Action button on Apple Watch Ultra ](https://developer.apple.com/documentation/appintents/actionbuttonarticle)
  *     * [ Action button on iPhone and Apple Watch ](https://developer.apple.com/documentation/appintents/actionbutton)
    * Responding to the Action button on Apple Watch Ultra 


Article
# Responding to the Action button on Apple Watch Ultra
Use App Intents to register actions for your app.
## [Overview](https://developer.apple.com/documentation/appintents/actionbuttonarticle#Overview)
On Apple Watch Ultra, people can specify the action that the system performs when they press the Action button. By default, the watch provides actions for starting workouts, starting dives, starting a backtrack navigation session, setting a waypoint, turning on the flashlight, and running a shortcut from the Shortcuts app. To add your dive or workout app to the list of apps that appear when someone chooses Settings > Action Button, use App Intents to register actions for your app.
For workout apps, you can implement the following protocols: 

[`StartWorkoutIntent`](https://developer.apple.com/documentation/appintents/startworkoutintent)
    
Starts a workout session when someone first presses the Action button. 

[`AppIntent`](https://developer.apple.com/documentation/appintents/appintent)
    
Runs a custom action when someone presses the Action button during your app’s active workout session. Donating an intent sets the Action button’s next action. Your app can have only one next action at a time; however, donating a new intent changes the next action. 

[`PauseWorkoutIntent`](https://developer.apple.com/documentation/appintents/pauseworkoutintent)
    
Pauses the current workout session when someone simultaneously presses the Action button and the side button during a workout session. 

[`ResumeWorkoutIntent`](https://developer.apple.com/documentation/appintents/resumeworkoutintent)
    
Resumes the current workout session when someone simultaneously presses the Action button and the side button while a workout session is in a paused state.
For dive apps, you can implement the following protocols: 

[`StartDiveIntent`](https://developer.apple.com/documentation/appintents/startdiveintent)
    
Starts a dive session when someone first presses the Action button. 

[`AppIntent`](https://developer.apple.com/documentation/appintents/appintent)
    
Runs a custom action when someone presses the Action button during your app’s active dive session. The system also performs the next action if someone simultaneously presses the Action button and the side button. Donating an intent sets the Action button’s next action. Your app can have only one next action at a time; however, donating a new intent changes the next action.
Important
When creating intents for the Action button, don’t implement them in an [`AppIntentsExtension`](https://developer.apple.com/documentation/appintents/appintentsextension). Always implement the intents directly in your watchOS app.
### [Start a new workout session](https://developer.apple.com/documentation/appintents/actionbuttonarticle#Start-a-new-workout-session)
Start by creating either an [`AppEnum`](https://developer.apple.com/documentation/appintents/appenum) or an [`AppEntity`](https://developer.apple.com/documentation/appintents/appentity) that defines the types of workouts that your app supports. If your app supports only a single workout, you can create an enumeration with a single case. Also define the display representation for each type of workout that your app supports. Apple Watch Ultra shows the case description’s title and subtitle below the First Press settings when someone sets your app as the workout app in Settings > Action Button.
```
enum WorkoutEnum: String, AppEnum {
    
    // List the types of workout your app supports.
    case running


    static var typeDisplayRepresentation: TypeDisplayRepresentation = "Workout"


    // Define the display representation for each of the workouts your app supports.
    static var caseDisplayRepresentations: [WorkoutEnum: DisplayRepresentation] =
        [.running: DisplayRepresentation(title: "Running", subtitle: "outside run")]
}

```

Next, create a structure that adopts the [`StartWorkoutIntent`](https://developer.apple.com/documentation/appintents/startworkoutintent) protocol. Your implementation needs to define the intent’s [`title`](https://developer.apple.com/documentation/appintents/appintent/title), a list of [`suggestedWorkouts`](https://developer.apple.com/documentation/appintents/startworkoutintent/suggestedworkouts), and a parameter that contains the [`workoutStyle`](https://developer.apple.com/documentation/appintents/startworkoutintent/workoutstyle-swift.property).
```
struct MyStartWorkoutIntent: StartWorkoutIntent {


    // Define the intent's title.
    static var title: LocalizedStringResource = "Start Workout"
    
    // Define a list of start workout intents that appear below the First Press settings when someone sets your app as the workout app in Settings > Action Button.


    static var suggestedWorkouts: [MyStartWorkoutIntent] = [MyStartWorkoutIntent()]


    // Define a parameter that specifies the type of workout that this intent starts.
    @Parameter(title: "Type of Workout")
    var workoutStyle: WorkoutEnum


    // Define an init method that sets the default workout type.
    init() {
        workoutStyle = .running
    }


    // Add the display representation, and the perform method here.
}

```

Important
Define your implementation’s `workoutStyle` property using the [`AppIntent.Parameter`](https://developer.apple.com/documentation/appintents/appintent/parameter) property wrapper.
You can dynamically change the list of suggested workouts by changing the value of the [`suggestedWorkouts`](https://developer.apple.com/documentation/appintents/startworkoutintent/suggestedworkouts) property and then calling [`invalidateSuggestedWorkouts()`](https://developer.apple.com/documentation/appintents/startworkoutintent/invalidatesuggestedworkouts\(\)), which tells the system to reread the suggested workouts.
Next, set the display strings for the intent by defining the `displayRepresentation` just after the intent’s initializer.
```
var displayRepresentation: DisplayRepresentation {
    WorkoutEnum.caseDisplayRepresentations[workoutStyle] ??
    DisplayRepresentation(title: "Unknown")
}

```

Then, implement your intent’s [`perform()`](https://developer.apple.com/documentation/appintents/appintent/perform\(\)) method. The system calls this method when anything starts the intent. In your implementation, you have 30 seconds to start a workout session and return a successful value. If you don’t start a workout session in that time, the system displays an error message, but the app remains in the foreground. People can start a workout session directly from the app, but without a session, the app goes to the background the next time they drop their wrist.
```
// Define the method that the system calls when it performs the intent.
func perform() async throws -> some IntentResult {
    logger.debug("*** Performing a Start Intent. ***")
    
    // Start a workout session inside the perform method.
    let workoutManager = MyWorkoutManager.shared
    try await workoutManager.startWorkout(type: workoutStyle)
    
    // Schedule a task to request authorization and then set up the data source and start collecting data from the workout.
    Task {
        await workoutManager.requestAuthorization()
        
        do {
            try await workoutManager.startCollectingData()
        } catch {
            fatalError("*** An error occurred while setting up the data source: \(error.localizedDescription) ***")
        }
    }
    
    // Return a successful result.
    return .result()
}

```

The start workout intent becomes available as soon as someone downloads your app. This means they can set up the Action button and run your start workout intent without ever launching your app.
Similarly, if you update your app and change the data types that the workout session uses, someone can launch the updated workout from the Action button without launching your app.
To ensure that your app requests authorization for the current set of HealthKit data types it intends to use during its workout sessions, you need to schedule an authorization request from within your intent’s [`perform()`](https://developer.apple.com/documentation/appintents/appintent/perform\(\)) method. Because someone using your app doesn’t have access to its user interface until after the `perform()` method returns, you need to schedule the request authorization using a [`Task`](https://developer.apple.com/documentation/Swift/Task).
Note
If your app has never requested authorization for any HealthKit data types, the system just launches your app when someone presses the Action button. It doesn’t call your intent’s [`perform()`](https://developer.apple.com/documentation/appintents/appintent/perform\(\)) method.
Before authorizing the HealthKit data, create and start your workout session.
```
func startWorkout(type: WorkoutEnum) throws {
    logger.debug("*** Start a workout of type \(type.rawValue) ***")
    
    logger.debug("==> Creating the workout configuration.")
    let configuration = HKWorkoutConfiguration()
    configuration.activityType = .running
    configuration.locationType = .outdoor
    
    self.configuration = configuration
    
    logger.debug("==> Creating the workout session.")
    let session = try HKWorkoutSession(healthStore: store, configuration: configuration)
    
    session.delegate = self
    self.session = session
    workoutType = type
    
    logger.debug("==> Starting the session.")
    session.startActivity(with: Date())
}

```

The code example above creates a workout configuration for an outdoor run. It then uses the configuration to create the workout session, assigns a workout session delegate to receive state change and errors from the workout, and starts the session.
Because the app hasn’t created a data source for the workout session, the session doesn’t generate any data.
Next, request authorization for all the HealthKit data types that your workout sessions use.
```
func requestAuthorization() async {
    logger.debug("*** Requesting Authorization ***")
    
    // The quantity type to write to the health store.
    let typesToShare: Set = [
        HKQuantityType.workoutType()
    ]


    // The quantity types to read from the health store.
    let typesToRead: Set = [
        HKQuantityType(.heartRate),
        HKQuantityType(.activeEnergyBurned),
        HKQuantityType(.distanceWalkingRunning)
    ]
    
    guard HKHealthStore.isHealthDataAvailable() else {
        logger.debug("*** HealthKit is not supported on this device. ***")
        return
    }
    
    do {
        try await store.requestAuthorization(toShare: typesToShare, read: typesToRead)
    } catch {
        fatalError("*** An error occurred while requesting authorization to read and save data: \(error.localizedDescription) ***")
    }


    enabled = true
}

```

This authorization request can take an arbitrarily long amount of time. Any time you request authorization for new data, the system displays an authorization sheet, and waits until someone either authorizes the data or dismisses the sheet. However, if someone has already authorized the requested data types, the system returns immediately.
After the authorization request finishes, set up the data source, assign a delegate to receive data from the workout builder, and begin collecting data from the workout.
```
func startCollectingData() async throws {
    precondition(enabled == true)
    guard let configuration else { fatalError("*** You need to create a workout configuration before calling this method. ***") }
    guard let session else { fatalError("*** You need to create a session before calling this method. ***") }
    
    logger.debug("==> Setting the session's data source.")
    let builder = session.associatedWorkoutBuilder()
    builder.dataSource = HKLiveWorkoutDataSource(healthStore: store,
                                                 workoutConfiguration: configuration)
    
    builder.delegate = self
    
    logger.debug("==> Begin collecting data.")
    try await builder.beginCollection(at: Date())
    
    self.builder = builder


    logger.debug("==> Donate the mark lap intent as the Action button's next action.")
    try await MyStartWorkoutIntent().donate(result: .result(actionButtonIntent: MyMarkLapIntent()))
}

```

In the code example above, the last line donates the `MyMarkLapIntent()` as the next action for the Action button. Donating the next action is described in more detail below.
After implementing your [`StartWorkoutIntent`](https://developer.apple.com/documentation/appintents/startworkoutintent), build and run your app to load it onto the test device or Simulator. Then, on the test device, choose Settings > Action Button. Tap Action and choose Workout, then tap App and choose your app.
![A screenshot from Apple Watch Ultra showing the Action button settings, with](https://docs-assets.developer.apple.com/published/a95aeca8e27eb34e1a3f946125986df9/Setting-A-Workout-Action%402x.png)
The device starts a new workout session when you press the Action button.
Important
The system always launches your app before running the [`perform()`](https://developer.apple.com/documentation/appintents/appintent/perform\(\)) method for your [`StartWorkoutIntent`](https://developer.apple.com/documentation/appintents/startworkoutintent) or [`StartDiveIntent`](https://developer.apple.com/documentation/appintents/startdiveintent) structures. By default, these intents set their [`openAppWhenRun`](https://developer.apple.com/documentation/appintents/appintent/openappwhenrun) property to `true`. To ensure these intents run as expected, don’t change the property’s value.
### [Support multiple workout types](https://developer.apple.com/documentation/appintents/actionbuttonarticle#Support-multiple-workout-types)
Your app can provide a list of suggested workout types, letting people associate a particular workout type with the Action button.
To suggest multiple workout types, start by defining the different types of workouts that your app supports in your [`AppEnum`](https://developer.apple.com/documentation/appintents/appenum) implementation.
```
enum WorkoutEnum: String, AppEnum {


    // List the types of workout your app supports.
    case walking
    case running
    case swimming
    case cycling


    static var typeDisplayRepresentation: TypeDisplayRepresentation = "Workout"


    // Set the display representation here.
}

```

Then set a display representation for each case.
```
static var caseDisplayRepresentations: [WorkoutEnum: DisplayRepresentation] =
[.walking: DisplayRepresentation(title: "Walking", subtitle: "outside walk"),
 .running: DisplayRepresentation(title: "Running", subtitle: "outside run"),
 .swimming: DisplayRepresentation(title: "Swimming", subtitle: "lap swim"),
 .cycling: DisplayRepresentation(title: "Cycling", subtitle: "outside cycling")
]

```

Next, in your [`StartWorkoutIntent`](https://developer.apple.com/documentation/appintents/startworkoutintent) implementation, define the set of suggested workouts.
```
static var suggestedWorkouts: [MyStartWorkoutIntent] =
[MyStartWorkoutIntent(style: .walking),
 MyStartWorkoutIntent(style: .running),
 MyStartWorkoutIntent(style: .swimming),
 MyStartWorkoutIntent(style: .cycling)]

```

Then, in the [`perform()`](https://developer.apple.com/documentation/appintents/appintent/perform\(\)) method, check the intent’s [`workoutStyle`](https://developer.apple.com/documentation/appintents/startworkoutintent/workoutstyle-swift.property) and create the corresponding workout session.
```
func perform() async throws -> some IntentResult {


    let workoutManager = MyWorkoutManager.shared
    await workoutManager.requestAuthorization()
    await workoutManager.startWorkout(type: workoutStyle)
    return .result()
}

```

Create a configuration for the specified type of workout.
```
func startWorkout(type: WorkoutEnum) throws {
    logger.debug("*** Should be starting a workout of type \(type.rawValue) ***")
    
    logger.debug("==> Creating the workout configuration.")
    let configuration = HKWorkoutConfiguration()
    
    switch type {
    case .walking:
        configuration.activityType = .walking
    case .running:
        configuration.activityType = .running
    case .swimming:
        configuration.activityType = .swimming
    case .cycling:
        configuration.activityType = .cycling
    }
    configuration.activityType = type.activityType()
    
    if type == .swimming {
        configuration.locationType = .indoor
        configuration.swimmingLocationType = .pool
        configuration.lapLength = HKQuantity(unit: HKUnit.yard(), doubleValue: 25.0)
    } else {
        configuration.locationType = .outdoor
    }
    
    self.configuration = configuration
    
    logger.debug("==> Creating the workout session.")
    let session = try HKWorkoutSession(healthStore: store, configuration: configuration)
    
    session.delegate = self
    self.session = session
    workoutType = type
    
    logger.debug("==> Starting the session.")
    session.startActivity(with: Date())
}

```

And, finally, request authorization for all the data types that your workout sessions use.
```
// The quantity types to read from the health store.
let typesToRead: Set = [
    HKQuantityType(.heartRate),
    HKQuantityType(.activeEnergyBurned),
    HKQuantityType(.distanceCycling),
    HKQuantityType(.distanceSwimming),
    HKQuantityType(.distanceWalkingRunning)
]

```

Build and run your app again. When you open the Action button settings, you can specify a particular workout for the First Press > Workout setting.
![A screenshot from Apple Watch Ultra showing the Action button’s First Press](https://docs-assets.developer.apple.com/published/7894190ae7b19168716e416cad6aa30e/Specifying-The-Workout-Type%402x.png)
And pressing the Action button launches the selected type of workout.
### [Donate the next action](https://developer.apple.com/documentation/appintents/actionbuttonarticle#Donate-the-next-action)
Apple Watch Ultra runs the next action when someone presses the Action button while a workout or dive session is already running. This means the first time someone presses the Action button, the system starts your session. If they press the Action button any other time during the session, it performs the next action.
To set the next action, implement a structure that adopts the [`AppIntent`](https://developer.apple.com/documentation/appintents/appintent) protocol.
```
struct MarkLapIntent: AppIntent {
    static var title: LocalizedStringResource = "Mark Lap"


    func perform() async throws -> some IntentResult {
        logger.debug("*** Perform a mark lap intent. ***")
        await MyWorkoutManager.shared.markLap(at: Date())
        return .result()
    }
}

```

This intent needs a [`title`](https://developer.apple.com/documentation/appintents/appintent/title) property that provides a localized description of the action, and a [`perform()`](https://developer.apple.com/documentation/appintents/appintent/perform\(\)) method, which the system calls when it performs the intent.
Next, donate the app intent as the current session’s next action. For example, in your start workout intent’s `perform()` method, you can donate the next action for the new session by returning [`result(actionButtonIntent:)`](https://developer.apple.com/documentation/appintents/intentresult/result\(actionbuttonintent:\)).
However, in most cases you want to donate a next action regardless of whether the user presses the Action button or launches the session from within your app. To ensure that your app donates the correct intent, simply return `.result()` from your start intent, and then donate the next intent as soon as the session starts.
Previous code examples show how to donate the `MyMarkLapIntent` in its `startCollectingData()` method. The app then calls this method when starting a workout from the Action button or from the app’s user interface.
```
logger.debug("==> Donate the mark lap intent as the Action button's next action.")
try await MyStartWorkoutIntent().donate(result: .result(actionButtonIntent: MyMarkLapIntent()))

```

You can donate as many action intents as you need; however, your app can use only the most recently donated intent as the next action. Donating a new intent changes the next action.
### [Pause and resume a workout](https://developer.apple.com/documentation/appintents/actionbuttonarticle#Pause-and-resume-a-workout)
Apple Watch Ultra supports pausing and resuming a current workout session by simultaneously pressing both the Action button and the side button.
To implement the pause action, create a structure that adopts the [`PauseWorkoutIntent`](https://developer.apple.com/documentation/appintents/pauseworkoutintent) protocol.
```
struct MyPauseWorkoutIntent: PauseWorkoutIntent {
    static var title: LocalizedStringResource = "Pause Workout"


    func perform() async throws -> some IntentResult {
        logger.debug("*** Performing a pause intent. ***")
        await MyWorkoutManager.shared.pauseWorkout()
        return .result()
    }
}

```

This intent needs a [`title`](https://developer.apple.com/documentation/appintents/appintent/title) property that provides a localized description of the action, and a [`perform()`](https://developer.apple.com/documentation/appintents/appintent/perform\(\)) method, which the system calls when it performs the intent.
Similarly, to implement the resume action, create a structure that adopts the [`ResumeWorkoutIntent`](https://developer.apple.com/documentation/appintents/resumeworkoutintent) protocol.
```
struct MyResumeWorkoutIntent: ResumeWorkoutIntent {
    static var title: LocalizedStringResource = "Resume Workout"


    func perform() async throws -> some IntentResult {
        logger.debug("*** Performing a resume intent. ***")
        await MyWorkoutManager.shared.resumeWorkout()
        return .result()
    }
}

```

If your app doesn’t implement structures that adopt these protocols, the system ignores simultaneous presses.
### [Start a new dive session](https://developer.apple.com/documentation/appintents/actionbuttonarticle#Start-a-new-dive-session)
Dive sessions work similarly to workout sessions. To start a dive session, implement a structure that adopts the [`StartDiveIntent`](https://developer.apple.com/documentation/appintents/startdiveintent) protocol. Typically, people start the dive session just before entering the water. Your app can then donate App Intents that help them use your app while in the water. For example, while in the water they can’t use the touch screen, but the Action button and Digital Crown function normally.
```
struct MyStartDiveSessionIntent: StartDiveIntent {


    static var title: LocalizedStringResource = "Starting a dive session."


    func perform() async throws -> some IntentResult {
        logger.debug("*** Starting a dive session. ***")


        await DiveManager.shared.start()
        return .result(actionButtonIntent: MyCollectSubmergedDataIntent())
    }
}

```

This intent needs a [`title`](https://developer.apple.com/documentation/appintents/appintent/title) property that provides a localized description of the action, and a [`perform()`](https://developer.apple.com/documentation/appintents/appintent/perform\(\)) method, which the system calls when it performs the intent.
To read live depth, water pressure, and water temperature data, see [Accessing submersion data](https://developer.apple.com/documentation/CoreMotion/accessing-submersion-data).
Important
Before you can access live dive data, your app needs to include an entitlement to access submersion data. For more information, see [Express interest in the Submerged Depth and Pressure API](https://developer.apple.com/contact/request/submerged-depth-pressure-api/).
Unlike workout sessions, the start dive intent supports only a single type of session. You can donate next actions for your dive session; however, you can’t create intents to pause or resume the session.
### [Passing data to the intents](https://developer.apple.com/documentation/appintents/actionbuttonarticle#Passing-data-to-the-intents)
The previous examples use singleton objects to share data between the different parts of your app; however, App Intents support dependency injection, letting you define the data in your main app, and access it in your intents.
In your intents, create a property that uses the [`AppDependency`](https://developer.apple.com/documentation/appintents/appdependency) property wrapper.
```
struct MyStartWorkoutIntent: StartWorkoutIntent {
  @Dependency var workoutManager: MyWorkoutManager


  // Add remaining code here.
}

```

Then, as early as possible when your app launches, use the [`AppDependencyManager`](https://developer.apple.com/documentation/appintents/appdependencymanager) to define the dependency.
```
AppDependencyManager.shared.add { MyWorkoutManager() }

```

You can set the dependency in your app’s [`applicationDidFinishLaunching()`](https://developer.apple.com/documentation/WatchKit/WKApplicationDelegate/applicationDidFinishLaunching\(\)) method. Or, if your app uses SwiftUI life cycles, add an `init()` method to your [`App`](https://developer.apple.com/documentation/SwiftUI/App) structure, and set it there.
One of the main advantages of dependency injection is that you can easily replace your main data object with a mock object during testing.
Note
You can only use dependency injection to pass data objects from your main app to its intents. If you need to pass the data to other parts of your app, you need to use a different approach.
### [Debug intents](https://developer.apple.com/documentation/appintents/actionbuttonarticle#Debug-intents)
To see console output and respond to breakpoints in Xcode, use the following steps to debug your intents:
  1. Build and run your app in Xcode.
  2. On the test device or Simulator, send your app to the background. For example, press Shift-Command-H in Simulator to send your app to the background.
  3. Make sure you set the actions you want to test by choosing Settings > Action Button.
  4. Press the Action button to test the primary and next actions. On a test device, you can also test the pause and resume actions for workout sessions by pressing the Action button and the side button simultaneously.


Any logging from your intents appears in Xcode’s console. The system also pauses execution for any breakpoints you set in Xcode.
## [See Also](https://developer.apple.com/documentation/appintents/actionbuttonarticle#see-also)
### [Responding to the Action button](https://developer.apple.com/documentation/appintents/actionbuttonarticle#Responding-to-the-Action-button)
[`protocol StartWorkoutIntent`](https://developer.apple.com/documentation/appintents/startworkoutintent)
An App Intent for starting a workout.
[`protocol PauseWorkoutIntent`](https://developer.apple.com/documentation/appintents/pauseworkoutintent)
An App Intent that lets someone pause your app’s current workout session.
[`protocol ResumeWorkoutIntent`](https://developer.apple.com/documentation/appintents/resumeworkoutintent)
An App Intent that lets someone resume your app’s paused workout session.
[`protocol StartDiveIntent`](https://developer.apple.com/documentation/appintents/startdiveintent)
An App Intent that lets people start a dive session when they press the Action button on Apple Watch Ultra.
[`struct ConfirmationActionName`](https://developer.apple.com/documentation/appintents/confirmationactionname)
Current page is Responding to the Action button on Apple Watch Ultra 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Fappintents%2Factionbuttonarticle).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
