Source: https://developer.apple.com/documentation/UserNotifications/registering-your-app-with-apns

[ Skip Navigation ](https://developer.apple.com/documentation/UserNotifications/registering-your-app-with-apns#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/UserNotifications/registering-your-app-with-apns#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/UserNotifications/registering-your-app-with-apns)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/UserNotifications/registering-your-app-with-apns)
  * SwiftLanguage:  Swift  Objective-C 
Language: 
    * Swift 
    * [ Objective-C ](https://developer.apple.com/documentation/UserNotifications/registering-your-app-with-apns)


[](https://developer.apple.com/documentation/UserNotifications/registering-your-app-with-apns)
## [ User Notifications  ](https://developer.apple.com/documentation/usernotifications)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
4 of 53 symbols inside <root>
Notification management
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
5 of 53 symbols inside <root> containing 27 symbols[UNUserNotificationCenter](https://developer.apple.com/documentation/usernotifications/unusernotificationcenter)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
6 of 53 symbols inside <root> containing 9 symbols[UNUserNotificationCenterDelegate](https://developer.apple.com/documentation/usernotifications/unusernotificationcenterdelegate)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
7 of 53 symbols inside <root> containing 23 symbols[UNNotificationSettings](https://developer.apple.com/documentation/usernotifications/unnotificationsettings)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
8 of 53 symbols inside <root>
Remote notifications
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
9 of 53 symbols inside <root> containing 19 symbols[Setting up a remote notification server](https://developer.apple.com/documentation/usernotifications/setting-up-a-remote-notification-server)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 19 symbols inside -1484906498 
Server tasks
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
2 of 19 symbols inside -1484906498 [Registering your app with APNs](https://developer.apple.com/documentation/usernotifications/registering-your-app-with-apns)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
3 of 19 symbols inside -1484906498 [Generating a remote notification](https://developer.apple.com/documentation/usernotifications/generating-a-remote-notification)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
4 of 19 symbols inside -1484906498 [Pushing background updates to your App](https://developer.apple.com/documentation/usernotifications/pushing-background-updates-to-your-app)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
5 of 19 symbols inside -1484906498 [Establishing a connection to Apple Push Notification service (APNs)](https://developer.apple.com/documentation/usernotifications/establishing-a-connection-to-apns)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
6 of 19 symbols inside -1484906498 
Security
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
7 of 19 symbols inside -1484906498 [Establishing a token-based connection to APNs](https://developer.apple.com/documentation/usernotifications/establishing-a-token-based-connection-to-apns)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
8 of 19 symbols inside -1484906498 [Establishing a certificate-based connection to APNs](https://developer.apple.com/documentation/usernotifications/establishing-a-certificate-based-connection-to-apns)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
9 of 19 symbols inside -1484906498 
Device push notifications
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
10 of 19 symbols inside -1484906498 [Sending notification requests to APNs](https://developer.apple.com/documentation/usernotifications/sending-notification-requests-to-apns)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
11 of 19 symbols inside -1484906498 [Handling notification responses from APNs](https://developer.apple.com/documentation/usernotifications/handling-notification-responses-from-apns)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
12 of 19 symbols inside -1484906498 [Viewing the status of push notifications using Metrics and APNs](https://developer.apple.com/documentation/usernotifications/viewing-the-status-of-push-notifications-using-metrics-and-apns)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
13 of 19 symbols inside -1484906498 
Broadcast push notifications
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
14 of 19 symbols inside -1484906498 [Setting up broadcast push notifications](https://developer.apple.com/documentation/usernotifications/setting-up-broadcast-push-notifications)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
15 of 19 symbols inside -1484906498 [Sending channel management requests to APNs](https://developer.apple.com/documentation/usernotifications/sending-channel-management-requests-to-apns)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
16 of 19 symbols inside -1484906498 [Sending broadcast push notification requests to APNs](https://developer.apple.com/documentation/usernotifications/sending-broadcast-push-notification-requests-to-apns)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
17 of 19 symbols inside -1484906498 [Handling error responses from Apple Push Notification service](https://developer.apple.com/documentation/usernotifications/handling-error-responses-from-apns)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
18 of 19 symbols inside -1484906498 
Troubleshooting
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
19 of 19 symbols inside -1484906498 [Troubleshooting push notifications](https://developer.apple.com/documentation/usernotifications/troubleshooting-push-notifications)
72 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ User Notifications ](https://developer.apple.com/documentation/usernotifications)
  * [ Setting up a remote notification server ](https://developer.apple.com/documentation/usernotifications/setting-up-a-remote-notification-server)
  * [ Registering your app with APNs ](https://developer.apple.com/documentation/UserNotifications/registering-your-app-with-apns)
  *     * [ Setting up a remote notification server ](https://developer.apple.com/documentation/usernotifications/setting-up-a-remote-notification-server)
    * Registering your app with APNs 


Article
# Registering your app with APNs
Communicate with Apple Push Notification service (APNs) and receive a unique device token that identifies your app.
## [Overview](https://developer.apple.com/documentation/UserNotifications/registering-your-app-with-apns#overview)
Apple Push Notification service (APNs) must know the address of a user’s device before it can send notifications to that device. This address takes the form of a device token unique to both the device and your app. At launch time, your app communicates with APNs and receives its device token, which you then forward to your provider server. Your server includes that token with any notifications it sends.
Note
You can’t use the same device token for more than one app, even when the apps are on the same device. Every app must request their own unique device token and forward it to your provider server.
### [Enable the push notifications capability](https://developer.apple.com/documentation/UserNotifications/registering-your-app-with-apns#Enable-the-push-notifications-capability)
To add the required entitlements to your app, enable the Push Notifications capability in your Xcode project, as shown in . Enabling this option in iOS adds the [`APS Environment Entitlement`](https://developer.apple.com/documentation/BundleResources/Entitlements/aps-environment) to the app. In macOS, it adds the [`APS Environment (macOS) Entitlement`](https://developer.apple.com/documentation/BundleResources/Entitlements/com.apple.developer.aps-environment). See [Enable push notifications](https://help.apple.com/xcode/mac/current/#/devdfd3d04a1) in Xcode help for more information.
![Add entitlements to your Xcode project by enabling the push notification capability in the Capabilities tab.](https://docs-assets.developer.apple.com/published/d01d47767d5a70a20a63bb93bcd68aee/media-4321361%402x.png)
Important
In your developer account, enable the push notification service for the App ID assigned to your project. For more information about configuring your developer account, go to your [Developer Account](https://developer.apple.com/account/#/overview/) page.
### [Register your app and retrieve your app’s device token](https://developer.apple.com/documentation/UserNotifications/registering-your-app-with-apns#Register-your-app-and-retrieve-your-apps-device-token)
Register your app with APNs and receive a globally unique device token, which is effectively the address of your app on the current device. Your provider server must have this token before it can deliver notifications to the device.
You register your app and receive your device token each time your app launches using Apple-provided APIs. The registration process is similar across platforms:
  * In iOS and tvOS, call the [`registerForRemoteNotifications()`](https://developer.apple.com/documentation/UIKit/UIApplication/registerForRemoteNotifications\(\)) method of [`UIApplication`](https://developer.apple.com/documentation/UIKit/UIApplication) to request the device token. Upon successful registration, you receive the token in your app delegate’s [`application(_:didRegisterForRemoteNotificationsWithDeviceToken:)`](https://developer.apple.com/documentation/UIKit/UIApplicationDelegate/application\(_:didRegisterForRemoteNotificationsWithDeviceToken:\)) method.
  * In macOS, call the [`registerForRemoteNotifications()`](https://developer.apple.com/documentation/AppKit/NSApplication/registerForRemoteNotifications\(\)) method of [`NSApplication`](https://developer.apple.com/documentation/AppKit/NSApplication) to request the device token. Upon successful registration, you receive the token in your app delegate’s [`application(_:didRegisterForRemoteNotificationsWithDeviceToken:)`](https://developer.apple.com/documentation/AppKit/NSApplicationDelegate/application\(_:didRegisterForRemoteNotificationsWithDeviceToken:\)) method.
  * In watchOS, call the [`registerForRemoteNotifications()`](https://developer.apple.com/documentation/WatchKit/WKApplication/registerForRemoteNotifications\(\)) method of [`WKExtension`](https://developer.apple.com/documentation/WatchKit/WKExtension) to request the device token. Upon successful registration, you receive the token in your extension delegate’s [`didRegisterForRemoteNotifications(withDeviceToken:)`](https://developer.apple.com/documentation/WatchKit/WKApplicationDelegate/didRegisterForRemoteNotifications\(withDeviceToken:\)) method.


In addition to handling successful registrations with APNs, prepare your app to handle unsuccessful registrations by implementing the [`application(_:didFailToRegisterForRemoteNotificationsWithError:)`](https://developer.apple.com/documentation/UIKit/UIApplicationDelegate/application\(_:didFailToRegisterForRemoteNotificationsWithError:\)) method. Registration might fail if the user’s device isn’t connected to the network, if the APNs server is unreachable for any reason, or if the app doesn’t have the proper code-signing entitlement. When a failure occurs, set a flag and try to register again at a later time.
Listing 1 shows a sample implementation of the iOS app delegate methods needed to register for remote notifications and receive the corresponding token. The `sendDeviceTokenToServer` method is a custom method that the app uses to send the data to its provider server.
Listing 1. Communicating with APNs at launch time
```
func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions:[UIApplication.LaunchOptionsKey: Any]?) -> Bool {
    // Override point for customization after application launch.
    UIApplication.shared.registerForRemoteNotifications()
    return true
}


func application(_ application: UIApplication, didRegisterForRemoteNotificationsWithDeviceToken deviceToken: Data) {
    self.sendDeviceTokenToServer(data: deviceToken)
}


func application(_ application: UIApplication,
                 didFailToRegisterForRemoteNotificationsWithError
                 error: Error) {
    // Try again later.
}

```

Important
Never cache device tokens in local storage. APNs issues a new token when the user restores a device from a backup, when the user installs your app on a new device, and when the user reinstalls the operating system. You get an up-to-date token each time you ask the system to provide the token.
### [Forward tokens to your provider server](https://developer.apple.com/documentation/UserNotifications/registering-your-app-with-apns#Forward-tokens-to-your-provider-server)
Upon receiving a device token, open a network connection from your app to your provider server. Securely forward the device token and any other information you need to identify the specific user to your server. For example, you might include the user’s login name or something that connects them to your service. Encrypt any information you send over the network.
On your provider server, store tokens in a secure place where you can access them to send notifications. When generating notifications, your server must be able to send notifications to specific devices. So, if you have notifications linked to a user’s account, store device tokens with the user’s account information. Because a user can have multiple devices, prepare your app to handle multiple device tokens.
For information about how to send payloads and device tokens to APNs, see [Sending notification requests to APNs](https://developer.apple.com/documentation/usernotifications/sending-notification-requests-to-apns).
## [See Also](https://developer.apple.com/documentation/UserNotifications/registering-your-app-with-apns#see-also)
### [Server tasks](https://developer.apple.com/documentation/UserNotifications/registering-your-app-with-apns#Server-tasks)
[Generating a remote notification](https://developer.apple.com/documentation/usernotifications/generating-a-remote-notification)
Send notifications to the user’s device with a JSON payload.
[Pushing background updates to your App](https://developer.apple.com/documentation/usernotifications/pushing-background-updates-to-your-app)
Deliver notifications that wake your app and update it in the background.
[Establishing a connection to Apple Push Notification service (APNs)](https://developer.apple.com/documentation/usernotifications/establishing-a-connection-to-apns)
Secure your communications with APNs to send API requests.
Current page is Registering your app with APNs 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2FUserNotifications%2Fregistering-your-app-with-apns).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
