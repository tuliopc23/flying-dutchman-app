Source: https://developer.apple.com/documentation/appkit/nstouchbar

[ Skip Navigation ](https://developer.apple.com/documentation/appkit/nstouchbar#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/appkit/nstouchbar#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/appkit/nstouchbar)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/appkit/nstouchbar)
  * SwiftLanguage:  Swift  Objective-C 
Language: 
    * Swift 
    * [ Objective-C ](https://developer.apple.com/documentation/appkit/nstouchbar)


[](https://developer.apple.com/documentation/appkit/nstouchbar)
## [ AppKit  ](https://developer.apple.com/documentation/appkit)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 44 symbols inside <root>
Essentials
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
2 of 44 symbols inside <root> [Adopting Liquid Glass](https://developer.apple.com/documentation/technologyoverviews/adopting-liquid-glass)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
3 of 44 symbols inside <root> [AppKit updates](https://developer.apple.com/documentation/updates/appkit)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
4 of 44 symbols inside <root> [Protecting the User’s Privacy](https://developer.apple.com/documentation/uikit/protecting-the-user-s-privacy)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
5 of 44 symbols inside <root> [Porting your macOS apps to Apple silicon](https://developer.apple.com/documentation/apple-silicon/porting-your-macos-apps-to-apple-silicon)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
6 of 44 symbols inside <root>
App Structure
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
7 of 44 symbols inside <root> containing 26 symbols[App and Environment](https://developer.apple.com/documentation/appkit/app-and-environment)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
8 of 44 symbols inside <root> containing 26 symbols[Documents, Data, and Pasteboard](https://developer.apple.com/documentation/appkit/documents-data-and-pasteboard)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
9 of 44 symbols inside <root> containing 21 symbols[Cocoa Bindings](https://developer.apple.com/documentation/appkit/cocoa-bindings)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
10 of 44 symbols inside <root> containing 8 symbols[Resource Management](https://developer.apple.com/documentation/appkit/resource-management)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
11 of 44 symbols inside <root> containing 19 symbols[App Extensions](https://developer.apple.com/documentation/appkit/app-extensions)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
12 of 44 symbols inside <root>
User Interface
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
13 of 44 symbols inside <root> containing 60 symbols[Views and Controls](https://developer.apple.com/documentation/appkit/views-and-controls)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
14 of 44 symbols inside <root> containing 18 symbols[View Management](https://developer.apple.com/documentation/appkit/view-management)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
15 of 44 symbols inside <root> containing 13 symbols[View Layout](https://developer.apple.com/documentation/appkit/view-layout)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
16 of 44 symbols inside <root> containing 5 symbols[Appearance Customization](https://developer.apple.com/documentation/appkit/appearance-customization)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
17 of 44 symbols inside <root> containing 11 symbols[Animation](https://developer.apple.com/documentation/appkit/animation)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
18 of 44 symbols inside <root> containing 38 symbols[Windows, Panels, and Screens](https://developer.apple.com/documentation/appkit/windows-panels-and-screens)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
21 of 44 symbols inside <root>
User Interactions
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
22 of 44 symbols inside <root> containing 15 symbols[Mouse, Keyboard, and Trackpad](https://developer.apple.com/documentation/appkit/mouse-keyboard-and-trackpad)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
22 of 44 symbols inside <root> containing 15 symbols[Mouse, Keyboard, and Trackpad](https://developer.apple.com/documentation/appkit/mouse-keyboard-and-trackpad)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
23 of 44 symbols inside <root> containing 17 symbols[Menus, Cursors, and the Dock](https://developer.apple.com/documentation/appkit/menus-cursors-and-the-dock)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
24 of 44 symbols inside <root> containing 9 symbols[Gestures](https://developer.apple.com/documentation/appkit/gestures)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
25 of 44 symbols inside <root> containing 38 symbols[Touch Bar](https://developer.apple.com/documentation/appkit/touch-bar)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 38 symbols inside 473899532 
Essentials
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
2 of 38 symbols inside 473899532 [Integrating a Toolbar and Touch Bar into Your App](https://developer.apple.com/documentation/appkit/integrating-a-toolbar-and-touch-bar-into-your-app)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
3 of 38 symbols inside 473899532 [Creating and Customizing the Touch Bar](https://developer.apple.com/documentation/appkit/creating-and-customizing-the-touch-bar)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
4 of 38 symbols inside 473899532 containing 19 symbols[NSTouchBar](https://developer.apple.com/documentation/appkit/nstouchbar)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 19 symbols inside 876739284 
Creating a bar
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
2 of 19 symbols inside 876739284 [init()](https://developer.apple.com/documentation/appkit/nstouchbar/init\(\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
3 of 19 symbols inside 876739284 [init?(coder: NSCoder)](https://developer.apple.com/documentation/appkit/nstouchbar/init\(coder:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
4 of 19 symbols inside 876739284 
Providing bar items
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
5 of 19 symbols inside 876739284 [var delegate: (any NSTouchBarDelegate)?](https://developer.apple.com/documentation/appkit/nstouchbar/delegate)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
6 of 19 symbols inside 876739284 [var templateItems: Set<NSTouchBarItem>](https://developer.apple.com/documentation/appkit/nstouchbar/templateitems)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
7 of 19 symbols inside 876739284 [var defaultItemIdentifiers: [NSTouchBarItem.Identifier]](https://developer.apple.com/documentation/appkit/nstouchbar/defaultitemidentifiers)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
8 of 19 symbols inside 876739284 [var principalItemIdentifier: NSTouchBarItem.Identifier?](https://developer.apple.com/documentation/appkit/nstouchbar/principalitemidentifier)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
9 of 19 symbols inside 876739284 [var escapeKeyReplacementItemIdentifier: NSTouchBarItem.Identifier?](https://developer.apple.com/documentation/appkit/nstouchbar/escapekeyreplacementitemidentifier)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
10 of 19 symbols inside 876739284 
Observing bar status
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
11 of 19 symbols inside 876739284 [var isVisible: Bool](https://developer.apple.com/documentation/appkit/nstouchbar/isvisible)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
12 of 19 symbols inside 876739284 [var itemIdentifiers: [NSTouchBarItem.Identifier]](https://developer.apple.com/documentation/appkit/nstouchbar/itemidentifiers)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
13 of 19 symbols inside 876739284 [func item(forIdentifier: NSTouchBarItem.Identifier) -> NSTouchBarItem?](https://developer.apple.com/documentation/appkit/nstouchbar/item\(foridentifier:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
14 of 19 symbols inside 876739284 
Configuring user customization
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
15 of 19 symbols inside 876739284 [var customizationIdentifier: NSTouchBar.CustomizationIdentifier?](https://developer.apple.com/documentation/appkit/nstouchbar/customizationidentifier-swift.property)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
16 of 19 symbols inside 876739284 [var customizationAllowedItemIdentifiers: [NSTouchBarItem.Identifier]](https://developer.apple.com/documentation/appkit/nstouchbar/customizationalloweditemidentifiers)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
17 of 19 symbols inside 876739284 [var customizationRequiredItemIdentifiers: [NSTouchBarItem.Identifier]](https://developer.apple.com/documentation/appkit/nstouchbar/customizationrequireditemidentifiers)
101 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ AppKit ](https://developer.apple.com/documentation/appkit)
  * [ NSTouchBar ](https://developer.apple.com/documentation/appkit/nstouchbar)
  *     * NSTouchBar 


Class
# NSTouchBar
An object that provides dynamic contextual controls in the Touch Bar of supported models of MacBook Pro.
iOS 13.0+iPadOS 13.0+Mac Catalyst 13.1+macOS 10.12.2+
```
@[MainActor](https://developer.apple.com/documentation/Swift/MainActor)
class NSTouchBar
```

## [Overview](https://developer.apple.com/documentation/appkit/nstouchbar#overview)
On supported MacBook Pro models, the Touch Bar, above the keyboard, shows instances of the [`NSTouchBar`](https://developer.apple.com/documentation/appkit/nstouchbar) class from the front-most app. Such an instance is called a _bar_. You define a bar to provide controls relevant to the user’s context. Each such control is an instance of the [`NSTouchBarItem`](https://developer.apple.com/documentation/appkit/nstouchbaritem) class, called an _item_.
![Image of bars and items from the TextEdit app, identifying examples of bars and items as well as the Control Strip.](https://docs-assets.developer.apple.com/published/e4c99a6dd2d8c87ddb4a3c6e063c2710/media-2851859%402x.png)
You can provide many bars within your app, one for each responder instance; macOS frameworks can provide bars, as well, that can appear alongside your app’s bars. The system determines which bars to show at any given time. For example, an app that uses standard AppKit objects, such as text fields (instances of the [`NSTextField`](https://developer.apple.com/documentation/appkit/nstextfield) class), obtains appropriate bars along with relevant items automatically.
Refer to the following sample code projects, which demonstrate how to use [`NSTouchBar`](https://developer.apple.com/documentation/appkit/nstouchbar) and related classes, including the [`NSScrubber`](https://developer.apple.com/documentation/appkit/nsscrubber) class, with its rich API that lets you build a highly customized picker control:
  * [Creating and Customizing the Touch Bar](https://developer.apple.com/documentation/appkit/creating-and-customizing-the-touch-bar)
  * [Integrating a Toolbar and Touch Bar into Your App](https://developer.apple.com/documentation/appkit/integrating-a-toolbar-and-touch-bar-into-your-app)


To use the Touch Bar, define bars in objects in your app’s responder chain. At run time, the system traverses up the responder chain to discover, combine, and show bars from your app and from frameworks you link against.
You can configure a bar to support dynamic composition, in which the system shows the bar in an expanded form that contains items from bars lower in the responder chain (from closer to the first responder). Because of dynamic composition and placement of items shown on the Touch Bar, always ensure that your bars appear as you expect them to, testing on the versions of macOS that you support.
Instances of the [`NSTouchBar`](https://developer.apple.com/documentation/appkit/nstouchbar) class employ gesture recognizers and take advantage of macOS 10.12.1 event enhancements. Because of the physical geometry of the Touch Bar, touch events passed to gesture recognizers have only a meaningful _x_ , or horizontal, component.
There’s no need, and no API, for your app to know whether or not there’s a Touch Bar available. Whether your app is running on a machine that supports the Touch Bar or not, your app’s onscreen user interface (UI) appears and behaves the same way.
The Touch Bar is a Retina display, like the screen of a MacBook Pro. To perform custom drawing or animation within the Touch Bar, follow the same best practices that you would on the screen.
Note
Although the Touch Bar is a display, it’s first and foremost an input device. Don’t use the Touch Bar to provide a display-only element.
On the right side of the Touch Bar, the system supplies the always-available _Control Strip_. The Control Strip gives the user access to standard controls for display brightness, sound volume, Siri, and so on. Your app’s bars appear to the left of the Control Strip. The user can choose to hide the Control Strip, which gives the frontmost app the entire Touch Bar width.
To the right of the Control Strip is a Touch ID sensor. To use Touch ID on supported MacBook Pro models, use methods from the [Local Authentication](https://developer.apple.com/documentation/LocalAuthentication) framework.
The Touch Bar dims automatically and wakes when the user touches it. Don’t show alerts in the Touch Bar, and don’t use the Touch Bar for widgets.
For Touch Bar design guidance, read [Human Interface Guidelines](https://developer.apple.com/design/human-interface-guidelines/inputs/touch-bar/).
### [Bar objects](https://developer.apple.com/documentation/appkit/nstouchbar#Bar-objects)
You can think of an [`NSTouchBar`](https://developer.apple.com/documentation/appkit/nstouchbar) object (or _bar_), with its array of [`NSTouchBarItem`](https://developer.apple.com/documentation/appkit/nstouchbaritem) objects (or _items_), as analogous to a window toolbar with its toolbar items, or a menu with its menu items.
To provide a bar in your app, define it in an object that meets three requirements. The object that defines the bar must:
  * Be a responder (an instance of an [`NSResponder`](https://developer.apple.com/documentation/appkit/nsresponder) subclass) that’s present within a responder chain at runtime.
  * Implement the [`makeTouchBar()`](https://developer.apple.com/documentation/appkit/nsresponder/maketouchbar\(\)) delegate method from the [`NSTouchBarProvider`](https://developer.apple.com/documentation/appkit/nstouchbarprovider) protocol.


The built-in responder classes conform to the [`NSTouchBarProvider`](https://developer.apple.com/documentation/appkit/nstouchbarprovider) protocol and support key-value observing (KVO), both of which are used and required by the [`NSTouchBar`](https://developer.apple.com/documentation/appkit/nstouchbar) infrastructure. In the context of Touch Bar support, a responder instance can also be called a _bar provider_.
The following code shows an example implementation of the [`makeTouchBar()`](https://developer.apple.com/documentation/appkit/nsresponder/maketouchbar\(\)) delegate method. In this code snippet, you can see some statements related to bar customization.
```
override func makeTouchBar() -> NSTouchBar? {
    let mainBar = NSTouchBar()
    mainBar.delegate = self    mainBar.customizationIdentifier = .imageViewer
    mainBar.defaultItemIdentifiers = [.sharingPicker, .strokePopover, .strokeColorPicker, .photoPicker, .flexibleSpace, .clearButton, .otherItemsProxy]
    mainBar.customizationAllowedItemIdentifiers = [.strokeSlider, .strokePopover, .photoPicker, .strokeColorPicker, .clearButton, .sharingPicker, .flexibleSpace]
    mainBar.principalItemIdentifier = .photoPicker
    return mainBar
}

```

You can take advantage of built-in KVO support to keep track of bar state, such as which items are visible as the user customizes and interacts with the Touch Bar.
If you explicitly adopt the [`NSTouchBarProvider`](https://developer.apple.com/documentation/appkit/nstouchbarprovider) protocol in the app delegate or in a window delegate, you must also explicitly send the associated key-value observing notifications from within your implementations of [`NSTouchBar`](https://developer.apple.com/documentation/appkit/nstouchbar) methods; this lets the system respond appropriately to changes in the bar. To avoid the need to manually support KVO, use the _app object_ as a bar provider, instead of the app delegate, or use a _window controller_ or _window_ as a bar provider, instead of the associated window delegate.
To programmatically invalidate a bar associated with a bar provider, such as because you’re changing the bar’s state, set its [`touchBar`](https://developer.apple.com/documentation/appkit/nstouchbarprovider/touchbar) property to a value of `nil`.
### [Item objects](https://developer.apple.com/documentation/appkit/nstouchbar#Item-objects)
A bar itself (an [`NSTouchBar`](https://developer.apple.com/documentation/appkit/nstouchbar) object) has no visible representation in a MacBook Pro Touch Bar. A user instead sees the bar’s items, each of which is an instance of the [`NSTouchBarItem`](https://developer.apple.com/documentation/appkit/nstouchbaritem) class.
Note
This section explains how to use items in bars. For details on the various kinds of items and how to create and configure them, see [`NSTouchBarItem`](https://developer.apple.com/documentation/appkit/nstouchbaritem).
The items presented in a bar are the elements in a private array owned by the bar. To specify the items for a bar, you don’t fill this array directly, but rather rely on the bar to manage its items based on various groups of items and item identifiers that you do specify directly.
In specifying items for a bar you have two options, giving you flexibility for optimizing resource use and efficiency in your app.
  * The [`templateItems`](https://developer.apple.com/documentation/appkit/nstouchbar/templateitems) property is a set that you can directly populate with item instances for a bar. Use this option when your items are lightweight enough to stay in memory for the duration of your app’s lifetime, and when they don’t contain state that might change over time.
  * The [`NSTouchBarDelegate`](https://developer.apple.com/documentation/appkit/nstouchbardelegate) protocol, and its [`touchBar(_:makeItemForIdentifier:)`](https://developer.apple.com/documentation/appkit/nstouchbardelegate/touchbar\(_:makeitemforidentifier:\)) delegate method, give your app a way to create items on-demand. Use this option when it makes more sense in terms of resource usage and reflecting dynamic state.


Whichever of these two approaches you employ, the system is in charge of populating a bar’s private items array based on three things:
  1. Your configuration of the bar’s item-identifiers properties
  2. Any nesting you have specified
  3. Any customization that the user has specified for the bar


As your app runs, you can obtain the identifiers of the items eligible for presentation in a bar — specifically, those in its private items array — by accessing the read-only [`itemIdentifiers`](https://developer.apple.com/documentation/appkit/nstouchbar/itemidentifiers) property. This property reflects the current state of the bar instance, including any customization that has been performed by the user and any dynamic composition that has been performed by the system.
### [Customization](https://developer.apple.com/documentation/appkit/nstouchbar#Customization)
AppKit provides a rich Touch Bar customization facility for users that appears, upon user request, on the main display. Make your bars customizable unless you have a specific UI need not to do so.
A customizable bar automatically obtains onscreen UI which lets the user:
  * Change which items are part of the shown bar
  * Rearrange items within the shown bar


A user invokes the onscreen customization UI by choosing a dedicated menu item.
To make an `NSTouchBar` object eligible for customization, assign it a globally-unique [`customizationIdentifier`](https://developer.apple.com/documentation/appkit/nstouchbar/customizationidentifier-swift.property) identifier. For the identifier string, use reverse-DNS style, such as “`com.company-name.app-name.alphanumeric-ID`”.
Next, specify the bar’s items and customization possibilities by populating its item identifier lists. Each such list is an array, each of whose elements is the identifier (of type [`NSTouchBarItem.Identifier`](https://developer.apple.com/documentation/appkit/nstouchbaritem/identifier-swift.struct)) for an item (an [`NSTouchBarItem`](https://developer.apple.com/documentation/appkit/nstouchbaritem) object). A bar’s item identifier lists are:
**Default item identifiers** , specified in a bar’s [`defaultItemIdentifiers`](https://developer.apple.com/documentation/appkit/nstouchbar/defaultitemidentifiers) property. Always specify this property for an [`NSTouchBar`](https://developer.apple.com/documentation/appkit/nstouchbar) object, even if you elect to make the bar noncustomizable. The system:
  * Shows this list’s items by default when the system displays the bar.
  * Includes a preconfigured bar representation, containing these items, in the associated customization UI (when you have designated the bar as customizable by assigning it a [`customizationIdentifier`](https://developer.apple.com/documentation/appkit/nstouchbar/customizationidentifier-swift.property) property value); the user can drag the default bar into the Touch Bar, should they want to return to the default configuration.


**Additional item identifiers** , specified in a bar’s [`customizationAllowedItemIdentifiers`](https://developer.apple.com/documentation/appkit/nstouchbar/customizationalloweditemidentifiers) property. Always configure this property for a customizable bar. The system uses this list by showing representations of its items individually in the customization UI, arranged in the same order as you specify in the property array. When there’s available geometric space, a user can drag in to the active bar any of the items in this list. If there isn’t enough space, a dragged item replaces the item or items under the spot the new item is dropped.
**Required item identifiers** , specified in a bar’s [`customizationRequiredItemIdentifiers`](https://developer.apple.com/documentation/appkit/nstouchbar/customizationrequireditemidentifiers) property. Configure this property at your discretion, depending on the design of your app. The user can’t remove from the bar any of the items you specify in this list.
To provide textual labels in the customization UI, use the [`customizationLabel`](https://developer.apple.com/documentation/appkit/nstouchbaritem/customizationlabel) property on each [`NSTouchBarItem`](https://developer.apple.com/documentation/appkit/nstouchbaritem) instance you include in a customizable bar. The accessibility system in macOS also makes use of these labels.
If your app design requires a noncustomizable [`NSTouchBar`](https://developer.apple.com/documentation/appkit/nstouchbar) object:
  * List all of the bar’s items in the [`defaultItemIdentifiers`](https://developer.apple.com/documentation/appkit/nstouchbar/defaultitemidentifiers) property, and only in this property.
  * Don’t use the other properties described in this section and, in particular, don’t assign the bar a [`customizationIdentifier`](https://developer.apple.com/documentation/appkit/nstouchbar/customizationidentifier-swift.property) property value.


#### [Group item, popover item, and composed bar customization](https://developer.apple.com/documentation/appkit/nstouchbar#Group-item-popover-item-and-composed-bar-customization)
AppKit lets you specify any bar as customizable or not. The customization configuration you provide for a bar remains associated with the bar and its items — even when those items are nested by the system into another bar higher in the responder chain.
The system also respects your bar customization configuration when you use group and popover items. Each of these item types itself contains one or more bars—which can, in turn contain group items and popover items, and so on. The rest of this section explains how customization works for the bars containing, and bars within, group items and popover items.
**A group item** (an instance of the [`NSGroupTouchBarItem`](https://developer.apple.com/documentation/appkit/nsgrouptouchbaritem) class) has one bar, held in the object’s [`groupTouchBar`](https://developer.apple.com/documentation/appkit/nsgrouptouchbaritem/grouptouchbar) property. AppKit supports nesting of group items, in that you can configure a [`groupTouchBar`](https://developer.apple.com/documentation/appkit/nsgrouptouchbaritem/grouptouchbar) bar to itself contain one or more group items (or, for that matter, items of any other type, guided by what works well in your app).Here are some examples of how customization for group items works in practice:
  * If you configure a bar as customizable, and give it a group item whose bar you configure as _not_ customizable, then the array of items in the [`groupTouchBar`](https://developer.apple.com/documentation/appkit/nsgrouptouchbaritem/grouptouchbar) bar appears in the customization UI as an atomic unit. During customization, a user can manipulate the array of items, but strictly as a unit: If the (noncustomizable) [`groupTouchBar`](https://developer.apple.com/documentation/appkit/nsgrouptouchbaritem/grouptouchbar) bar is visible in the Touch Bar, the user can remove it as a unit, or can rearrange it among the other items in the [`groupTouchBar`](https://developer.apple.com/documentation/appkit/nsgrouptouchbaritem/grouptouchbar) bar; if the [`groupTouchBar`](https://developer.apple.com/documentation/appkit/nsgrouptouchbaritem/grouptouchbar) bar is instead visible in the customization UI, the user can add it back to the Touch Bar, as a unit, placing it within the bar that owns the group item.
  * If you configure a bar as _not_ customizable, and give it a group item whose bar you configure as customizable, then the [`groupTouchBar`](https://developer.apple.com/documentation/appkit/nsgrouptouchbaritem/grouptouchbar) bar’s items appear in the customization UI as individual items. During customization, a user can manipulate each item separately: If an item from the [`groupTouchBar`](https://developer.apple.com/documentation/appkit/nsgrouptouchbaritem/grouptouchbar) bar is visible in the Touch Bar, the user can remove it or can rearrange its position individually among the other items in the [`groupTouchBar`](https://developer.apple.com/documentation/appkit/nsgrouptouchbaritem/grouptouchbar) bar; if an item from the [`groupTouchBar`](https://developer.apple.com/documentation/appkit/nsgrouptouchbaritem/grouptouchbar) bar is instead visible in the customization UI, the user can add it back to the Touch Bar, individually, placing it anywhere within the [`groupTouchBar`](https://developer.apple.com/documentation/appkit/nsgrouptouchbaritem/grouptouchbar) bar that owns it.


**A popover item** (an instance of the [`NSPopoverTouchBarItem`](https://developer.apple.com/documentation/appkit/nspopovertouchbaritem) class) has two bars: one bar you specify in its [`popoverTouchBar`](https://developer.apple.com/documentation/appkit/nspopovertouchbaritem/popovertouchbar) property and a second, optional bar you can specify in its [`pressAndHoldTouchBar`](https://developer.apple.com/documentation/appkit/nspopovertouchbaritem/pressandholdtouchbar) property. Here are some examples of how customization for popover items works in practice:
  * If you configure a bar as customizable, and give it a popover item whose [`popoverTouchBar`](https://developer.apple.com/documentation/appkit/nspopovertouchbaritem/popovertouchbar) bar you configure as _not_ customizable, the [`popoverTouchBar`](https://developer.apple.com/documentation/appkit/nspopovertouchbaritem/popovertouchbar) bar never appears in the customization UI. If the user invokes the customization UI when the (noncustomizable) popover item itself (not the button’s associated [`popoverTouchBar`](https://developer.apple.com/documentation/appkit/nspopovertouchbaritem/popovertouchbar) bar) is visible in the Touch Bar, the customization UI lets the user rearrange the position of the popover item relative to the other items in the containing bar. If, on the other hand, the user invokes the customization UI when the (noncustomizable) [`popoverTouchBar`](https://developer.apple.com/documentation/appkit/nspopovertouchbaritem/popovertouchbar) bar is visible in the Touch Bar, the system dismisses the popover bar and shows, in the customization UI, customization options for the bar that contains the popover item.
  * If you configure a [`popoverTouchBar`](https://developer.apple.com/documentation/appkit/nspopovertouchbaritem/popovertouchbar) bar as customizable, the user can invoke the [`popoverTouchBar`](https://developer.apple.com/documentation/appkit/nspopovertouchbaritem/popovertouchbar) bar (by tapping the popover item that owns it, in the Touch Bar) and then use the customization UI to manipulate the items in the [`popoverTouchBar`](https://developer.apple.com/documentation/appkit/nspopovertouchbaritem/popovertouchbar) bar itself.


#### [Customization menu item](https://developer.apple.com/documentation/appkit/nstouchbar#Customization-menu-item)
A user invokes the customization UI for a particular [`NSTouchBar`](https://developer.apple.com/documentation/appkit/nstouchbar) object, when it’s visible in the Touch Bar, by choosing the bar customization menu item. To enable this menu item you must explicitly opt-in, which you can do in the following ways:
  * If you want the system to automatically name, place, validate, and activate this menu item in your app’s menus, set the [`isAutomaticCustomizeTouchBarMenuItemEnabled`](https://developer.apple.com/documentation/appkit/nsapplication/isautomaticcustomizetouchbarmenuitemenabled) property of your app object (of type [`NSApplication`](https://developer.apple.com/documentation/appkit/nsapplication)) to [`true`](https://developer.apple.com/documentation/Swift/true).
  * To explicitly place the customization menu item in one of your app’s menus, employ the [`toggleTouchBarCustomizationPalette(_:)`](https://developer.apple.com/documentation/appkit/nsapplication/toggletouchbarcustomizationpalette\(_:\)) method of your app object. When you do this, the system still names and validates the menu item, and hides it on systems that don’t have a Touch Bar.


If you attempt to employ the customization menu item (using either of these two approaches), but do not provide a customization identifier property ([`customizationIdentifier`](https://developer.apple.com/documentation/appkit/nstouchbar/customizationidentifier-swift.property)) for a bar, the customization menu item appears when that bar is active — but the menu item, in this case, is disabled.
If your app attempts to use both automatic and explicit placement of the customization menu item, the system respects your explicit control and doesn’t place the item automatically.
### [Layout](https://developer.apple.com/documentation/appkit/nstouchbar#Layout)
The user controls the width of the Control Strip and can choose to hide it, and the system is in charge of the nesting of [`NSTouchBar`](https://developer.apple.com/documentation/appkit/nstouchbar) instances (for the bars you make eligible for composition). As a result, the available display width for your bars can vary. There’s no API for you to obtain the current available display width.
In your layout design, don’t depend on a particular Control Strip size. Do anticipate dynamic composition and nesting for your bars.
If you need more horizontal space than might be available, use a popover item, a scrubber, or a scroll view — as they fit your design needs, but in that, descending, order of preference.
In geometric-space-constrained scenarios, the system hides [`NSTouchBarItem`](https://developer.apple.com/documentation/appkit/nstouchbaritem) instances according to their visibility priority.
If you need to center an item in the Touch Bar, designate it as a _principal item_ by assigning it to its bar’s [`principalItemIdentifier`](https://developer.apple.com/documentation/appkit/nstouchbar/principalitemidentifier) property. Don’t hard-code spacing in an attempt to ensure an item is centered. If you want a group of items to appear centered in the Touch Bar, designate the group item (of type [`NSGroupTouchBarItem`](https://developer.apple.com/documentation/appkit/nsgrouptouchbaritem)) as the principal item.
### [Composition and nesting](https://developer.apple.com/documentation/appkit/nstouchbar#Composition-and-nesting)
You can configure a bar to support dynamic composition, in which the system shows the bar in an expanded form that contains items from bars lower in the responder chain (closer to the first responder).
To allow a bar to serve as a container for nesting, add the [`otherItemsProxy`](https://developer.apple.com/documentation/appkit/nstouchbaritem/identifier-swift.struct/otheritemsproxy) item identifier to the bar’s [`defaultItemIdentifiers`](https://developer.apple.com/documentation/appkit/nstouchbar/defaultitemidentifiers) array. A bar that includes this identifier, and that’s relatively higher in the responder chain, can then (at runtime) include the items from an eligible bar relatively lower in the responder chain.
The position that you specify for the other-items proxy, within a bar’s [`defaultItemIdentifiers`](https://developer.apple.com/documentation/appkit/nstouchbar/defaultitemidentifiers) array, tells the system where you want nested items to be placed.
The system determines whether or not to compose bars in this way, based on system policy and available geometric space in the Touch Bar.
[`NSTouchBar`](https://developer.apple.com/documentation/appkit/nstouchbar) object nesting can be chained, according to available geometric space in the Touch Bar. For example, a view and a text field within that view could each contribute their items to the bar defined for a parent window controller.
When the system nests one bar’s items into another bar higher in the responder chain, the items appear to the user, in the Touch Bar, as fully incorporated into the higher bar. There’s no visual boundary or additional spacing to distinguish the items as being nested.
If a bar doesn’t employ the [`otherItemsProxy`](https://developer.apple.com/documentation/appkit/nstouchbaritem/identifier-swift.struct/otheritemsproxy) identifier, the system hides that bar when another bar, lower in the responder chain, is eligible for display.
When determining which items to show in the Touch Bar for the current first responder, the system traverses up the entire responder chain. This lets the system accommodate any proxy items in bars defined for objects higher in the chain, thereby respecting the fact that any bar, defined for an object at any position in the responder chain, might include the other-items-proxy identifier.
#### [Customization for composed bars](https://developer.apple.com/documentation/appkit/nstouchbar#Customization-for-composed-bars)
The logical, geometric boundary for a nested [`NSTouchBar`](https://developer.apple.com/documentation/appkit/nstouchbar) object isn’t visible to the user in the Touch Bar. However, the boundary remains in effect in terms of customization. A user can’t rearrange a nested bar’s items outside of its boundary.
For example, say you have a bar, higher in the responder chain, configured like this:
```
[(1)(2)(other-items-proxy)(3)]

```

And say you also have a bar, lower in the responder chain, eligible for display in the Touch Bar according to the system and the current app state, configured like this:
```
[(A)(B)(C)]

```

The composed bar would correspond to this arrangement in the Touch Bar:
```
[(1)(2)(A)(B)(C)(3)]

```

With the customization UI, the user could then rearrange the items represented here by `(A)`, `(B)`, and `(C)`, but only as long as those items remained contiguous during the rearrangement, thereby respecting the logical boundary of the bar that defines them.
#### [Item spacing for composed bars](https://developer.apple.com/documentation/appkit/nstouchbar#Item-spacing-for-composed-bars)
When the system nests [`NSTouchBar`](https://developer.apple.com/documentation/appkit/nstouchbar) objects that include spacing items, it merges any resulting adjacent spacing. Ensure that your bars appear as you expect them to, testing on the versions of macOS that you support. For more on spacing items, see [`NSTouchBarItem`](https://developer.apple.com/documentation/appkit/nstouchbaritem).
### [Bar discovery and the responder chain](https://developer.apple.com/documentation/appkit/nstouchbar#Bar-discovery-and-the-responder-chain)
At runtime, the system traverses up the responder chain, starting at the object with focus, to discover objects that conform to the [`NSTouchBarProvider`](https://developer.apple.com/documentation/appkit/nstouchbarprovider) protocol. Such objects are called _bar providers_. The system then populates the Touch Bar, potentially with multiple, nested bars, according to system policy and available geometric space.
Specifically, bar discovery by the system proceeds in the following order:
  1. Key window’s first responder
  2. Key window
  3. Key window’s delegate
  4. Key window’s controller
  5. Main window’s first responder
  6. Main window
  7. Main window’s delegate
  8. Main window’s controller
  9. App object
  10. App delegate


When the system encounters a bar provider that’s an instance of an [`NSResponder`](https://developer.apple.com/documentation/appkit/nsresponder) subclass, the system then additionally searches up the responder chain anchored at that object.
For example, in a complicated but otherwise standard app, bar discovery might proceed in this order:
  1. Key window’s first responder
  2. View controller of key window’s first responder
  3. Intermediate view controllers and views
  4. View that’s closest to root of window
  5. View controller that’s closest to root of window
  6. Key window
  7. Key window’s controller
  8. App object
  9. App delegate


The Touch Bar can show one bar nested within another, as described in [Composition and nesting](https://developer.apple.com/documentation/appkit/nstouchbar#Composition-and-nesting).
### [Accessibility and the Touch Bar](https://developer.apple.com/documentation/appkit/nstouchbar#Accessibility-and-the-Touch-Bar)
AppKit views and controls adopt the [`NSAccessibilityProtocol`](https://developer.apple.com/documentation/appkit/nsaccessibilityprotocol) protocol and automatically send appropriate accessibility notifications. Because the Touch Bar is designed to work with AppKit, it’s fully accessible.
Be sure to use the `customizationLabel` property on every [`NSTouchBarItem`](https://developer.apple.com/documentation/appkit/nstouchbaritem) instance that you designate as customizable. The accessibility system in macOS makes use of these labels.
To learn more about accessibility, read [Accessibility for AppKit](https://developer.apple.com/documentation/appkit/accessibility-for-appkit).
### [AppKit support for the Touch Bar](https://developer.apple.com/documentation/appkit/nstouchbar#AppKit-support-for-the-Touch-Bar)
To support the Touch Bar feature, AppKit provides several enhancements, first available in macOS 10.12.1:
  * **Scrubbers.** The [`NSScrubber`](https://developer.apple.com/documentation/appkit/nsscrubber) class, along with related APIs, provide a way for you to add a flexible, horizontally-oriented picker to a custom item (an instance of the [`NSCustomTouchBarItem`](https://developer.apple.com/documentation/appkit/nscustomtouchbaritem) class).
  * **Gesture recognizer support.**
  * You can use the [`NSMagnificationGestureRecognizer`](https://developer.apple.com/documentation/appkit/nsmagnificationgesturerecognizer) class in bar items. To enable two-finger pinch gestures, set the recognizer’s [`allowedTouchTypes`](https://developer.apple.com/documentation/appkit/nsgesturerecognizer/allowedtouchtypes) mask property, on the gesture recognizer, to the [`NSTouch.TouchType.direct`](https://developer.apple.com/documentation/appkit/nstouch/touchtype/direct) constant from the [`NSTouch.TouchTypeMask`](https://developer.apple.com/documentation/appkit/nstouch/touchtypemask) enumeration.
  * The [`NSGestureRecognizer`](https://developer.apple.com/documentation/appkit/nsgesturerecognizer) abstract class is enhanced with a set of methods that let you implement responses to touch events: [`touchesBegan(with:)`](https://developer.apple.com/documentation/appkit/nsgesturerecognizer/touchesbegan\(with:\)), [`touchesCancelled(with:)`](https://developer.apple.com/documentation/appkit/nsgesturerecognizer/touchescancelled\(with:\)), [`touchesEnded(with:)`](https://developer.apple.com/documentation/appkit/nsgesturerecognizer/touchesended\(with:\)), and [`touchesMoved(with:)`](https://developer.apple.com/documentation/appkit/nsgesturerecognizer/touchesmoved\(with:\)).
  * The [`NSClickGestureRecognizer`](https://developer.apple.com/documentation/appkit/nsclickgesturerecognizer), [`NSPanGestureRecognizer`](https://developer.apple.com/documentation/appkit/nspangesturerecognizer), and [`NSPressGestureRecognizer`](https://developer.apple.com/documentation/appkit/nspressgesturerecognizer) concrete classes are each enhanced with a `numberOfTouchesRequired` property to let you specify the number of touches required for a gesture match.
  * **Touch type changes.** To enable touch events in a custom view, you must set the value of a view’s [`allowedTouchTypes`](https://developer.apple.com/documentation/appkit/nsgesturerecognizer/allowedtouchtypes) property to a value of [`direct`](https://developer.apple.com/documentation/appkit/nstouch/touchtypemask/direct). (In macOS 10.12.1, the [`acceptsTouchEvents`](https://developer.apple.com/documentation/appkit/nsview/acceptstouchevents) property is deprecated in favor of the new [`allowedTouchTypes`](https://developer.apple.com/documentation/appkit/nsgesturerecognizer/allowedtouchtypes) property.)
  * **Touch changes.** The [`NSTouch`](https://developer.apple.com/documentation/appkit/nstouch) class has a new property and two new methods for supporting the Touch Bar: [`NSTouch.TouchType`](https://developer.apple.com/documentation/appkit/nstouch/touchtype), [`location(in:)`](https://developer.apple.com/documentation/appkit/nsgesturerecognizer/location\(in:\)), and [`previousLocation(in:)`](https://developer.apple.com/documentation/appkit/nstouch/previouslocation\(in:\)).
  * **Control appearance support.** The [`NSButton`](https://developer.apple.com/documentation/appkit/nsbutton), [`NSSegmentedControl`](https://developer.apple.com/documentation/appkit/nssegmentedcontrol), and [`NSSlider`](https://developer.apple.com/documentation/appkit/nsslider) classes are each enhanced with appearance support properties: [`bezelColor`](https://developer.apple.com/documentation/appkit/nsbutton/bezelcolor) for buttons, [`selectedSegmentBezelColor`](https://developer.apple.com/documentation/appkit/nssegmentedcontrol/selectedsegmentbezelcolor) for segmented controls, and [`trackFillColor`](https://developer.apple.com/documentation/appkit/nsslider/trackfillcolor) for sliders. (With the Touch Bar, you employ sliders indirectly, as used by slider items.)
  * **Convenience initializers.** Starting in macOS 10.12, you can use a rich set of convenience initializers for controls. These initializers simplify the definition of bar items and take care of appearance and sizing for the Touch Bar. In particular, the [`NSButton`](https://developer.apple.com/documentation/appkit/nsbutton), [`NSSegmentedControl`](https://developer.apple.com/documentation/appkit/nssegmentedcontrol), and [`NSSlider`](https://developer.apple.com/documentation/appkit/nsslider) classes now offer a variety of convenience initializers such as [`init(title:image:target:action:)`](https://developer.apple.com/documentation/appkit/nsbutton/init\(title:image:target:action:\)).
  * **Text support.** Methods and properties in the [`NSSpellChecker`](https://developer.apple.com/documentation/appkit/nsspellchecker), [`NSTextField`](https://developer.apple.com/documentation/appkit/nstextfield), and [`NSTextView`](https://developer.apple.com/documentation/appkit/nstextview) classes, and in the [`NSTextFieldDelegate`](https://developer.apple.com/documentation/appkit/nstextfielddelegate) and [`NSTextViewDelegate`](https://developer.apple.com/documentation/appkit/nstextviewdelegate) protocols, support using the Touch Bar for spell checking, predictive text suggestion, text completion, and automatic handling of trailing space. For example:
  * When you use an [`NSTextView`](https://developer.apple.com/documentation/appkit/nstextview) object, you gain automatic Touch Bar support for text styling and predictive text suggestions.
  * When you use an [`NSCandidateListTouchBarItem`](https://developer.apple.com/documentation/appkit/nscandidatelisttouchbaritem) object, you can use the [`requestCandidates(forSelectedRange:in:types:options:inSpellDocumentWithTag:completionHandler:)`](https://developer.apple.com/documentation/appkit/nsspellchecker/requestcandidates\(forselectedrange:in:types:options:inspelldocumentwithtag:completionhandler:\)) method. This method provides a completion handler that you can use to filter or otherwise manage the candidate text.
  * **New template images.** AppKit adds many new template images for you to use in your [`NSTouchBarItem`](https://developer.apple.com/documentation/appkit/nstouchbaritem) objects. A few examples of these images are: [`touchBarAddTemplateName`](https://developer.apple.com/documentation/appkit/nsimage/touchbaraddtemplatename), [`touchBarComposeTemplateName`](https://developer.apple.com/documentation/appkit/nsimage/touchbarcomposetemplatename), [`touchBarGoBackTemplateName`](https://developer.apple.com/documentation/appkit/nsimage/touchbargobacktemplatename), [`touchBarGoForwardTemplateName`](https://developer.apple.com/documentation/appkit/nsimage/touchbargoforwardtemplatename), and `NSImageNameTouchBarHomeTemplate`. Always use templates for images in your items: they respond automatically to system white-point changes. Note that these images are exclusively for use in the Touch Bar and _not_ in onscreen windows. For a complete list of these template images, see [`NSTouchBarItem`](https://developer.apple.com/documentation/appkit/nstouchbaritem).
  * **Scroll views.** If your UI for a popover item needs more horizontal space, you can use a scroll view (an instance of the [`NSScrollView`](https://developer.apple.com/documentation/appkit/nsscrollview) class). _Don’t_ , in this case, enable the popover item’s press-and-hold option, because doing so interferes with scrolling.
  * **Stack views.** You can group bar items by using an instance of the [`NSStackView`](https://developer.apple.com/documentation/appkit/nsstackview) class. However, doing so loses system support for spacing. When you instead place items into a group item (an instance of the [`NSGroupTouchBarItem`](https://developer.apple.com/documentation/appkit/nsgrouptouchbaritem) class), the system:
  * Manages inter-item spacing
  * Supports user customization for the individual items


### [Development considerations for the Touch Bar](https://developer.apple.com/documentation/appkit/nstouchbar#Development-considerations-for-the-Touch-Bar)
The Xcode Touch Bar simulator represents the Touch Bar onscreen and supports some user interaction. However, some interactions are unavailable in the simulator. For example, you can’t perform two-finger gestures in the Touch Bar simulator.
If you’re adopting Touch Bar support for your app, but running Xcode on a Mac without a Touch Bar, you can enable the Xcode Touch Bar simulator by choosing Window > Show Touch Bar in Xcode.
Interface Builder supports development for the Touch Bar with nib objects available in the object library. Drag and drop bars and items from the object library into your canvas, and then attach them to your app’s responders as desired. For more information, see Xcode Help.
### [Performance considerations for the Touch Bar](https://developer.apple.com/documentation/appkit/nstouchbar#Performance-considerations-for-the-Touch-Bar)
The Touch Bar’s display and the MacBook screen share resources, including the main CPU and GPU of the MacBook. To ensure that your Touch Bar controls perform well, follow the usual best practice of protecting your app’s main thread from doing too much work. For example, don’t perform rendering work for the main display on the main thread.
In addition, pay attention to the relative amounts of time your app spends on updates to the main display relative to updates to the Touch Bar. The optimum ratio can vary according to what the user is doing. For example:
  * When a user is interacting with the Touch Bar _and_ watching the Touch Bar, such as to control audio, ensure that your app gives priority to updating the Touch Bar.
  * When a user is instead interacting with the Touch Bar but watching the main display, such as when using a scrubber to browse pages of content, balance your app’s display update work between the Touch Bar and the main display.


Always test Touch Bar performance using the specific MacBook hardware you support. Specifically, don’t rely on the Xcode Touch Bar simulator when tuning your app for Touch Bar performance.
## [Topics](https://developer.apple.com/documentation/appkit/nstouchbar#topics)
### [Creating a bar](https://developer.apple.com/documentation/appkit/nstouchbar#Creating-a-bar)
[`init()`](https://developer.apple.com/documentation/appkit/nstouchbar/init\(\))
Creates a Touch Bar object.
[`init?(coder: NSCoder)`](https://developer.apple.com/documentation/appkit/nstouchbar/init\(coder:\))
Creates a Touch Bar object from a coder object provided by a storyboard or NIB file.
### [Providing bar items](https://developer.apple.com/documentation/appkit/nstouchbar#Providing-bar-items)
[`var delegate: (any NSTouchBarDelegate)?`](https://developer.apple.com/documentation/appkit/nstouchbar/delegate)
The delegate that provides items to the Touch Bar.
[`var templateItems: Set<NSTouchBarItem>`](https://developer.apple.com/documentation/appkit/nstouchbar/templateitems)
The primary source of items that the Touch Bar uses to fill its private items array, unless you provide items using a delegate.
[`var defaultItemIdentifiers: [NSTouchBarItem.Identifier]`](https://developer.apple.com/documentation/appkit/nstouchbar/defaultitemidentifiers)
A required list of identifiers for items that you want to appear in the Touch Bar after instantiating it.
[`var principalItemIdentifier: NSTouchBarItem.Identifier?`](https://developer.apple.com/documentation/appkit/nstouchbar/principalitemidentifier)
The identifier of an item you want the system to center in the Touch Bar.
[`var escapeKeyReplacementItemIdentifier: NSTouchBarItem.Identifier?`](https://developer.apple.com/documentation/appkit/nstouchbar/escapekeyreplacementitemidentifier)
The identifier of an item that replaces the system-provided button in the Touch Bar.
### [Observing bar status](https://developer.apple.com/documentation/appkit/nstouchbar#Observing-bar-status)
[`var isVisible: Bool`](https://developer.apple.com/documentation/appkit/nstouchbar/isvisible)
A Boolean value that Indicates whether the Touch Bar is eligible for display.
[`var itemIdentifiers: [NSTouchBarItem.Identifier]`](https://developer.apple.com/documentation/appkit/nstouchbar/itemidentifiers)
The list of identifiers for the current items in the Touch Bar.
[`func item(forIdentifier: NSTouchBarItem.Identifier) -> NSTouchBarItem?`](https://developer.apple.com/documentation/appkit/nstouchbar/item\(foridentifier:\))
Returns the Touch Bar item that corresponds to a given identifier.
### [Configuring user customization](https://developer.apple.com/documentation/appkit/nstouchbar#Configuring-user-customization)
[`var customizationIdentifier: NSTouchBar.CustomizationIdentifier?`](https://developer.apple.com/documentation/appkit/nstouchbar/customizationidentifier-swift.property)
A globally unique string that makes the Touch Bar eligible for user customization.
[`var customizationAllowedItemIdentifiers: [NSTouchBarItem.Identifier]`](https://developer.apple.com/documentation/appkit/nstouchbar/customizationalloweditemidentifiers)
A list of identifiers for items to show in the Touch Bar’s customization UI.
[`var customizationRequiredItemIdentifiers: [NSTouchBarItem.Identifier]`](https://developer.apple.com/documentation/appkit/nstouchbar/customizationrequireditemidentifiers)
An optional list of identifiers for items you want to always appear in the Touch Bar and which the user can’t remove during customization.
[`typealias CustomizationIdentifier`](https://developer.apple.com/documentation/appkit/nstouchbar/customizationidentifier-swift.typealias)
The default type for a Touch Bar customization identifier.
[`class var isAutomaticCustomizeTouchBarMenuItemEnabled: Bool`](https://developer.apple.com/documentation/appkit/nstouchbar/isautomaticcustomizetouchbarmenuitemenabled)
A Boolean value indicating whether the main menu contains an item for customizing the contents of the Touch Bar.
## [Relationships](https://developer.apple.com/documentation/appkit/nstouchbar#relationships)
### [Inherits From](https://developer.apple.com/documentation/appkit/nstouchbar#inherits-from)
  * [`NSObject`](https://developer.apple.com/documentation/ObjectiveC/NSObject-swift.class)


### [Conforms To](https://developer.apple.com/documentation/appkit/nstouchbar#conforms-to)
  * [`CVarArg`](https://developer.apple.com/documentation/Swift/CVarArg)
  * [`Copyable`](https://developer.apple.com/documentation/Swift/Copyable)
  * [`CustomDebugStringConvertible`](https://developer.apple.com/documentation/Swift/CustomDebugStringConvertible)
  * [`CustomStringConvertible`](https://developer.apple.com/documentation/Swift/CustomStringConvertible)
  * [`Equatable`](https://developer.apple.com/documentation/Swift/Equatable)
  * [`Hashable`](https://developer.apple.com/documentation/Swift/Hashable)
  * [`NSCoding`](https://developer.apple.com/documentation/Foundation/NSCoding)
  * [`NSObjectProtocol`](https://developer.apple.com/documentation/ObjectiveC/NSObjectProtocol)
  * [`Sendable`](https://developer.apple.com/documentation/Swift/Sendable)


## [See Also](https://developer.apple.com/documentation/appkit/nstouchbar#see-also)
### [Essentials](https://developer.apple.com/documentation/appkit/nstouchbar#Essentials)
[Integrating a Toolbar and Touch Bar into Your App](https://developer.apple.com/documentation/appkit/integrating-a-toolbar-and-touch-bar-into-your-app)
Provide users quick access to your app’s features from a toolbar and corresponding Touch Bar.
[Creating and Customizing the Touch Bar](https://developer.apple.com/documentation/appkit/creating-and-customizing-the-touch-bar)
Adopt Touch Bar support by displaying interactive content and controls for your macOS apps.
[`protocol NSTouchBarDelegate`](https://developer.apple.com/documentation/appkit/nstouchbardelegate)
A protocol that allows you to provide the items for a bar dynamically.
[`protocol NSTouchBarProvider`](https://developer.apple.com/documentation/appkit/nstouchbarprovider)
A protocol that an object adopts to create a bar object in your app.
Current page is NSTouchBar 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Fappkit%2Fnstouchbar).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
