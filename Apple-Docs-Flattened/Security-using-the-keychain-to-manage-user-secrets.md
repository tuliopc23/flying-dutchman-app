Source: https://developer.apple.com/documentation/Security/using-the-keychain-to-manage-user-secrets

[ Skip Navigation ](https://developer.apple.com/documentation/Security/using-the-keychain-to-manage-user-secrets#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/Security/using-the-keychain-to-manage-user-secrets#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/Security/using-the-keychain-to-manage-user-secrets)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/Security/using-the-keychain-to-manage-user-secrets)
  * SwiftLanguage:  Swift  Objective-C 
Language: 
    * Swift 
    * [ Objective-C ](https://developer.apple.com/documentation/Security/using-the-keychain-to-manage-user-secrets)


[](https://developer.apple.com/documentation/Security/using-the-keychain-to-manage-user-secrets)
## [ Security  ](https://developer.apple.com/documentation/security)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
6 of 71 symbols inside 1250681498 
Adding keychain items
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
8 of 65 symbols inside <root> containing 10 symbols[Sessions](https://developer.apple.com/documentation/security/sessions)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
9 of 65 symbols inside <root> containing 2 symbols[One-time codes](https://developer.apple.com/documentation/security/one-time-codes)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
10 of 65 symbols inside <root>
Secure data
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
11 of 65 symbols inside <root> containing 4 symbols[Keychain services](https://developer.apple.com/documentation/security/keychain-services)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 4 symbols inside -2083919462 
API components
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
2 of 4 symbols inside -2083919462 containing 71 symbols[Keychain items](https://developer.apple.com/documentation/security/keychain-items)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 71 symbols inside 1250681498 
Essentials
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
2 of 71 symbols inside 1250681498 containing 7 symbols[Using the keychain to manage user secrets](https://developer.apple.com/documentation/security/using-the-keychain-to-manage-user-secrets)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 7 symbols inside -640824116 
Item Creation and Modification
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
2 of 7 symbols inside -640824116 [Adding a password to the keychain](https://developer.apple.com/documentation/security/adding-a-password-to-the-keychain)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
3 of 7 symbols inside -640824116 [Searching for keychain items](https://developer.apple.com/documentation/security/searching-for-keychain-items)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
4 of 7 symbols inside -640824116 [Updating and deleting keychain items](https://developer.apple.com/documentation/security/updating-and-deleting-keychain-items)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
5 of 7 symbols inside -640824116 
Item Access
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
6 of 7 symbols inside -640824116 [Sharing access to keychain items among a collection of apps](https://developer.apple.com/documentation/security/sharing-access-to-keychain-items-among-a-collection-of-apps)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
7 of 7 symbols inside -640824116 [Restricting keychain item accessibility](https://developer.apple.com/documentation/security/restricting-keychain-item-accessibility)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
3 of 71 symbols inside 1250681498 [TN3137: On Mac keychain APIs and implementations](https://developer.apple.com/documentation/technotes/tn3137-on-mac-keychains)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
4 of 71 symbols inside 1250681498 [SecKeychainItem](https://developer.apple.com/documentation/security/seckeychainitem)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
5 of 71 symbols inside 1250681498 [func SecKeychainItemGetTypeID() -> CFTypeID](https://developer.apple.com/documentation/security/seckeychainitemgettypeid\(\))Deprecated
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
6 of 71 symbols inside 1250681498 
Adding keychain items
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
7 of 71 symbols inside 1250681498 [Adding a password to the keychain](https://developer.apple.com/documentation/security/adding-a-password-to-the-keychain)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
8 of 71 symbols inside 1250681498 [func SecItemAdd(CFDictionary, UnsafeMutablePointer<CFTypeRef?>?) -> OSStatus](https://developer.apple.com/documentation/security/secitemadd\(_:_:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
9 of 71 symbols inside 1250681498 containing 8 symbols[Item class keys and values](https://developer.apple.com/documentation/security/item-class-keys-and-values)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
10 of 71 symbols inside 1250681498 containing 136 symbols[Item attribute keys and values](https://developer.apple.com/documentation/security/item-attribute-keys-and-values)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
11 of 71 symbols inside 1250681498 
Keychain item search
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
12 of 71 symbols inside 1250681498 [Searching for keychain items](https://developer.apple.com/documentation/security/searching-for-keychain-items)
147 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
Collection
  * [ Security ](https://developer.apple.com/documentation/security)
  * [ Keychain services ](https://developer.apple.com/documentation/security/keychain-services)
  * [ Keychain items ](https://developer.apple.com/documentation/security/keychain-items)
  * [ Using the keychain to manage user secrets ](https://developer.apple.com/documentation/Security/using-the-keychain-to-manage-user-secrets)
  *     * [ Keychain services ](https://developer.apple.com/documentation/security/keychain-services)
    * [ Keychain items ](https://developer.apple.com/documentation/security/keychain-items)
    * Using the keychain to manage user secrets 


# Using the keychain to manage user secrets
Relieve the user of remembering small secrets by storing them in the keychain.
## [Overview](https://developer.apple.com/documentation/Security/using-the-keychain-to-manage-user-secrets#overview)
Apps often need access to sensitive user data such as passwords, but keeping the data secure can come at a cost: If you store a data without encrypting it, you create a security risk. If instead you repeatedly prompt the user, you produce a bad user experience—one that typically causes the user to create simple passwords or else write them down.
Keychain services helps solve this problem by providing easy access to encrypted storage. Your app uses the keychain, along with minimal user interaction, to provide a good user experience. For example, consider a process like the one depicted in Figure 1 for storing an Internet password.
![A flow diagram that depicts a process for using a keychain item when possible to authenticate against a server, and prompting the user when the keychain item is not found or is out of date.](https://docs-assets.developer.apple.com/published/6e130349e0acca782d2d0c7dbcb81660/media-2928527%402x.png)
### [Involve the User When Needed](https://developer.apple.com/documentation/Security/using-the-keychain-to-manage-user-secrets#Involve-the-User-When-Needed)
The first time an app needs credentials, no password is stored in the keychain. Here, the app prompts the user, as shown in the right branch of the diagram.
After the user has provided credentials that successfully authenticate, the app stores them using a call to the [`SecItemAdd(_:_:)`](https://developer.apple.com/documentation/security/secitemadd\(_:_:\)) function. The app now continues with its regular network access. Later, when the server requires reauthentication, the app can retrieve the credentials from the keychain instead of bothering the user.
For additional information about how to add items to the keychain, see [Adding a password to the keychain](https://developer.apple.com/documentation/security/adding-a-password-to-the-keychain).
### [Avoid Bothering the User in the Common Case](https://developer.apple.com/documentation/Security/using-the-keychain-to-manage-user-secrets#Avoid-Bothering-the-User-in-the-Common-Case)
The most common path through the diagram is the central one, which requires no user interaction. Here, a secure network resource requires periodic reauthentication, for example, because the user relaunches an app after having been away for a while.
In response, the app searches the keychain for the password, using the [`SecItemCopyMatching(_:_:)`](https://developer.apple.com/documentation/security/secitemcopymatching\(_:_:\)) function. If the password is found and the app successfully uses it to authenticate, it’s free to continue without involving the user.
For details about conducting a search, see [Searching for keychain items](https://developer.apple.com/documentation/security/searching-for-keychain-items).
### [Handle Changes Gracefully](https://developer.apple.com/documentation/Security/using-the-keychain-to-manage-user-secrets#Handle-Changes-Gracefully)
Occasionally, the user changes credentials outside the scope of the app. For example, you might offer a web interface to the same service that allows the user to change or reset their password. In this situation, a subsequent keychain item search in the app produces an out-of-date password that fails to authenticate. The left branch of the flow diagram handles this scenario. As with the right branch, the app prompts the user for new credentials. But in this case the app uses a call to the [`SecItemUpdate(_:_:)`](https://developer.apple.com/documentation/security/secitemupdate\(_:_:\)) function to modify the existing stored value after validating the new credentials.
The user might also decide to disconnect entirely from the network service. In response, your app should “forget” the corresponding credentials, along with performing any other actions required to log out. Use the [`SecItemDelete(_:)`](https://developer.apple.com/documentation/security/secitemdelete\(_:\)) function to remove the password from the keychain entirely.
For a discussion about changing and removing existing items, see [Updating and deleting keychain items](https://developer.apple.com/documentation/security/updating-and-deleting-keychain-items) .
## [Topics](https://developer.apple.com/documentation/Security/using-the-keychain-to-manage-user-secrets#topics)
### [Item Creation and Modification](https://developer.apple.com/documentation/Security/using-the-keychain-to-manage-user-secrets#Item-Creation-and-Modification)
[Adding a password to the keychain](https://developer.apple.com/documentation/security/adding-a-password-to-the-keychain)
Add network credentials to the keychain on behalf of the user.
[Searching for keychain items](https://developer.apple.com/documentation/security/searching-for-keychain-items)
Find keychain items based on search criteria that you specify.
[Updating and deleting keychain items](https://developer.apple.com/documentation/security/updating-and-deleting-keychain-items)
Modify items in the keychain when the user’s data changes.
### [Item Access](https://developer.apple.com/documentation/Security/using-the-keychain-to-manage-user-secrets#Item-Access)
[Sharing access to keychain items among a collection of apps](https://developer.apple.com/documentation/security/sharing-access-to-keychain-items-among-a-collection-of-apps)
Enable apps to share keychain items with each other by adding the apps to an access group.
[Restricting keychain item accessibility](https://developer.apple.com/documentation/security/restricting-keychain-item-accessibility)
Set the conditions under which an app can access a keychain item such as a password.
Current page is Using the keychain to manage user secrets 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2FSecurity%2Fusing-the-keychain-to-manage-user-secrets).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
