Source: https://developer.apple.com/documentation/avfoundation/avassetwriterinput/markasfinished()

[ Skip Navigation ](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/markasfinished\(\)#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/markasfinished\(\)#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/markasfinished\(\))
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/markasfinished\(\))
  * SwiftLanguage:  Swift  Objective-C 
Language: 
    * Swift 
    * [ Objective-C ](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/markasfinished\(\))


[](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/markasfinished\(\))
## [ AVFoundation  ](https://developer.apple.com/documentation/avfoundation)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 31 symbols inside <root>
Essentials
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
2 of 31 symbols inside <root> [AVFoundation updates](https://developer.apple.com/documentation/updates/avfoundation)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
3 of 31 symbols inside <root>
Common
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
4 of 31 symbols inside <root> containing 28 symbols[Media assets](https://developer.apple.com/documentation/avfoundation/media-assets)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
5 of 31 symbols inside <root> containing 31 symbols[Media reading and writing](https://developer.apple.com/documentation/avfoundation/media-reading-and-writing)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 31 symbols inside 480790132 
Media export
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
2 of 31 symbols inside 480790132 [Exporting video to alternative formats](https://developer.apple.com/documentation/avfoundation/exporting-video-to-alternative-formats)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
3 of 31 symbols inside 480790132 containing 50 symbols[AVAssetExportSession](https://developer.apple.com/documentation/avfoundation/avassetexportsession)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
4 of 31 symbols inside 480790132 
Image generation
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
5 of 31 symbols inside 480790132 [Creating images from a video asset](https://developer.apple.com/documentation/avfoundation/creating-images-from-a-video-asset)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
6 of 31 symbols inside 480790132 containing 25 symbols[AVAssetImageGenerator](https://developer.apple.com/documentation/avfoundation/avassetimagegenerator)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
7 of 31 symbols inside 480790132 
Media reading
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
8 of 31 symbols inside 480790132 [Reading multiview 3D video files](https://developer.apple.com/documentation/avfoundation/reading-multiview-3d-video-files)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
9 of 31 symbols inside 480790132 containing 24 symbols[AVAssetReader](https://developer.apple.com/documentation/avfoundation/avassetreader)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
10 of 31 symbols inside 480790132 containing 12 symbols[AVAssetReaderOutput](https://developer.apple.com/documentation/avfoundation/avassetreaderoutput)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
11 of 31 symbols inside 480790132 containing 8 symbols[AVAssetReaderTrackOutput](https://developer.apple.com/documentation/avfoundation/avassetreadertrackoutput)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
12 of 31 symbols inside 480790132 containing 8 symbols[AVAssetReaderAudioMixOutput](https://developer.apple.com/documentation/avfoundation/avassetreaderaudiomixoutput)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
13 of 31 symbols inside 480790132 containing 8 symbols[AVAssetReaderVideoCompositionOutput](https://developer.apple.com/documentation/avfoundation/avassetreadervideocompositionoutput)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
21 of 46 symbols inside 1611915091 
Configuring track associations
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
22 of 46 symbols inside 1611915091 [func canAddTrackAssociation(withTrackOf: AVAssetWriterInput, type: String) -> Bool](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/canaddtrackassociation\(withtrackof:type:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
22 of 46 symbols inside 1611915091 [func canAddTrackAssociation(withTrackOf: AVAssetWriterInput, type: String) -> Bool](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/canaddtrackassociation\(withtrackof:type:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
23 of 46 symbols inside 1611915091 [func addTrackAssociation(withTrackOf: AVAssetWriterInput, type: String)](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/addtrackassociation\(withtrackof:type:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
24 of 46 symbols inside 1611915091 
Appending media samples
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
25 of 46 symbols inside 1611915091 [var expectsMediaDataInRealTime: Bool](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/expectsmediadatainrealtime)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
26 of 46 symbols inside 1611915091 [var isReadyForMoreMediaData: Bool](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/isreadyformoremediadata)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
27 of 46 symbols inside 1611915091 [func requestMediaDataWhenReady(on: dispatch_queue_t, using: () -> Void)](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/requestmediadatawhenready\(on:using:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
28 of 46 symbols inside 1611915091 [func append(CMSampleBuffer) -> Bool](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/append\(_:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
29 of 46 symbols inside 1611915091 [func markAsFinished()](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/markasfinished\(\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
30 of 46 symbols inside 1611915091 containing 4 symbols[AVAssetWriterInput.SampleBufferReceiver](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/samplebufferreceiver)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
31 of 46 symbols inside 1611915091 containing 7 symbols[AVAssetWriterInput.PixelBufferReceiver](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/pixelbufferreceiver)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
32 of 46 symbols inside 1611915091 containing 7 symbols[AVAssetWriterInput.TaggedPixelBufferGroupReceiver](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/taggedpixelbuffergroupreceiver)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
33 of 46 symbols inside 1611915091 containing 4 symbols[AVAssetWriterInput.MetadataReceiver](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/metadatareceiver)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
34 of 46 symbols inside 1611915091 containing 6 symbols[AVAssetWriterInput.CaptionReceiver](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/captionreceiver)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
35 of 46 symbols inside 1611915091 
Performing multiple-pass encoding
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
36 of 46 symbols inside 1611915091 [var canPerformMultiplePasses: Bool](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/canperformmultiplepasses)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
37 of 46 symbols inside 1611915091 [var currentPassDescription: AVAssetWriterInputPassDescription?](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/currentpassdescription)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
38 of 46 symbols inside 1611915091 containing 2 symbols[AVAssetWriterInputPassDescription](https://developer.apple.com/documentation/avfoundation/avassetwriterinputpassdescription)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
39 of 46 symbols inside 1611915091 [func markCurrentPassAsFinished()](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/markcurrentpassasfinished\(\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
40 of 46 symbols inside 1611915091 [var performsMultiPassEncodingIfSupported: Bool](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/performsmultipassencodingifsupported)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
M
41 of 46 symbols inside 1611915091 [func respondToEachPassDescription(on: dispatch_queue_t, using: () -> Void)](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/respondtoeachpassdescription\(on:using:\))
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
C
42 of 46 symbols inside 1611915091 containing 2 symbols[AVAssetWriterInput.MultiPassController](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/multipasscontroller)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
43 of 46 symbols inside 1611915091 
Inspecting an input
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
44 of 46 symbols inside 1611915091 [var mediaType: AVMediaType](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/mediatype)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
45 of 46 symbols inside 1611915091 [var outputSettings: [String : Any]?](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/outputsettings)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
P
46 of 46 symbols inside 1611915091 [var sourceFormatHint: CMFormatDescription?](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/sourceformathint)
108 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ AVFoundation ](https://developer.apple.com/documentation/avfoundation)
  * [ AVAssetWriterInput ](https://developer.apple.com/documentation/avfoundation/avassetwriterinput)
  * [ markAsFinished() ](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/markasfinished\(\))
  *     * [ AVAssetWriterInput ](https://developer.apple.com/documentation/avfoundation/avassetwriterinput)
    * markAsFinished() 


Instance Method
# markAsFinished()
Marks the input as finished to indicate that you’re done appending samples to it.
iOS 4.1+iPadOS 4.1+Mac Catalyst 13.1+macOS 10.7+tvOS 9.0+visionOS 1.0+
```
func markAsFinished()
```

## [Discussion](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/markasfinished\(\)#Discussion)
Apps that monitor an input’s [`isReadyForMoreMediaData`](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/isreadyformoremediadata) value must call this method when they finish appending to it. This is necessary to prevent other inputs from stalling because they’re waiting on the input’s media data to complete the ideal interleaving pattern.
After calling this method from the serial queue passed to [`requestMediaDataWhenReady(on:using:)`](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/requestmediadatawhenready\(on:using:\)), the input issues no more invocations of the callback it passes to that method.
## [See Also](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/markasfinished\(\)#see-also)
### [Appending media samples](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/markasfinished\(\)#Appending-media-samples)
[`var expectsMediaDataInRealTime: Bool`](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/expectsmediadatainrealtime)
A Boolean value that indicates whether the input tailors its processing for real-time sources.
[`var isReadyForMoreMediaData: Bool`](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/isreadyformoremediadata)
A Boolean value that indicates whether the input is ready to accept media data.
[`func requestMediaDataWhenReady(on: dispatch_queue_t, using: () -> Void)`](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/requestmediadatawhenready\(on:using:\))
Tells the input to request media data, at its convenience, to write to the output file.
[`func append(CMSampleBuffer) -> Bool`](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/append\(_:\))
Appends a sample buffer to an input to write to the output file.
[`class SampleBufferReceiver`](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/samplebufferreceiver)
Provides an interface for writing sample buffers to an input.
[`class PixelBufferReceiver`](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/pixelbufferreceiver)
Provides an interface for writing pixel buffers to an input.
[`class TaggedPixelBufferGroupReceiver`](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/taggedpixelbuffergroupreceiver)
Provides an interface for writing tagged pixel buffers to an input.
[`class MetadataReceiver`](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/metadatareceiver)
Provides an interface for writing timed metadata groups to an input.
[`class CaptionReceiver`](https://developer.apple.com/documentation/avfoundation/avassetwriterinput/captionreceiver)
Provides an interface for writing caption data to an input.
Current page is markAsFinished() 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Favfoundation%2Favassetwriterinput%2Fmarkasfinished\(\)).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
