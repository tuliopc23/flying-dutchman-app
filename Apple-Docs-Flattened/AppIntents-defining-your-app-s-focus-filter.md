Source: https://developer.apple.com/documentation/appintents/defining-your-app-s-focus-filter

[ Skip Navigation ](https://developer.apple.com/documentation/appintents/defining-your-app-s-focus-filter#app-main)
  * [Global Nav Open Menu](https://developer.apple.com/documentation/appintents/defining-your-app-s-focus-filter#ac-gn-menustate)[Global Nav Close Menu](https://developer.apple.com/documentation/appintents/defining-your-app-s-focus-filter)
  * [Apple Developer](https://developer.apple.com/)


[ Search Developer Cancel  ](https://developer.apple.com/search/)
  * [Apple Developer](https://developer.apple.com/)
  * [News](https://developer.apple.com/news/)
  * [Discover](https://developer.apple.com/discover/)
  * [Design](https://developer.apple.com/design/)
  * [Develop](https://developer.apple.com/develop/)
  * [Distribute](https://developer.apple.com/distribute/)
  * [Support](https://developer.apple.com/support/)
  * [Account](https://developer.apple.com/account/)
  * [](https://developer.apple.com/search/)


Cancel 
Only search within “Documentation”
### Quick Links
  * [Downloads](https://developer.apple.com/download/)
  * [Documentation](https://developer.apple.com/documentation/)
  * [Sample Code](https://developer.apple.com/documentation/samplecode/)
  * [Videos](https://developer.apple.com/videos/)
  * [Forums](https://developer.apple.com/forums/)

5 Quick Links
[ Documentation ](https://developer.apple.com/documentation)
[ Open Menu ](https://developer.apple.com/documentation/appintents/defining-your-app-s-focus-filter)
  * SwiftLanguage: Swift


[](https://developer.apple.com/documentation/appintents/defining-your-app-s-focus-filter)
## [ App Intents  ](https://developer.apple.com/documentation/appintents)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
27 of 63 symbols inside <root>
Actions
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
18 of 63 symbols inside <root> containing 4 symbols[SnippetIntent](https://developer.apple.com/documentation/appintents/snippetintent)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
17 of 63 symbols inside <root> [Displaying static and interactive snippets](https://developer.apple.com/documentation/appintents/displaying-static-and-interactive-snippets)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
18 of 63 symbols inside <root> containing 4 symbols[SnippetIntent](https://developer.apple.com/documentation/appintents/snippetintent)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
19 of 63 symbols inside <root>
Other system experiences
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
20 of 63 symbols inside <root> [Making app entities available in Spotlight](https://developer.apple.com/documentation/appintents/making-app-entities-available-in-spotlight)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
21 of 63 symbols inside <root> containing 7 symbols[Focus](https://developer.apple.com/documentation/appintents/focus)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
1 of 7 symbols inside 115231988 
Focus filters
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
rP
2 of 7 symbols inside 115231988 containing 6 symbols[SetFocusFilterIntent](https://developer.apple.com/documentation/appintents/setfocusfilterintent)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
3 of 7 symbols inside 115231988 [Defining your app’s Focus filter](https://developer.apple.com/documentation/appintents/defining-your-app-s-focus-filter)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
4 of 7 symbols inside 115231988 containing 8 symbols[FocusFilterAppContext](https://developer.apple.com/documentation/appintents/focusfilterappcontext)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
S
5 of 7 symbols inside 115231988 [FocusFilterSuggestionContext](https://developer.apple.com/documentation/appintents/focusfiltersuggestioncontext)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
6 of 7 symbols inside 115231988 
Errors
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
E
7 of 7 symbols inside 115231988 containing 3 symbols[SetFocusFilterIntentError](https://developer.apple.com/documentation/appintents/setfocusfilterintenterror)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
22 of 63 symbols inside <root> containing 7 symbols[Action button on iPhone and Apple Watch](https://developer.apple.com/documentation/appintents/actionbutton)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
23 of 63 symbols inside <root> [Launching your voice-based conversational app from the side button of iPhone](https://developer.apple.com/documentation/appintents/launching-your-voice-based-conversational-app-from-the-side-button-of-iphone)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
24 of 63 symbols inside <root> [Developing a WidgetKit strategy](https://developer.apple.com/documentation/widgetkit/developing-a-widgetkit-strategy)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
25 of 63 symbols inside <root>
SiriKit migration
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
26 of 63 symbols inside <root> [Soup Chef with App Intents: Migrating custom intents](https://developer.apple.com/documentation/sirikit/soup-chef-with-app-intents-migrating-custom-intents)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
27 of 63 symbols inside <root>
Actions
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
28 of 63 symbols inside <root> containing 48 symbols[App intents](https://developer.apple.com/documentation/appintents/app-intents)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
29 of 63 symbols inside <root> containing 11 symbols[Intent discovery](https://developer.apple.com/documentation/appintents/intent-discovery)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
30 of 63 symbols inside <root> containing 30 symbols[App Shortcuts](https://developer.apple.com/documentation/appintents/app-shortcuts)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
31 of 63 symbols inside <root>
Parameters, custom data types, and queries
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
32 of 63 symbols inside <root> [Adding parameters to an app intent](https://developer.apple.com/documentation/appintents/adding-parameters-to-an-app-intent)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
33 of 63 symbols inside <root> [Integrating custom data types into your intents](https://developer.apple.com/documentation/appintents/integrating-custom-types-into-your-intents)
To navigate the symbols, press Up Arrow, Down Arrow, Left Arrow or Right Arrow 
Collection
34 of 63 symbols inside <root> containing 16 symbols[Parameter resolution](https://developer.apple.com/documentation/appintents/parameter-resolution)
70 items were found. Tab back to navigate through them. 
/ 
Navigator is ready 
  * [ App Intents ](https://developer.apple.com/documentation/appintents)
  * [ Focus ](https://developer.apple.com/documentation/appintents/focus)
  * [ Defining your app’s Focus filter ](https://developer.apple.com/documentation/appintents/defining-your-app-s-focus-filter)
  *     * [ Focus ](https://developer.apple.com/documentation/appintents/focus)
    * Defining your app’s Focus filter 


Sample Code
# Defining your app’s Focus filter
Customize your app’s behavior to reflect the device’s current Focus.
[ Download ](https://docs-assets.developer.apple.com/published/2ab5aa140eab/DefiningYourAppsFocusFilter.zip)
iOS 16.0+iPadOS 16.0+Xcode 14.0+
## [Overview](https://developer.apple.com/documentation/appintents/defining-your-app-s-focus-filter#Overview)
Use App Intents to define your app’s Focus filters, act on changes from the system, and filter notifications based on its parameters.
Note
This sample code project is associated with WWDC22 session 10121: [Meet Focus filters](https://developer.apple.com/wwdc22/10121).
### [Configure the sample code project](https://developer.apple.com/documentation/appintents/defining-your-app-s-focus-filter#Configure-the-sample-code-project)
Configure the iOS and App Intents extension targets to include your development team and a [bundle identifier](https://developer.apple.com/account/resources/identifiers/bundleId/). The bundle identifier needs to support the App Groups capability.
If you’re using a suite name other than _group.exampleChatApp_ , modify it in the following files: `Repository.swift`, `ExampleAppIntentsExtension.entitlements`, and `ExampleChatApp.entitlements`.
### [Create a Focus filter](https://developer.apple.com/documentation/appintents/defining-your-app-s-focus-filter#Create-a-Focus-filter)
After launching the sample app, create a Focus filter for it by choosing Settings > Focus > Do Not Disturb (or another Focus) > Add Filter > Example Chat App. Modify the filter parameters, and then tap the Add button. Turn on the modified Focus to receive those parameters in the sample app’s App Intents extension. The system calls the perform function of the object conforming to `SetFocusFilterIntent`, and all @Parameters are available in the Focus filter. When you turn off the modified Focus, the system provides the sample app’s `SetFocusFilterIntent` conforming object with the following default parameters:
  * `alwaysUseDarkMode: false`
  * `status: nil`
  * `account: nil`


### [Define Focus filter parameters](https://developer.apple.com/documentation/appintents/defining-your-app-s-focus-filter#Define-Focus-filter-parameters)
To define Focus filter parameters for an object that conforms to the `SetFocusFilterIntent` parameter, the sample project annotates the relevant variables with the `@Parameter` property wrapper. It provides a default value for nonoptional parameters unless the filter requires the system to prompt for this value each time it enables it.
```
struct ExampleFocusFilter: SetFocusFilterIntent {
    /// Providing a default value ensures setting this required Boolean value.
    @Parameter(title: "Use Dark Mode", default: false)
    var alwaysUseDarkMode: Bool


    @Parameter(title: "Status Message")
    var status: String?


    /// A representation of a chat account this app uses for notification filtering and suppression.
    /// The user receives suggestions from the suggestedEntities() function that AccountEntityQuery declares.
    @Parameter(title: "Selected Account")
    var account: AccountEntity?
}

```

### [Use custom parameters by adding app entity conformance](https://developer.apple.com/documentation/appintents/defining-your-app-s-focus-filter#Use-custom-parameters-by-adding-app-entity-conformance)
To use a custom object as a `SetFocusFilterIntent` parameter, the sample project adds `AppEntity` conformance to the object. In the example below, `AppEntity` conformance allows the system to use the `AccountEntity` object as a `SetFocusFilterIntent @Parameter`:
```
struct AccountEntity: AppEntity {
    static var typeDisplayRepresentation: TypeDisplayRepresentation {
        TypeDisplayRepresentation(name: "A chat account")
    }


    static var defaultQuery = AccountEntityQuery()


    let id: String
    let displayName: String
    let displaySubtitle: String
    let image: DisplayRepresentation.Image


    var displayRepresentation: DisplayRepresentation {
        DisplayRepresentation(title: "\(displayName) account",
                              subtitle: "\(displaySubtitle)",
                              image: image)
    }
}

```

### [Suggest app entities using entity queries](https://developer.apple.com/documentation/appintents/defining-your-app-s-focus-filter#Suggest-app-entities-using-entity-queries)
The sample project adds a default entity query to suggest values when configuring the Focus filter in Settings. In the example below, the `AccountEntityQuery` that `AccountEntity` uses suggests chat accounts that are currently logged in:
```
struct AccountEntityQuery: EntityQuery {
    func entities(for identifiers: [AccountEntity.ID]) async throws -> [AccountEntity] {
        Repository.shared.accountsLoggedIn.filter {
            identifiers.contains($0.id)
        }
    }


    func suggestedEntities() async throws -> [AccountEntity] {
        Repository.shared.accountsLoggedIn
    }
}

```

### [Filter notifications using the app context](https://developer.apple.com/documentation/appintents/defining-your-app-s-focus-filter#Filter-notifications-using-the-app-context)
To filter notifications with Focus filters, the sample project sets the `filterCriteria` parameter for the notifications, and then lets the system know whether to suppress them by providing a predicate that evaluates against `filterCriteria`. In the example below, the `FocusFilterAppContext appContext` variable returns a predicate that states: If there’s an account `@Parameter` for this filter, suppress the notification unless the `filterCriteria` matches the `account.id` value:
```
struct ExampleFocusFilter: SetFocusFilterIntent {
    var appContext: FocusFilterAppContext {
        logger.debug("App Context Called")
        let predicate: NSPredicate
        if let account = account {
            predicate = NSPredicate(format: "SELF IN %@", [account.id])
        } else {
            predicate = NSPredicate(value: true)
        }
        return FocusFilterAppContext(notificationFilterPredicate: predicate)
    }
}

```

### [Use an App Intents extension for background execution](https://developer.apple.com/documentation/appintents/defining-your-app-s-focus-filter#Use-an-App-Intents-extension-for-background-execution)
The sample project adds an App Intents extension to handle Focus filters while the app is in the background. It sets the target membership of the object conforming to `SetFocusFilterIntent` to the App Intents extension only, and uses App Groups, or custom services, to share filter data between the extension and the app.
## [See Also](https://developer.apple.com/documentation/appintents/defining-your-app-s-focus-filter#see-also)
### [Focus filters](https://developer.apple.com/documentation/appintents/defining-your-app-s-focus-filter#Focus-filters)
[`protocol SetFocusFilterIntent`](https://developer.apple.com/documentation/appintents/setfocusfilterintent)
An interface for providing an app intent that you use to adapt your app’s behavior when Focus changes.
[`struct FocusFilterAppContext`](https://developer.apple.com/documentation/appintents/focusfilterappcontext)
A type that contains app-specific contextual information for a particular Focus, such as the notification filter criteria to apply.
[`struct FocusFilterSuggestionContext`](https://developer.apple.com/documentation/appintents/focusfiltersuggestioncontext)
A type you use to suggest app configurations for a given Focus.
Current page is Defining your app’s Focus filter 
[Apple](https://www.apple.com)
  1. [Developer](https://developer.apple.com/)
  2. [ Documentation ](https://developer.apple.com/documentation/)


###  Platforms 
Toggle Menu 
  * [iOS](https://developer.apple.com/ios/)
  * [iPadOS](https://developer.apple.com/ipados/)
  * [macOS](https://developer.apple.com/macos/)
  * [tvOS](https://developer.apple.com/tvos/)
  * [visionOS](https://developer.apple.com/visionos/)
  * [watchOS](https://developer.apple.com/watchos/)


###  Tools 
Toggle Menu 
  * [Swift](https://developer.apple.com/swift/)
  * [SwiftUI](https://developer.apple.com/swiftui/)
  * [Swift Playground](https://developer.apple.com/swift-playground/)
  * [TestFlight](https://developer.apple.com/testflight/)
  * [Xcode](https://developer.apple.com/xcode/)
  * [Xcode Cloud](https://developer.apple.com/xcode-cloud/)
  * [SF Symbols](https://developer.apple.com/sf-symbols/)


###  Topics & Technologies 
Toggle Menu 
  * [Accessibility](https://developer.apple.com/accessibility/)
  * [Accessories](https://developer.apple.com/accessories/)
  * [App Extension](https://developer.apple.com/app-extensions/)
  * [App Store](https://developer.apple.com/app-store/)
  * [Audio & Video](https://developer.apple.com/audio/)
  * [Augmented Reality](https://developer.apple.com/augmented-reality/)
  * [Design](https://developer.apple.com/design/)
  * [Distribution](https://developer.apple.com/distribute/)
  * [Education](https://developer.apple.com/education/)
  * [Fonts](https://developer.apple.com/fonts/)
  * [Games](https://developer.apple.com/games/)
  * [Health & Fitness](https://developer.apple.com/health-fitness/)
  * [In-App Purchase](https://developer.apple.com/in-app-purchase/)
  * [Localization](https://developer.apple.com/localization/)
  * [Maps & Location](https://developer.apple.com/maps/)
  * [Machine Learning & AI](https://developer.apple.com/machine-learning/)
  * [Open Source](https://opensource.apple.com/)
  * [Security](https://developer.apple.com/security/)
  * [Safari & Web](https://developer.apple.com/safari/)


###  Resources 
Toggle Menu 
  *   * [Documentation](https://developer.apple.com/documentation/)
  * [Tutorials](https://developer.apple.com/learn/)
  * [Downloads](https://developer.apple.com/download/)
  * [Forums](https://developer.apple.com/forums/)
  * [Videos](https://developer.apple.com/videos/)


###  Support 
Toggle Menu 
  * [Support Articles](https://developer.apple.com/support/articles/)
  * [Contact Us](https://developer.apple.com/contact/)
  * [Bug Reporting](https://developer.apple.com/bug-reporting/)
  * [System Status](https://developer.apple.com/system-status/)


###  Account 
Toggle Menu 
  * [Apple Developer](https://developer.apple.com/account/)
  * [App Store Connect](https://appstoreconnect.apple.com/)
  * [Certificates, IDs, & Profiles](https://developer.apple.com/account/ios/certificate/)
  * [Feedback Assistant](https://feedbackassistant.apple.com/)


###  Programs 
Toggle Menu 
  * [Apple Developer Program](https://developer.apple.com/programs/)
  * [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
  * [App Store Small Business Program](https://developer.apple.com/app-store/small-business-program/)
  * [MFi Program](https://mfi.apple.com/)
  * [News Partner Program](https://developer.apple.com/programs/news-partner/)
  * [Video Partner Program](https://developer.apple.com/programs/video-partner/)
  * [Security Bounty Program](https://developer.apple.com/security-bounty/)
  * [Security Research Device Program](https://developer.apple.com/programs/security-research-device/)


###  Events 
Toggle Menu 
  * [Meet with Apple](https://developer.apple.com/events/)
  * [Apple Developer Centers](https://developer.apple.com/events/developer-centers/)
  * [App Store Awards](https://developer.apple.com/app-store/app-store-awards/)
  * [Apple Design Awards](https://developer.apple.com/design/awards/)
  * [Apple Developer Academies](https://developer.apple.com/academies/)
  * [WWDC](https://developer.apple.com/wwdc/)


To submit feedback on documentation, visit [Feedback Assistant](applefeedback://new?form_identifier=developertools.fba&answers%5B%3Aarea%5D=seedADC%3Adevpubs&answers%5B%3Adoc_type_req%5D=Technology%20Documentation&answers%5B%3Adocumentation_link_req%5D=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Fappintents%2Fdefining-your-app-s-focus-filter).
Select a color scheme preference
Light
Dark
Auto
Copyright © 2025 [Apple Inc.](https://www.apple.com) All rights reserved. 
[ Terms of Use ](https://www.apple.com/legal/internet-services/terms/site.html)[ Privacy Policy ](https://www.apple.com/legal/privacy/)[ Agreements and Guidelines ](https://developer.apple.com/support/terms/)
